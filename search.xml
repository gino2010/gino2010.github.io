<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Functional Interface]]></title>
    <url>%2F2021%2F06%2F07%2Finterface-function%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨é‡æ–°å­¦ä¹ Java Coreï¼Œçœ‹åˆ°Functional Interface. åšä¸ªå°æ€»ç»“ã€‚ ä½•ä¸ºFunctional Interfaceï¼Ÿ @FunctionalInterface å¯ä»¥çœ‹åˆ°å¾ˆå¤šè¿™æ ·çš„æ³¨è§£ï¼Œå…¶å®žæ³¨è§£åªæ˜¯æ ‡è¯†è€Œå·²ã€‚æœ¬è´¨æ˜¯Any interface with a SAM(Single Abstract Method) is a functional interface, æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•å®šä¹‰çš„æŽ¥å£å°±æ˜¯Functional Interfaceå®ƒå¸¸å¸¸åœ¨Lambdaè¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œæ— éœ€åŒ¿åç±»ï¼Œç›´æŽ¥å®žçŽ°æ–¹æ³•å®šä¹‰ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹å¸¸è§çš„Functional Interfaceï¼Œéƒ½å¼å¦‚ä½•ä½¿ç”¨çš„ å¸¸è§æŽ¥å£æ¯”è¾ƒ æŽ¥å£ æ–¹æ³• åŠŸèƒ½ Consumer accept ä¸€ä¸ªå…¥å‚ï¼Œæ— æ³•è¿”å›žç»“æžœ Function apply ä¸€ä¸ªå…¥å‚ï¼Œæœ‰è¿”å›žç»“æžœ Predicate test ä¸€ä¸ªå…¥å‚ï¼Œtrue or false è¿”å›žç»“æžœ Supplier get æ— å…¥å‚ï¼Œæœ‰è¿”å›žç»“æžœ Comparator compare ä¸€ä¸ªå…¥å‚ï¼Œæ­£æ•°ï¼Œ0ï¼Œè´Ÿæ•°è¿”å›žç»“æžœ æžç®€æ¼”ç¤º1234567891011121314Consumer&lt;String&gt; consumer = System.out::println;consumer.accept("consumer");Function&lt;String, String&gt; function = x -&gt; x + " gino";System.out.println(function.apply("Hello"));Predicate&lt;String&gt; predicate = x -&gt; x.equals("Gino");System.out.println(predicate.test("Gino"));Supplier&lt;String&gt; supplier = ()-&gt;"Supplier";System.out.println(supplier.get());Comparator&lt;String&gt; comparator = String::compareTo;System.out.println(comparator.compare("1", "2")); æ€è€ƒé¢˜æŸ¥çœ‹Comparator æºç ï¼Œä¸ºä»€ä¹ˆ Comparator æœ‰ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•å®šä¹‰ï¼Œä»–å´æ˜¯functional interfaceå‘¢ï¼Ÿæƒ³ä¸€æƒ³ï¼Œä½ ä¼šæ‰¾åˆ°ç­”æ¡ˆçš„ã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Code and Think]]></title>
    <url>%2F2021%2F06%2F04%2Fthink%2F</url>
    <content type="text"><![CDATA[ä½ ç†Ÿæ‚‰æ•°æ®ç»“æž„å’Œç®—æ³•å—ï¼Ÿä¸ªäººä»¥ä¸ºï¼šå¯¹äºŽå¤§å¤šæ•°ç¨‹åºå‘˜æˆ–è€…å¼€å‘å·¥ç¨‹å¸ˆç­”æ¡ˆéƒ½æ˜¯å¦å®šçš„å§ã€‚åœ¨æˆ‘è¯´å‡ºæ­¤è¯çš„åŒæ—¶ï¼Œä½ ä¹Ÿå¯ä»¥çŒœåˆ°æˆ‘æ­¤æ–¹é¢çš„èƒ½åŠ›äº†ã€‚ å…¶å®žï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå¯ä»¥ä¸“å¿ƒå†™ä»£ç ï¼Œè¿½æ±‚ä»£ç è´¨é‡çš„å·¥ç¨‹å¸ˆæ˜¯ä»¤äººç¾¡æ…•çš„ã€‚é‚£ä¸ªè¿‡ç¨‹å¦‚åŒè‰ºæœ¯å®¶åœ¨å®Œæˆè‡ªå·±å¿ƒçˆ±çš„ä½œå“ï¼›å¦‚åŒç§‘å­¦å®¶åœ¨ä¸“å¿ƒè®ºè¯è‡ªå·±çš„å‡è®¾ï¼Œå¦‚åŒä¸€ä½åŒ äººåœ¨è¿½æ±‚é‚£å‡¡äººæ— æ³•ä¼åŠçš„æŠ€è‰ºã€‚ ç„¶è€Œï¼ŒçŽ°å®žä¸­ä¸€ä½ITå·¥ç¨‹å¸ˆçš„å·¥ä½œä¸æ˜¯è¿™ä¹ˆâ€ç®€å•â€çš„ã€‚å¤šæ•°æƒ…å†µä¸‹æ¯æ—¥ä¹¦å†™ä»£ç æ—¶é—´ä¸ä¼šè¶…è¿‡4ä¸ªå°æ—¶ã€‚ä¸ºä½•å¦‚æ­¤ï¼ŒåŽŸå› å„æœ‰ä¸åŒï¼Œæˆ‘æƒ³ä¸å°‘äººä¼šæœ‰æ­¤é—®é¢˜ã€‚ å¿ƒæ€å½“æœ‰ä¸€å¤©ä½ å‘çŽ°ï¼Œçœ‹ç€æ‰‹ä¸­çš„å·¥ä½œï¼Œä½ æ‰€ç§¯ç´¯çš„ç»éªŒå’Œä½ æƒ³è±¡ä¸­çš„ç›®æ ‡æœ‰å·®è·æ—¶ï¼Œä½ ä¼šæ€Žä¹ˆåŠžï¼Ÿæˆ‘ä¼šé€‰æ‹©é¡ºå…¶è‡ªç„¶ï¼Œæ”¾ä¸‹ä¸€äº›æ‰§å¿µï¼Œåšå¥½å½“å‰è¯¥åšçš„äº‹æƒ…ï¼Œæ—¶ä¸æ—¶çš„äº«å—ä¸€ä¸‹ç”Ÿæ´»ï¼Œè¿™ä¸€åˆ‡ä¸æ˜¯æŒºå¥½å—ï¼Ÿ é‚£è¿˜è¦å°è¯•æ–°ä¸œè¥¿å’Œæ”¹å˜å—ï¼Ÿå½“ç„¶è¦ï¼Œä½†å¿ƒä¸­ä¸æ˜¯æƒ³ç€â€ä¸€å®šè¦æ€Žæ ·â€ï¼Œè€Œæ˜¯æ”¾å¹³å¿ƒæ€ã€‚å°è¯•ä¼šæœ‰ä¸¤ä¸ªç»“æžœï¼š è®©è‡ªå·±æ›´åŠ äº†è§£è‡ªå·±ï¼Œæ€è€ƒä»¥åŠå¯å‘ï¼Œæˆé•¿äºŽæ­¤è¿‡ç¨‹ä¸­ å‘çŽ°è‡ªå·±çš„ç§¯ç´¯è¿˜å¯ä»¥åšäº›å…¶ä»–äº‹æƒ…ï¼Œç»™è‡ªå·±ä¸€ä¸ªæ”¹å˜çš„æœºä¼šã€‚ è¿™ä¸ªè¿‡ç¨‹æœ‰äº›å¾®å¦™ï¼Œå¦‚åŒå¿ƒä¸­æ¹–æ°´å¹³å¦‚é•œæ—¶ï¼Œä¹Ÿä¼šæœ‰é‚£çªç„¶æ¶Ÿæ¼ªæ³›èµ·ä¸€åˆ»ï¼Œè€Œä½ ä¼šåŽ»æ¬£èµå’Œæ„Ÿå—ï¼Œç›´åˆ°å†æ­¤å¹³å¦‚é•œï¼Œçœ‹ç€é•œä¸­çš„è‡ªå·±æ›´åŠ æ¸…æ™°ã€‚ å¯èƒ½æœ‰äººä¼šè¯´ï¼Œä½ ä¸æŠ±ç€â€ä¸€å®šè¦æ€Žæ ·â€æ€åº¦åŽ»åšäº‹æƒ…ï¼Œä¸ä¼šæˆåŠŸã€‚æˆ‘ä¸åé©³ï¼Œä½†è¦æƒ³æ¸…æ¥šä½•ä¸ºæˆåŠŸã€‚ ç®€å•è¯´ï¼šæˆ‘æ„¿æ„ä¿æŒå¹³å¸¸å¿ƒåŽ»å°è¯•ä¸€äº›æœºä¼šï¼Œå¦‚æžœæ„Ÿè§‰è¿˜ä¸é”™å¯ä»¥æŠ•å…¥ä¸€äº›ç²¾åŠ›ï¼Œæ¯•ç«Ÿæƒ³æŠŠäº‹æƒ…åšçš„æœ‰ç‚¹æ¨¡æ ·ï¼ŒæŠ•å…¥è¿˜æ˜¯ä¸å¯å°‘çš„ã€‚ ä»£ç è¯´å›žCodeæˆ–è€…æ˜¯ä¸€æ®µprogramï¼Œæˆ‘å–œæ¬¢è¿™æ ·æè¿°å®ƒï¼Œå®ƒæ˜¯å¯¹ä¸€ç»„è§„åˆ™çš„æè¿°ã€‚äººç±»æœ‰å¾ˆå¤šè¯­è¨€ï¼Œè®¡ç®—æœºä¹Ÿæ˜¯å¦‚æ­¤ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œæ‰€æœ‰è¯­è¨€éƒ½å¯ä»¥ç”¨äºŽæè¿°æ‰€æœ‰äº‹ç‰©ï¼ˆæˆ–è§„åˆ™ï¼Œæˆ‘å–œæ¬¢æŠŠå‘¨å›´çš„ä¸€åˆ‡éƒ½çœ‹æˆâ€è§„åˆ™â€ è¿™ä¸ªè¯é¢˜ä»ŠåŽæœ‰æœºä¼šå„¿å†èŠï¼‰è€Œå­¦ä¹ ä¸€é—¨è®¡ç®—æœºè¯­è¨€ä¹Ÿå¦‚åŒå­¦ä¸€é—¨å¤–è¯­ä¸€æ ·ï¼Œä½ é€šå¸¸æŽŒæ¡çš„åªæ˜¯æè¿°äº‹ç‰©çš„è¡¨è¾¾æ–¹å¼ã€‚ é‚£æ•°æ®ç»“æž„å’Œç®—æ³•çš„æ™¦æ¶©éš¾æ‡‚ï¼Œåˆæ˜¯ä¸€ä¸ªä»€ä¹ˆæ„Ÿè§‰ã€‚å…¶å¦‚åŒä½ å­¦ä¹ äº†è‹±è¯­ï¼Œå¯ä»¥ç”¨äºŽæ—¥å¸¸æ²Ÿé€šã€‚çªç„¶æœ‰ä¸€å¤©ï¼Œåœ¨æ³•å¾‹åœºæ™¯ä¸‹ï¼Œä½ éœ€è¦ç”¨æ³•å¾‹ä¸“ä¸šæŽªè¾žæè¿°ä¸€ä¸ªåœºæ™¯ã€‚æ²¡é”™ï¼Œå°±æ˜¯è¿™æ ·ä¸€ä¸ªæ„Ÿè§‰ï¼Œä½ éœ€è¦ç†Ÿæ‚‰å¾ˆå¤šä¸“ä¸šè¯æ±‡ï¼Œæœ¯è¯­ï¼Œå¦‚åŒæ•°æ®ç»“æž„ï¼›ä½ éœ€è¦æžæ˜Žç™½æ³•å¾‹ç›¸å…³åŸºæœ¬è§„åˆ™å’Œæ€ç»´é€»è¾‘ï¼Œå¦‚åŒç®—æ³•ã€‚æ‰€ä»¥ä¸€æ—¶æœ‰ç‚¹è’™ä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„ã€‚é¢å¯¹è¿™æ ·çš„åœºæ™¯ï¼Œè¿™æ—¶ä½ æœ‰ä¸€ä¸ªä¸»åŠ¨é—®é¢˜ï¼Œä½ æƒ³åšå—ï¼Ÿ è¿˜æœ‰ä¸€ä¸ªè¢«åŠ¨é—®é¢˜ï¼Œæœ‰æœºä¼šåšå—ï¼Ÿ æ­¤æ—¶ä¸å¾—ä¸æ‰¿è®¤ï¼Œå¦‚æžœä½ æœ‰ç›¸å…³ç»éªŒçš„ç§¯ç´¯ï¼Œä½ èŽ·å¾—æ­¤æ¬¡æœºä¼šçš„æ¦‚çŽ‡ä¼šé«˜ä¸€äº›ã€‚æ¯•ç«Ÿä½ ä¸€çœ¼çœ‹åŽ»ä¼šå¾ˆå¿«æ‡‚å¾—ç›¸å…³çš„æ•°æ®ç»“æž„å’Œç®—æ³•çš„è®¾è®¡æ„å›¾å’Œç›®çš„ã€‚å¦‚æžœä½ æ²¡æœ‰ï¼Œä½ å¯èƒ½å¾ˆé•¿æ—¶é—´éƒ½æ— æ³•ç†è§£å…¶æƒ³è¡¨è¾¾çš„æœ¬æ„ï¼Œä¹Ÿå°±æ— ä»Žä¸‹æ‰‹æè¿°å…·ä½“è§„åˆ™ç»†èŠ‚äº†ã€‚æ­¤æ—¶ä½ çš„â€æƒ³åšâ€å¯èƒ½å°±å˜å¾—å¾®ä¹Žå…¶å¾®äº†ã€‚ æ­¤æ—¶å›žåˆ°æœ€åˆçš„è¯é¢˜ï¼Œå¿ƒç»ˆä¼šå¹³é™ï¼Œå¦‚æžœè¿˜æƒ³ï¼Œé‚£å°±æŠ•å…¥ä¸€äº›ç²¾åŠ›ã€‚å¦‚æžœæŽ¥å—çŽ°çŠ¶ï¼Œé‚£å°±æ”¾ä¸‹ã€‚æ­¤æ—¶æˆ‘æ›´æ„¿æ„æ”¾å¹³å¿ƒæ€åšä¸€äº›äº‹æƒ…ï¼Œå¹³è¡¡ç”Ÿæ´»å’Œå·¥ä½œï¼Œå¹³è¡¡å…´è¶£å’Œä¸“ä¸šã€‚ä¿æŒå­¦ä¹ å¿ƒæ€ ä¸‹é¢è¯´ç‚¹å®žé™…çš„å§ï¼Œæœ€è¿‘é‡åˆ°çš„ä¸€äº›æœ‰è¶£çš„ç¨‹åºã€‚æœ¬äººå¹³æ—¶å·¥ä½œä¸­å¾ˆå°‘é‡åˆ°æ­¤ç±»åœºæ™¯ï¼Œå¶å°”é‡åˆ°å€¼å¾—æ·±å…¥ä¸€ä¸‹ æ•°æ®ç»“æž„è¿™ä¸ªé—®é¢˜å®žé™…ä¸Šæˆ‘è‡³ä»Šæ²¡æœ‰æžæ¸…æ¥šï¼Œæ²¡æœ‰æ¸…æ¥šçš„éƒ¨åˆ†æ˜¯æ­¤ç»“æž„ä½¿ç”¨çš„åœºæ™¯å’Œå­˜åœ¨çš„æ„ä¹‰ï¼ˆè¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼‰ã€‚ æž„å»ºæ­¤ç»“æž„æ˜¯åŸºäºŽä¸€ä¸ªä»£ç è¯´æ˜Žæ–‡æ¡£ï¼ˆéžJavaè¯­è¨€ï¼‰å®žçŽ°çš„ï¼Œæ‰€ä»¥åªæœ‰çŒœæµ‹ç€å†™äº†ã€‚å°±åƒæˆ‘ä¹‹å‰æ‰€è¯´ï¼Œå¦‚æžœä½ æ²¡æœ‰ç›¸å…³ç»éªŒï¼Œå¯èƒ½ä¸€æ—¶é—´æ— æ³•ç†è§£å…¶çœŸå®žæ„ä¹‰ï¼Œæž„å»ºå…·ä½“é€»è¾‘ä¹Ÿå°±å˜å¾—å›°éš¾äº† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107package com.gino;import java.util.ArrayList;import java.util.Collections;import java.util.List;import java.util.Map;import java.util.function.Function;import java.util.stream.Collectors;import java.util.stream.IntStream;public class MyEither&lt;L, R&gt; &#123; private List&lt;L&gt; left = new ArrayList&lt;&gt;(); private List&lt;R&gt; right = new ArrayList&lt;&gt;(); private final Class&lt;L&gt; leftClass; private final Class&lt;R&gt; rightClass; public MyEither(Class&lt;L&gt; leftClass, Class&lt;R&gt; rightClass) &#123; this.leftClass = leftClass; this.rightClass = rightClass; &#125; public boolean hasLeft() &#123; return this.left.size() != 0; &#125; public boolean hasRight() &#123; return this.right.size() != 0; &#125; public boolean isLeft(L value) &#123; return this.left.contains(value); &#125; public boolean isRight(R value) &#123; return this.right.contains(value); &#125; public L fromLeft() &#123; if (hasLeft()) &#123; L l = left.get(0); left.remove(0); return l; &#125; else &#123; return null; &#125; &#125; public R fromRight() &#123; if (hasRight()) &#123; R r = right.get(0); right.remove(0); return r; &#125; else &#123; return null; &#125; &#125; public void put(Object value) &#123; if (this.leftClass.isInstance(value)) &#123; this.left.add((L) value); &#125; else if (this.rightClass.isInstance(value)) &#123; this.right.add((R) value); &#125; else &#123; throw new ClassCastException(); &#125; &#125; public List&lt;L&gt; getLefts(Function&lt;List&lt;L&gt;, List&lt;L&gt;&gt; fun) &#123; return fun.apply(this.left); &#125; public List&lt;R&gt; getRights(Function&lt;List&lt;R&gt;, List&lt;R&gt;&gt; fun) &#123; return fun.apply(this.right); &#125; public Map&lt;L, R&gt; map() &#123; int i = Math.max(left.size(), right.size()); return IntStream.range(0, i).boxed() .collect(Collectors.toMap(index -&gt; index &gt; left.size() - 1 ? null : left.get(index), index -&gt; index &gt; right.size() - 1 ? null : right.get(index))); &#125; public static void main(String[] args) &#123; MyEither&lt;String, Double&gt; myEither = new MyEither&lt;&gt;(String.class, Double.class); myEither.put(10D); myEither.put("test"); myEither.put(101D); myEither.put(102D); System.out.println(myEither.hasLeft()); System.out.println(myEither.isLeft("test")); System.out.println(myEither.getLefts(x -&gt; x.stream().map(String::toUpperCase).collect(Collectors.toList()))); System.out.println(myEither.hasRight()); System.out.println(myEither.isRight(10D)); System.out.println(myEither.getRights(x -&gt; x.stream().map(v -&gt; v / 100D).collect(Collectors.toList()))); System.out.println(Collections.singletonList(myEither.map())); // negative case try &#123; myEither.put(10); &#125; catch (Exception e) &#123; System.out.println("wrong type"); &#125; &#125;&#125; ç»“æž„é˜è¿° å·¦å³ä¸¤ä¸ªå…ƒç´ ï¼Œç±»åž‹ä¸åŒï¼Œæœ€åˆå®žçŽ°åªæ˜¯å•å…ƒç´ ï¼Œçœ‹åˆ°æ–‡æ¡£ä¸­æœ‰èŽ·å–å·¦å³å…ƒç´ çš„listç±»åž‹è¿”å›žï¼Œä¿®æ”¹ä¸ºlistç±»åž‹å·¦å³å…ƒç´  æ ¹æ®ä¸åŒç±»åž‹æ”¾ç½®åˆ°å·¦å³ä¸¤è¾¹ mapè½¬åŒ–æ˜¯æœ‰é—®é¢˜çš„ï¼Œå½“å³å…ƒç´ é•¿åº¦æ¯”å·¦å…ƒç´ é•¿åº¦å¤š2åŠä»¥ä¸Šæ—¶ï¼Œmapè½¬æ¢æ˜¯æœ‰é—®é¢˜çš„ã€‚ ç”±äºŽä¸äº†è§£å…¶ä½¿ç”¨åœºæ™¯ï¼Œæ‰€ä»¥æ€»æ˜¯æ„Ÿè§‰å…¶å­˜åœ¨ä»·å€¼ä¸å¤§ï¼Œä¸ºä½•ä¸ç”¨ç›´æŽ¥ç”¨Mapå¤„ç†å‘¢ï¼Ÿ å†™æ­¤ç»“æž„æ—¶è¿˜æ˜¯é”»ç‚¼ä¸€ä¸‹JavaåŸºç¡€ï¼Œæœ‰æ”¶èŽ·çš„ ç®—æ³•ç»å…¸ç®—æ³•é¢˜ï¼Œç¡¬å¸é—®é¢˜ï¼Œéžè´ªå©ªç®—æ³• é¢˜ç›®æè¿°ï¼šå¦‚æœ‰ä½ æ‰‹é‡Œæœ‰é¢å€¼ä¸º1ï¼Œ7ï¼Œ10çš„è´§å¸ï¼ˆä¹Ÿå¯è®¾å®šä¸ºå…¶å®ƒç»„åˆï¼‰ï¼Œæ•°é‡å……è¶³ã€‚çŽ°ç»™å‡ºä¸€ä¸ªå…·ä½“é‡‘é¢ï¼Œä½ å¦‚ä½•æ‰¾åˆ°è´§å¸ä¸ªæ•°æœ€å°çš„ç»„åˆ åºŸè¯ä¸å¤šè¯´ï¼Œç›´æŽ¥ä¸Šç­”æ¡ˆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445package com.gino;import java.util.*;import java.util.stream.Collectors;public class Coin &#123; public static List&lt;List&lt;Integer&gt;&gt; solutions = new ArrayList&lt;&gt;(); public int count(List&lt;Integer&gt; coins, int num, int charge, List&lt;Integer&gt; solution) &#123; if (charge == 0) &#123; solutions.add(solution); return 1; &#125; if (charge &lt; 0) &#123; return 0; &#125; if (num &lt;= 0 &amp;&amp; charge &gt;= 1) &#123; return 0; &#125; List&lt;Integer&gt; copy = solution.size() == 0 ? solution : new ArrayList&lt;&gt;(solution); solution.add(coins.get(num - 1)); return count(coins, num - 1, charge, copy) + count(coins, num, charge - coins.get(num - 1), solution); &#125; public static void main(String[] args) &#123; System.out.print("Enter your charge: "); Scanner scanner = new Scanner(System.in); int charge = scanner.nextInt(); Coin coin = new Coin(); List&lt;Integer&gt; coins = Arrays.asList(1, 7, 10); System.out.println(coin.count(coins, coins.size(), charge, new ArrayList&lt;&gt;())); System.out.println(Arrays.toString(solutions.toArray())); List&lt;Integer&gt; min = solutions.stream().min(Comparator.comparingInt(List::size)).orElse(new ArrayList&lt;&gt;()); System.out.println(Arrays.toString(min.toArray())); List&lt;List&lt;Integer&gt;&gt; collect = solutions.stream().min(Comparator.comparingInt(List::size)).stream().collect(Collectors.toList()); System.out.println(Arrays.toString(collect.toArray())); System.out.println(solutions.stream().mapToInt(List::size).min().orElse(0)); &#125;&#125; æˆ‘ç»™å‡ºçš„è§£å†³æ–¹æ³•æ˜¯å…¶ä¸­ä¸€ç§ï¼ŒéžåŠ¨æ€è§„åˆ’ï¼ˆè¯´å®žè¯ï¼Œé‚£ç§æˆ‘æ²¡æœ‰çœ‹æ‡‚ï¼‰æ­¤è§£é¢˜æ€è·¯è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ï¼Œä½¿ç”¨é€’å½’ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ï¼šåœ¨å°è¯•è·¯å¾„ä¸­ï¼Œè¦ä¹ˆé’±å‡å°‘ï¼Œè¦ä¹ˆè´§å¸ç§ç±»å‡å°‘ï¼Œåˆ—ä¸¾æ‰€æœ‰ç»„åˆå¯èƒ½æ€§ï¼ŒèŽ·å¾—æœ€ç»ˆç»“æžœ ç¨‹åºè¾“å‡ºäº†æ‰€æœ‰ç»„åˆçš„å¯èƒ½æ€§ï¼Œä»¥åŠå¯»æ‰¾åˆ°æœ€ä¼˜è§£ã€‚æ„Ÿè§‰è¿™ä¸ªè§£é¢˜æ€è·¯å’Œç¿æ™ºï¼Œæ€è·¯æ¥è‡ªäºŽç½‘ç»œã€‚æ”¶èŽ·ï¼š è§£é¢˜è¿‡ç¨‹çš„æ€è€ƒï¼Œå¾ˆæœ‰æ„æ€ Streamçš„å®žé™…åœºæ™¯ä½¿ç”¨ ç®€å•åº”ç”¨ä¸€ä¸ªå®žé™…åœºæ™¯åº”ç”¨ï¼Œå…¶å®žä¹Ÿæ˜¯æ•°æ®ç»“æž„é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªä½¿ç”¨åœºæ™¯æ˜Žç¡®ï¼Œæ‰€ä»¥å®¹æ˜“æ¸…æ™°å®žçŽ°æ€è·¯ ä¸»è¦æ€æƒ³ï¼Œå¯»æ‰¾æœ€è¿‘æ±‡çŽ‡æ•°æ®ï¼Œæˆ–ç»™å®šæœç´¢æ—¥æœŸï¼ŒæŸ¥è¯¢å½“æ—¥æœ€æ–°çš„æ±‡çŽ‡æ•°æ®ã€‚ä¸å¤šè§£é‡Šäº†ï¼Œä»£ç å¾ˆå®¹æ‡‚ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768package com.gino;import java.time.LocalDate;import java.time.LocalDateTime;import java.util.*;public class FxRate &#123; class Item &#123; LocalDate localDate; String assetName; Double value; LocalDateTime localDateTime; public Item(LocalDate localDate, String assetName, Double value, LocalDateTime localDateTime) &#123; this.localDate = localDate; this.assetName = assetName; this.value = value; this.localDateTime = localDateTime; &#125; public LocalDateTime getLocalDateTime() &#123; return this.localDateTime; &#125; &#125; List&lt;Item&gt; cacheList = new ArrayList&lt;&gt;(); public Map&lt;String, Double&gt; getData(LocalDate localDate, List&lt;String&gt; assetNameList, Optional&lt;LocalDateTime&gt; localDateTime) &#123; HashMap&lt;String, Double&gt; result = new HashMap&lt;&gt;(); if (localDateTime.isEmpty()) &#123; for (String assetName : assetNameList) &#123; Item item = cacheList.stream().filter(x -&gt; assetName.equals(x.assetName)).filter(x -&gt; localDate.equals(x.localDate)).max(Comparator.comparing(Item::getLocalDateTime)).orElse(null); result.put(assetName, item.value); &#125; return result; &#125; else &#123; for (String assetName : assetNameList) &#123; Item item = cacheList.stream().filter(x -&gt; assetName.equals(x.assetName)).filter(x -&gt; localDate.equals(x.localDate)).filter(x -&gt; !localDateTime.get().isBefore(x.localDateTime)).max(Comparator.comparing(Item::getLocalDateTime)).orElse(null); result.put(assetName, item.value); &#125; return result; &#125; &#125; public void addData(LocalDate localDate, String assetName, Double value, LocalDateTime localDateTime) &#123; cacheList.add(new Item(localDate, assetName, value, localDateTime)); &#125; public static void main(String[] args) &#123; FxRate fxRate = new FxRate(); fxRate.addData(LocalDate.of(2020, 4, 1), "USDSGD", 1.33, LocalDateTime.of(2020, 4, 1, 10, 40)); fxRate.addData(LocalDate.of(2020, 4, 1), "USDAUD", 1.29, LocalDateTime.of(2020, 4, 1, 10, 40)); fxRate.addData(LocalDate.of(2020, 4, 1), "USDSGD", 1.34, LocalDateTime.of(2020, 4, 1, 14, 30)); fxRate.addData(LocalDate.of(2020, 4, 1), "USDAUD", 1.28, LocalDateTime.of(2020, 4, 1, 14, 30)); fxRate.addData(LocalDate.of(2020, 4, 2), "USDSGD", 1.31, LocalDateTime.of(2020, 4, 2, 8, 40)); fxRate.addData(LocalDate.of(2020, 4, 2), "USDAUD", 1.30, LocalDateTime.of(2020, 4, 2, 8, 40)); fxRate.addData(LocalDate.of(2020, 4, 2), "USDSGD", 1.29, LocalDateTime.of(2020, 4, 2, 14, 30)); fxRate.addData(LocalDate.of(2020, 4, 2), "USDAUD", 1.32, LocalDateTime.of(2020, 4, 2, 14, 30)); List&lt;String&gt; assetNameList = Arrays.asList("USDSGD", "USDAUD"); Map&lt;String, Double&gt; result = fxRate.getData(LocalDate.of(2020, 4, 1), assetNameList, Optional.empty()); System.out.println(Collections.singletonList(result)); result = fxRate.getData(LocalDate.of(2020, 4, 1), assetNameList, Optional.of(LocalDateTime.of(2020, 4, 1, 14, 20))); System.out.println(Arrays.asList(result)); &#125;&#125; å…¶å®žä»£ç è¿˜æœ‰â€ä¼˜åŒ–â€ç©ºé—´ï¼Œè¿˜å¯ä»¥æŠŠæ–¹æ³•ç»§ç»­ç®€åŒ–ï¼Œä½†æ˜¯ç‚«æŠ€ã€ä»£ç å¯è¯»æ€§ã€ä»£ç æ€§èƒ½è¿˜æ˜¯è¦å¹³è¡¡ä¸€ä¸‹çš„ï¼Œæˆ‘è§‰æ­¤çŠ¶æ€å·²ç»ä¸é”™äº†ã€‚ä»£ç å†™çš„å¤ªå¤æ‚ï¼Œè¿‡åŽè‡ªå·±è¯»èµ·æ¥ä¹Ÿæ˜¯ç—›è‹¦çš„ã€‚æ”¶èŽ·ï¼š ä¸€ä¸ªå®žé™…é—®é¢˜è§£å†³çš„æ€è€ƒè¿‡ç¨‹ Optional å’Œ Streamçš„ä½¿ç”¨ï¼Œæ­¤ç±»å¤„ç†å¯ä»¥ä½¿ç”¨parallelStreamå“¦ æˆ‘çœŸçš„æ˜¯è®°å¿†ä¸å¥½ï¼Œå¾ˆå¤šæ–¹æ³•è°ƒç”¨è¿˜éœ€è¦åŽ»æŸ¥ï¼Œè¿˜æ˜¯ç”¨çš„å¤ªå°‘ï¼Œå¦‚æžœå¤©å¤©å†™ä¹Ÿå½¢æˆâ€è‚Œè‚‰è®°å¿†â€äº† æ€»ç»“å†è¯´å‡ å¥ç›¸å…³æ„Ÿå—ï¼Œæœ€è¿‘åœ¨ç»™å›¢é˜Ÿé¢è¯•å€™é€‰äººï¼Œä¸çŸ¥é“å„ä½å¯¹çŽ°åœ¨çš„é¢è¯•ä»€ä¹ˆæ„Ÿè§‰ï¼Ÿæˆ‘çš„æ˜¯ï¼š é¢è¯•éš¾åº¦å¾€å¾€å¤§äºŽå®žé™…å·¥ä½œéš¾åº¦ï¼Œæˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œé—®äº†ä¸€äº›è¶…å‡ºå®žé™…å·¥ä½œçš„é—®é¢˜ åº”è¯•èˆ¬çš„å‡†å¤‡ä¸€äº›é—®é¢˜ï¼Œâ€å¥—è·¯â€å¼çš„é—®ä¸Žç­”ï¼Œæ˜¯å¦çœŸçš„å¯ä»¥è§£å†³ä»ŠåŽçš„é—®é¢˜ä¸çŸ¥é“ã€‚ï¼ˆå¤§åŽ‚å¸¦å‡ºçš„é£Žæ ¼ï¼Œä½ ä¸åˆ·é¢˜ï¼Œéƒ½ä¸å¥½æ„æ€å‚åŠ é¢è¯•ï¼‰ â€œå®¢è§‚â€è€ƒå¯ŸæŠ€æœ¯ï¼Œå¿½ç•¥â€äººæ ¼â€å±žæ€§ã€‚æ»¡è¶³åŸºæœ¬æ¡ä»¶æ—¶ï¼Œèƒ½åšä¸Žæƒ³åšï¼Œä½ è¦é‚£ä¸€ä¸ªï¼Ÿé¢è¯•å¾€å¾€æ— æ³•å……åˆ†äº†è§£ä¸€ä¸ªäºº è¿™æ ·çš„é¢è¯•æœ‰é—®é¢˜ï¼Ÿæœ‰ç‚¹é—®é¢˜ï¼Œä½†æ˜¯æ— æ³•é¿å…ï¼Œå› ä¸ºä½ éœ€è¦åœ¨çŸ­æ—¶é—´åŸºäºŽæ ‡å‡†å†…é‡åŒ–ï¼Œè¯„å®šä¸€ä¸ªå€™é€‰äººå°±ä¸å¯é¿å…ã€‚å¦‚æžœæˆ‘ä»ŠåŽé‡åˆ°æ­¤ç±»é—®é¢˜ï¼Œæˆ‘åº”è¯¥éƒ½åˆ·åˆ·leetcodeç„¶åŽå†åŽ»é¢è¯•å—ï¼Ÿé¡ºå…¶è‡ªç„¶å§ï½ž å“ˆå“ˆï½ž ä¸ªäººè§‚ç‚¹ï¼Œæ¬¢è¿Žäº¤æµï¼Œä¸å¿…â€è®¤çœŸâ€ï¼Œä¸€åˆ‡éšç¼˜ã€‚ é¢˜å¤–è¯æœ€è¿‘åœ¨æ€è€ƒå­¦ä¹ ã€æŠ•èµ„ã€ç”Ÿæ´»ã€å­©å­æ•™è‚²ç­‰é—®é¢˜ï¼Œå››åä¸æƒ‘ï¼Œå¿ƒæ€ä¹Ÿåœ¨å‘ç”Ÿç€ç»†å°çš„å˜åŒ–ï¼Œçœ¼å…‰éœ€è¦æ”¾è¿œäº›äº†ã€‚ ä¸Šå‘¨æœ«å‚åŠ äº† PMP å’Œ MBA ä¸¤ä¸ªæ´»åŠ¨ï¼Œå¤šå’Œäººäº¤æµæ„Ÿè§‰è¿˜ä¸é”™çš„ã€‚è€å¸ˆä¹Ÿåœ¨è¯´ï¼Œå¤§å®¶éƒ½æ˜¯æœ‰é‚£ä¹ˆä¸€è‚¡æ‹¼åŠ²æ‰€ä»¥æ‰ä¼šèšåˆ°ä¸€èµ·ã€‚æˆ‘çŽ°åœ¨æ›´æƒ³æŠŠè¿™è‚¡åŠ²ä½¿åˆ°æ›´æœ‰â€ä»·å€¼â€çš„ç‚¹ä¸Šï¼Œè¿™æ˜¯æˆ‘ç›®å‰çš„éœ€æ±‚ã€‚ä¸€ä¸¤å¥æ— æ³•è¯´æ¸…ï¼Œæœ‰æœºä¼šä»¥åŽå†è¯´å§ã€‚ æ”¶ï½žï½žï½ž]]></content>
      <categories>
        <category>tech</category>
        <category>note</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>life</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Niu Year]]></title>
    <url>%2F2021%2F02%2F21%2FYear%2F</url>
    <content type="text"><![CDATA[æ–°å¹´æ–°æ°”è±¡ï¼Œä»Šå¹´ä¸€å¼€å§‹å°±æœ‰å¾ˆå¤šæ–°æŒ‘æˆ˜ï¼Œå·¥ä½œã€ç”Ÿæ´»çš†æœ‰ä¹‹ã€‚ ç‰›å¹´ï¼Œå¸Œæœ›ä¸€åˆ‡é¡ºåˆ©å§ã€‚ é¢ï½žï½ž2020æˆ‘ä¸€å¹´å•¥ä¹Ÿæ²¡å†™ï¼Œå¿™ç³Šæ¶‚äº†ï¼Œå“ˆå“ˆ Openwrt å…¥å‘ä»Šå¹´ä¸€å¼€å§‹å°±æŠ˜è…¾è¿™ä¸ªä¸œè¥¿ï¼Œå…¥æ‰‹ä¸€ä¸ªR4Sï¼Œç…§çŒ«ç”»è™Žçš„è‡ªå·±ç¼–è¯‘äº†å›ºä»¶ã€‚ å­¦åˆ°ä¸å°‘ï¼Œä¹Ÿæ„Ÿè§‰æµªè´¹ä¸å°‘æ—¶é—´ï¼Œè¿‡å¹´è¿™å‡ å¤©å¤©å¤©å®žéªŒå›ºä»¶ï¼ŒåŸºæœ¬ä¸Šå•¥æ­£äº‹ä¹Ÿæ²¡å¹² å¥½å§ï¼ŒçŽ°åœ¨åŸºæœ¬è¾¾åˆ°äº†æˆ‘çš„ä½¿ç”¨é¢„æœŸï¼Œæˆ‘å°±å…ˆæ”¾æ”¾å§ã€‚ Agile Squadå…¬å¸å¼€å§‹å®žè¡Œæ–°ä¸€è½®çš„re-orgï¼Œæ‰“ä¹±å½“å‰åˆ†ç»„åŽ»æŽ¨è¡Œæ–°çš„é¡¹ç›®å¼€å‘æ–¹å¼ï¼Œå°†agileæŽ¨å‘ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚ æˆ‘ä¹Ÿå€Ÿæ­¤åŠ å…¥äº†ä¸€ä¸ªæ–°çš„å°é˜Ÿï¼ŒåŽ»å®Œæˆä¸€ä¸ªå¤§çš„é¡¹ç›®ã€‚ç®€å•è¯´ç›®å‰æ„Ÿè§‰è¿˜ä¸é”™ï¼Œè¿‘ä¸€æ®µæ—¶é—´å¯ä»¥æ¯”è¾ƒä¸“æ³¨çš„åšä»¶äº‹æƒ…äº† è€Œå…¬å¸çš„releaseæµç¨‹å˜å¾—åŽŸæ¥è¶Šå¤æ‚äº†ï¼Œå…·ä½“ç»†èŠ‚ç•¥è¿‡ã€‚ Agileçš„å¼€å‘å’Œå¤æ‚çš„releaseï¼Œé¢ï½žï½žï½ž ä¸­é—´çš„CI/CDï¼Œå•¥æ—¶å¯ä»¥è§£å†³è¿™äº›é—®é¢˜ Graphql &amp; AWSæœ€è¿‘å¼€å§‹å…¨é¢ä½¿ç”¨ Graphql åœ¨æ–°çš„é¡¹ç›®ä¸Šï¼ŒåŒæ—¶å¼€å§‹ç†Ÿæ‚‰AWSç›¸å…³çŸ¥è¯† ç»§OCPè¿ç§»ä¹‹åŽï¼Œäº‘æ­¥ä¼ç»§ç»­å‰è¡Œï¼Œä¸‹ä¸€ç«™AWS ç»“æŸè¯­æˆ‘æƒ³èµšæ›´å¤šé’±ï¼Œä¸ºäº†ä»ŠåŽå…»è€ã€‚å‘µå‘µï½žï½žï½ž è™½ç„¶ä¿—æ°”ï¼Œä½†æ˜¯çœŸå®žï½ž]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>life</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Go]]></title>
    <url>%2F2019%2F12%2F27%2FGo%2F</url>
    <content type="text"><![CDATA[ç®€å•è¯´ï¼Œåˆå¥½ä¹…æ²¡æœ‰æ›´æ–°äº†ï¼Œè²Œä¼¼â€æ­»â€äº†ä¸€èˆ¬ï¼Œ2019çœ¼çž…å°±è¦è¿‡åŽ»äº†ï¼Œä¸å‡ºæ„å¤–çš„å‘çŽ°è‡ªå·±è²Œä¼¼ä»€ä¹ˆéƒ½æ²¡å¹²ã€‚ è¨€å½’æ­£ä¼ ï¼Œæœ€è¿‘å†æ¬¡æ”¾å‡ï¼Œåˆ©ç”¨ä¸€äº›æ—¶é—´æŠŠGoè¯­è¨€å­¦ä¹ ä¸€ä¸‹ï¼Œè¿™ä¸ªflagå·²ç»ç«‹äº†ä¸€å¹´äº†ï¼Œæ‰å¼€å§‹åˆè§è¡ŒåŠ¨ï¼Œæƒ­æ„§ã€‚ å­¦ä¹ æ–¹æ³•æžå®¢æ—¶é—´ Goè¯­è¨€æ•™ç¨‹ å’Œ Goå®˜æ–¹touræ•™ç¨‹ä¸ªäººæ„Ÿè§‰å¿«é€Ÿå­¦ä¹ åŸºç¡€åªæ˜¯è¿˜æ˜¯å®˜æ–¹æ•™ç¨‹æ›´æœ‰æ•ˆä¸€äº›ï¼Œå¦‚åŒå½“å¹´å­¦ä¹ Pythonä¸€æ ·ï¼Œå®˜æ–¹æ•™ç¨‹è¿˜æ˜¯ç›´æŽ¥ä¸€äº›ã€‚ æˆ‘çš„å‘çŽ°åˆ—å‡ºå‡ ä¸ªä¸ªäººè®¤ä¸ºçš„Goè¯­è¨€ç‰¹ç‚¹ï¼Œä¹Ÿæ˜¯æ€»ç»“ï¼Œå¸®åŠ©è‡ªå·±å’Œä»–äººæ›´å¥½çš„ç†è§£Goè¯­è¨€ ç±»åž‹ä½ç½®åŽç§»ï¼Œä¾‹å¦‚å˜é‡ï¼Œæ–¹æ³•è¿”å›žå€¼ç±»åž‹ï¼Œä¸Žå¸¸è§è¯­è¨€ç›¸æ¯”ï¼Œç±»åž‹çš„ä½ç½®éƒ½åŽç§»äº† 1var i int åˆ‡ç‰‡ï¼ˆsliceï¼‰éœ€è¦è®¤çœŸç†è§£ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç»“æž„ï¼Œåº•å±‚ç›´æŽ¥æ“æŽ§ä¸å¯å˜çš„æ•°ç»„ã€‚ç›®å‰æ¥çœ‹ï¼Œå¤§å¤šæƒ…å†µåº”è¯¥ä½¿ç”¨sliceè€Œéžarrayåˆ‡ç‰‡çš„å¿«é€Ÿç”Ÿå‘½å’Œpythonçš„æ•°ç»„æˆªå–å¾ˆæƒ³ï¼Œä½†æ˜¯æœ¬è´¨å®Œå…¨ä¸ä¸€æ ·ï¼Œpythonæ˜¯ç”Ÿæˆäº†æ–°çš„æ•°ç»„å¯¹è±¡ç©ºé—´ï¼Œå¯ä»¥è¯´æ˜¯æ–°çš„å‰¯æœ¬ï¼Œä¿®æ”¹ä¸ä¼šå°è±¡åŽŸå§‹æ•°æ®Goçš„åˆ‡ç‰‡ä¸æ˜¯ï¼Œä»–æ˜¯ä¸€ä¸ªarrayçš„æŠ½è±¡å¼•ç”¨ç»“æž„ï¼Œå¯¹åˆ‡ç‰‡çš„æ“ä½œç›´æŽ¥ä¼šå½±å“åŽŸå§‹æ•°æ® Goæœ‰æŒ‡é’ˆï¼Œä½†ä¸èƒ½åƒC++é‚£æ ·åšæŒ‡é’ˆæ“ä½œï¼Œä»–åªèƒ½ç”¨äºŽä¼ é€’è°ƒç”¨ Goæ²¡æœ‰ç±»ï¼Œåªæœ‰ç»“æž„ä½“ã€‚æˆ‘ä»¬å¯ä»¥ç»™ç»“æž„ä½“ç±»åž‹æˆ–è‡ªå®šä¹‰ç±»åž‹æ·»åŠ æ–¹æ³•ï¼Œå…¶ä¾¿åˆ©æ€§åœ¨äºŽï¼ŒGoè¯­è¨€ä¼šè‡ªåŠ¨åšæŒ‡é’ˆå’Œå¯¹è±¡çš„è½¬æ¢ï¼Œæ¯”èµ·æ™®é€šæ–¹æ³•æ›´åŠ çµæ´»ã€‚ 12345678910111213141516171819202122232425262728293031package mainimport "fmt"type Vertex struct &#123; X, Y float64&#125;// ç±»æ–¹æ³•func (v *Vertex) Scale(f float64) &#123; v.X = v.X * f v.Y = v.Y * f&#125;// æ™®é€šæ–¹æ³•func ScaleFunc(v *Vertex, f float64) &#123; v.X = v.X * f v.Y = v.Y * f&#125;func main() &#123; v := Vertex&#123;3, 4&#125; v.Scale(2) ScaleFunc(&amp;v, 10) p := &amp;Vertex&#123;4, 3&#125; p.Scale(3) ScaleFunc(p, 8) fmt.Println(v, p)&#125; ç»“æŸè¯­è¿™ä¸ªæ–‡ç« çƒ‚å°¾äº†ï¼Œå…¶å®žæ˜¯æ²¡æœ‰å¼€å§‹å°±ç»“æŸäº†ã€‚ðŸ˜›]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>Go</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é”™è¯¯ï¼ˆWrongï¼‰]]></title>
    <url>%2F2019%2F10%2F19%2Fwrong%2F</url>
    <content type="text"><![CDATA[é”™è¯¯ï¼Œä»Šå¤©ç®—æ˜¯çŠ¯äº†ä¸€ä¸ªé”™è¯¯ï¼Œå½±å“è¯„ä¼°ä¸å¤§ä¸å°ï¼Œä¸­ç­‰æ°´å¹³ï¼Œè€½è¯¯äº†å…¨å®¶äººä¸€å¤©çš„æ—¶é—´ï¼Œè·¯ä¸Šå¼€å§‹åæ€ï¼Œè¶çŽ°åœ¨æ„Ÿè§‰è¿˜åœ¨è®°å½•ä¸‹æ¥ï¼Œå¼•ä»¥ä¸ºæˆ’å§é”™è¯¯çš„å…·ä½“å†…å®¹ä¸å†ç»†è¯´äº†ï¼Œè¯´å‡ºæ¥æœ‰ç‚¹ä¸¢äººðŸ˜›ï¼Œåªè¯´è¯´åˆ†æžç»“æžœå§ åæ€ç»“æžœï¼ˆself-examinationï¼‰ä»¥ä¸‹éƒ½æ˜¯æŠ½è±¡æ€»ç»“ï¼Œä½ å¯èƒ½ä¸èƒ½å……åˆ†äº†è§£è€Œæ„Ÿåˆ°å›°æƒ‘ï¼Œæ²¡å…³ç³»ï¼Œæ¯•ç«Ÿè¿™æ˜¯ç»™æˆ‘è‡ªå·±çœ‹çš„ï¼Œæ­¤å¤„æœ‰ç‚¹è‡ªç§äº†ï¼ŒæŠ±æ­‰ðŸ™ åšé”™çš„ å¯¹ç¡®å®šæœºä¼šçš„çŠ¹è±«ï¼Œæ²¡æœ‰ä¸»è§ï¼Œè¿‡åº¦è€ƒè™‘å‘¨å›´äººçš„æƒ³æ³•ï¼Œæ˜¯æ­¤æ¬¡é”™è¯¯çš„é‡è¦å¯¼ç«ç´¢ï¼Œæœªèƒ½å……åˆ†ä»Žè‡ªèº«éœ€æ±‚è§’åº¦å‡ºå‘è¯„ä¼°äº‹æƒ…çš„ä»·å€¼ ç›²ç›®å°†åŽç»­äº‹åŠ¡äº¤ä¸Žä»–äººå¹¶æœªå……åˆ†å‚ä¸ŽåŽç»­è¿‡ç¨‹è¯„ä¼°ï¼Œæœ€ç»ˆé€ æˆé”™è¯¯å‘ç”Ÿ åšå¯¹çš„ æ„è¯†åˆ°é”™è¯¯å·²ç»å½¢æˆä¸èƒ½æ”¹å˜æ—¶ï¼Œæ­£ç¡®çš„æƒ…ç»ªç®¡ç†ï¼Œé¿å…é”™è¯¯å½±å“æ‰©å¤§ äº‹åŽç§¯æžåˆ†æžï¼Œæ€»ç»“æ•™è®­ï¼Œé¿å…åŽç»­ç±»ä¼¼äº‹æƒ…å†æ¬¡å‘ç”Ÿ ä»£ä»· ä¸€å¤©çš„æ—¶é—´æŸå¤±ï¼ˆå°‘é‡çš„èµ„é‡‘æŸå¤±ï¼Œè¿™ä¸ªå¯ä»¥å¿½ç•¥ä¸è®¡ï¼‰ ç»™å®¶äººå¸¦æ¥çš„ç–²æƒ«å’Œä¸æ‚¦ å¯¹ä¸èµ·ï½žï½žå¸Œæœ›ä»ŠåŽæˆ‘å¯ä»¥ç”¨æ›´ä¸ºç§¯æžå¿ƒæ€å¯¹å¾…æ¯ä¸€æ¬¡æœºé‡ï¼Œæ¯ä»¶äº‹æƒ…ï¼Œå¹¶åŠªåŠ›åšåˆ°æœ€å¥½ï¼Œè°¢è°¢å®¶äººï¼ ä¸ç¡®å®šï¼ˆuncertaintyï¼‰ç”Ÿå‘½ä¸­å……æ»¡äº†ä¸ç¡®å®šï¼Œéšçº¦æ„Ÿè§‰å¥½åƒæœ‰ç¥žçµåœ¨æˆ‘å‘¨å›´ä¸€ç›´å¸®åŠ©æˆ‘ä¸€æ ·ï¼Œè®©æˆ‘æ„Ÿå—ã€æ€è€ƒä¸Žé‡è§]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>life</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ”¾å‡ï¼ˆBlock Leaveï¼‰]]></title>
    <url>%2F2019%2F08%2F02%2FBlock-Leave%2F</url>
    <content type="text"><![CDATA[æ”¾å‡ç»“æŸï½žç¬¬ä¸€æ¬¡æ”¾block leaveï¼ŒçŽ°æ‰€åœ¨çš„å…¬å¸å¾ˆæœ‰æ„æ€ï¼Œè§„å®šå¿…é¡»ä¼‘block leaveï¼Œä¸ä¼‘å¹´åº•ä¼šè®¤ä¸ºä½ è¿è§„ï¼Œå› æ­¤æˆ‘ç»ˆäºŽä¼‘äº†æˆ‘å·¥ä½œä»¥æ¥ç¬¬ä¸‰æ¬¡è¿žä¼‘å¹´å‡(ä¸‰å¤©ä»¥ä¸Š)ã€‚ Block Leaveæœ¬å‘¨ç»“æŸï¼Œè¿‡çš„è¿˜ç®—å……å®žã€‚å¸¦å­©å­åŽ»å‘¨è¾¹è‡ªé©¾çŽ©äº†ä¸€åœˆï¼Œå­©å­å¾ˆå¼€å¿ƒï¼Œè€Œæˆ‘çš„ç²¾ç¥žè¿Ÿè¿Ÿæ²¡æœ‰å®Œå…¨æ”¾æ¾ä¸‹æ¥ï¼Œæ‹…å¿ƒæ”¾å‡å‰æ­£åœ¨æ‰§è¡Œçš„é¡¹ç›®ï¼Œè¿˜æœ‰å®‰æŽ’äº†ç¼ºæ²¡æœ‰è¿›å±•çš„ä»£åŠžä»»åŠ¡ã€‚è¿™ç§æ„Ÿè§‰è®©äººå¾ˆçŸ›ç›¾ï¼Œä¹Ÿä¸èˆ’æœã€‚è™½ç„¶è¿™å‡ å¤©åŒäº‹æ‰¾äº†æˆ‘å‡ æ¬¡ï¼Œè¯¢é—®å‡ ä¸ªé—®é¢˜ï¼Œæ„Ÿè§‰åˆ°é¡¹ç›®è¿˜æ˜¯é—®é¢˜ä¸å°‘ï¼Œä½†ä¹Ÿåªèƒ½å›žåŽ»å†å¤„ç†ï¼Œå·¥ä½œæ°¸è¿œä¹Ÿåšä¸å®Œçš„ï¼ˆå…¬å¸è§„å®šï¼Œblock leaveæœŸé—´ä¸å¯ä»¥è®¿é—®å…¬å¸ç³»ç»Ÿï¼‰ å…³äºŽå·¥ä½œåœ¨æ­¤æœŸé—´æˆ‘ä¹Ÿæ€è€ƒä¸€äº›é—®é¢˜ï¼Œå…¶å®žä¹Ÿæ˜¯å¯¹å¤šå¹´ä¸åŒç»åŽ†çš„æ€è€ƒï¼š è½¯ä»¶å¼€å‘é¡¹ç›®çš„è®¾è®¡å’Œæ–‡æ¡£ï¼Œæ€Žæ ·åšæ‰ç®—å¥½ï¼Ÿ æœ‰å“ªå®¶å…¬å¸åšçš„æ˜¯å€¼å¾—å‚è€ƒçš„ã€‚ æˆ‘å¤šå¹´æ¥çš„å·¥ä½œæ›´å¤šæ˜¯è®¡ç®—æœºåº”ç”¨ï¼Œé‚£ä¹ˆè®¡ç®—æœºç§‘å­¦ä»·å€¼ä½•åœ¨ï¼Ÿæœ‰è°å…³æ³¨å—ï¼Ÿ å¦‚æžœä¸äº²è‡ªå‚ä¸Žå¼€å‘å…¶ä¸­ï¼Œç®¡ç†è€…æ˜¯å¦å¯ä»¥äº†è§£å›¢é˜Ÿå®žé™…å·¥ä½œæƒ…å†µã€å›°éš¾ã€åŽ‹åŠ›ï¼Œè¿›è€Œæœ‰æ•ˆæ¿€åŠ±å›¢é˜Ÿï¼Œå¸®åŠ©å›¢é˜Ÿæˆé•¿å‘¢ï¼Ÿ å›¢é˜Ÿæˆå‘˜ç›®æ ‡ä¸ä¸€è‡´æ—¶ï¼Œæ— æ³•æœ‰æ•ˆç»„ç»‡å›¢é˜Ÿå½¢æˆå·¥ä½œåä½œï¼Œè¿™ä¸ªå›¢é˜Ÿè¿˜æ˜¯å›¢é˜Ÿå—ï¼Ÿ çœ‹åˆ°è¿™äº›é—®é¢˜æ—¶ï¼Œä½ çš„ç†è§£å¯èƒ½ä¸Žæˆ‘æƒ³è¡¨è¾¾çš„å¹¶ä¸ä¸€æ ·ï¼Œå› ä¸ºæ‰€é¢å¯¹çš„å…·ä½“äº‹æƒ…ï¼ˆåœºæ™¯ï¼‰åªæœ‰æˆ‘æœ€æ¸…æ¥šï¼Œå½“æŠ½è±¡æˆæ ‡å‡†é—®é¢˜æ—¶ï¼Œä¿¡æ¯ä¹Ÿå°±åŽ‹ç¼©åœ°ä¸¢å¤±äº†ã€‚å…¶å®žè¿™å‡ ä¸ªé—®é¢˜éƒ½è¿™ä¸ªå…±åŒç‚¹ï¼Œæˆ‘ä»¬åœ¨å®žé™…å·¥ä½œä¸­æ€Žä¹ˆæŠŠæ¡ç»†èŠ‚å’ŒæŠ½è±¡ã€‚å®Œæˆtaskéœ€è¦ç»†èŠ‚ï¼Œè¿™å°†ååˆ†è€—è´¹ç²¾åŠ›ã€‚è€Œç®¡ç†è€…åˆä¸å¯èƒ½çŸ¥é“æ‰€æœ‰ç»†èŠ‚ï¼Œè¿™æ—¶å°±å¯èƒ½äº§ç”Ÿæ²Ÿé€šã€ç†è§£ç­‰æ–¹é¢çš„gapã€‚ æˆ‘ä¹‹æ‰€ä»¥çŽ°åœ¨è¿˜åœ¨å†™ä»£ç ï¼Œä¹Ÿæ˜¯å› ä¸ºæˆ‘æ„Ÿè§‰ï¼Œå¦‚æžœæˆ‘ä¸èƒ½æ·±å…¥ç»†èŠ‚ä¹Ÿå°±æ— ä»Žæ€»ç»“å‡ºæŠ½è±¡ã€‚å¼€å‘å›¢é˜Ÿçš„æ‰å¹³åŒ–ç®¡ç†ï¼Œå…¶å®žä¹Ÿæœ‰æ­¤æ„ï¼Œå¤§å®¶éƒ½éœ€è¦æ·±å…¥ç»†èŠ‚å·¥ä½œï¼Œè¿›è€Œå½¢æˆè‡ªç»„ç»‡çš„æœ‰æ•ˆåä½œå›¢é˜Ÿã€‚ä½†å‡è®¾å‰ææ˜¯ï¼Œå›¢é˜Ÿæˆå‘˜çš„ç›®æ ‡ä¸€è‡´ã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œå¦‚æžœä¸€ä¸ªäººå¯ä»¥åšç»†èŠ‚çš„äº‹æƒ…ï¼Œæ˜¯éžå¸¸å¹¸ç¦çš„ï¼Œå› ä¸ºç®€å•ä¸”æœ‰æ—¢å¾—çš„æˆå°±æ„Ÿã€‚ä½†å¾€å¾€åˆæ˜¯åº•å±‚çç¢Žçš„ï¼Œå¯èƒ½ä¼šå¾ˆå¿ƒçƒ¦ã€‚ å…¶å®ƒæˆ‘ç”¨å‡æœŸçš„ä¸€å¤©æ—¶é—´ï¼Œæ´—äº†ç‰™â€”â€”çŽ°åœ¨æ„Ÿè§‰å¥½èˆ’æœï¼Œè¿˜çœ‹äº†ã€Šå“ªå’ã€‹ç”µå½±ï¼Œéžå¸¸æŽ¨èã€‚å…³äºŽç”µå½±ï¼Œæˆ‘çœ‹äº†ä¸€äº›ç½‘å‹çš„è¯„è®ºï¼Œæœ‰çš„è¯´å¹¶ä¸å–œæ¬¢ï¼Œè¯´æ²¡æœ‰æƒ³è±¡ä¸­çš„å¥½ï¼Œè¿™å’Œæˆ‘çš„ä¸ªäººæ„Ÿè§‰ååˆ†ä¸ä¸€è‡´ï¼Œæˆ‘è§‰å¾—è¶…å¥½çœ‹ã€‚å®ƒè™½ç„¶æ”¹å˜äº†åŽŸè‘—ï¼Œä½†æ˜¯æ”¹çš„æŒºå¥½ï¼Œæ•´ä¸ªç”µå½±å™äº‹ã€åˆ¶ä½œã€ç»†èŠ‚å¤„ç†éƒ½å¯åœˆå¯ç‚¹ï¼Œååˆ†ç²¾å½©ã€‚çœ‹åˆ°ä¸€äº›äººå¯¹å®ƒå¹¶ä¸ä¹°è´¦ï¼Œæœ‰äº›ä¸èƒ½ç†è§£ã€‚å…¶å®žå®¢è§‚æƒ³æƒ³ï¼Œå¤§å®¶çš„æ€æƒ³ä¸ä¸€æ ·ä¹Ÿå¾ˆæ­£å¸¸ï¼Œæ¯•ç«Ÿæ¯ä¸ªäººæƒ³æ³•æ˜¯ä¸åŒçš„ã€‚ç›¸æ¯”æƒ³æ³•ä¸ä¸€è‡´ï¼Œæˆ‘æ›´æƒ³çŸ¥é“å…¶ç†ç”±å’Œåˆ¤æ–­çš„ä¾æ®ï¼Œè¿™æ ·ä¹Ÿè®¸æ‰å¯ä»¥æœ‰æ‰€å¯¹æ¯”ï¼Œå†å®¡è§†è‡ªå·±çš„åˆ¤æ–­ è¿˜æœ‰ä¸€ä»¶è®¨åŽŒçš„äº‹æƒ…å°±æ˜¯ï¼Œè‡ªé©¾å‡ºè¡Œæ¸¸çŽ©å›žæ¥ï¼Œä¸‹é«˜é€ŸETCç«Ÿç„¶æ²¡æœ‰åˆ·ä¸Šï¼Œç„¶è€ŒçŽ°åœºå·¥ä½œäººå‘˜ç”±äºŽå‰æ–¹è½¦è¾†å¤„ç†çš„æŸç§åŽŸå› ç»™æˆ‘è¯¯æŠ¬äº†æ†ï¼ˆä¸ªäººæŽ¨æµ‹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå°±å‡ºäº†é«˜é€Ÿï¼Œç”µè¯å’¨è¯¢äº†ä¸€ä¸‹ETCç®¡ç†ä¸­å¿ƒï¼Œå‘Šè¯‰æˆ‘ä¸‹æ¬¡ä¸Šé«˜é€Ÿä¼šè¡¥ä¸Šï¼Œåˆ°æ—¶ä¼šæ€Žæ ·æˆ‘ä¹Ÿä¸çŸ¥é“äº†ï¼Œå¯èƒ½éœ€è¦äººå·¥å¤„ç†ï¼Œæœ‰ç‚¹å°éƒé—·ã€‚ å¨å¨è¿™äº›ä»…æ˜¯è®°å½•ä¸€ä¸‹è¿‘æœŸçš„æ„Ÿå—ï¼Œå¥½äº†ä¸è¯´äº†ï¼ŒåŽ»å­¦ä¹ äº†ã€‚ æˆ‘è¿˜æœ‰æˆ‘çš„ä¸ªäººç›®æ ‡è¦å®žçŽ°ï½žï½žï½ž]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>life</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žå•å…ƒæµ‹è¯•åˆ°è¿‘æœŸæ€»ç»“ï¼ˆUnit Testï¼‰]]></title>
    <url>%2F2019%2F05%2F16%2FUnit-Test%2F</url>
    <content type="text"><![CDATA[ä¸€å‘¨ä¸€å‘¨è¿‡çš„çœŸå¿«ï¼Œæ„Ÿè§‰æ²¡åšä»€ä¹ˆï¼Œä¸€å‘¨æ—¶é—´å°±è¿™ä¹ˆæµè¡è¿‡åŽ»äº†ã€‚æœ¬å‘¨ä¸»è¦ä»»åŠ¡æœ‰ä¸¤é¡¹ï¼Œå…¶ä¸­ä¸€é¡¹å°±æ˜¯å•å…ƒæµ‹è¯•ã€‚å†™è¿‡å•å…ƒæµ‹è¯•çš„æœ‹å‹ä»¬è¯·ä¸¾æ‰‹ï¼Œå“ˆå“ˆï¼Œè™½ç„¶çœ‹ä¸åˆ°ï¼Œä¼°è®¡ä¸æ˜¯å¾ˆå¤šã€‚å†™è¿‡æœ‰æ•ˆå•å…ƒæµ‹è¯•çš„è¯·ä¸¾æ‰‹ï¼Œä¼°è®¡åˆå°‘äº†ä¸€äº›ã€‚é‚£ä¹ˆä»Šå¤©å°±ä»Žå•å…ƒæµ‹è¯•è¯´èµ·ï¼Œæœ€åŽèŠèŠæœ€è¿‘çš„ä¸€äº›æƒ³æ³• åˆè¯†å•å…ƒæµ‹è¯•ä¸çŸ¥å¤§å®¶å·¥ä½œç»éªŒå¦‚ä½•ï¼Œå¯¹äºŽæˆ‘æ¥è¯´ï¼Œå·¥ä½œå¾ˆå¤šå¹´ï¼Œå•å…ƒæµ‹è¯•æœªæ›¾å¥½å¥½å†™è¿‡ï¼Œå¦‚æžœä½ çŽ°åœ¨æ‰€åœ¨å…¬å¸åœ¨åšå•å…ƒæµ‹è¯•ï¼Œæ­å–œä½ ï¼Œåœ¨æˆ‘çœ‹æ¥ä½ å¤šåŠåœ¨ä¸€å®¶é è°±çš„å…¬å¸ã€‚ ç»§ç»­ä¸Šä¸€ç¯‡çš„è¯é¢˜ï¼Œé¡¹ç›®è¿ç§»å·¥ä½œå·²åŸºæœ¬åˆè§æ•ˆæžœï¼ŒçŽ°åœ¨è¦å¼€å§‹æ•´ç†å•å…ƒæµ‹è¯•äº†ï¼Œä¼—æ‰€å‘¨çŸ¥åœ¨ç³»ç»Ÿè¯å®žä¸Šçº¿å‰ï¼Œæµ‹è¯•å·¥ä½œä¸èƒ½å°‘ã€‚åŒæ—¶è¿˜è¦è€ƒè™‘åˆ°ä»ŠåŽDevOpsçš„åº”ç”¨åœºæ™¯ï¼Œæ‰€ä»¥å•å…ƒæµ‹è¯•çš„ä»£ç è¦†ç›–çŽ‡è¦æä¸ŠåŽ»ï¼Œå¹¶ä¸”ä»ŠåŽæ˜¯è¦é€šè¿‡Sonarç­‰ç³»ç»Ÿç”Ÿæˆç›¸åº”çš„æµ‹è¯•æŠ¥å‘Šçš„ã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•å‘¢ï¼Œé¡¾åæ€ä¹‰åªæµ‹è¿™ä¸€å°å—ï¼Œä¸€ä¸ªå°çš„Unitã€‚é‚£å…¶å…³é”®ç‚¹åœ¨äºŽMockï¼Œä»Žè€Œåšåˆ°åŠŸèƒ½å®žçŽ°ç±»ä¹‹é—´çš„è§£è—•ã€‚å¯¹ï¼Œè§£è—•ï½žï½ž æ€Žä¹ˆåšä»¥å‰ï¼Œæˆ‘åœ¨ä½¿ç”¨JUnitåŒ…æ—¶ï¼Œä»…ä»…æ˜¯å›´ç»•@Testè¿›è¡Œçš„functionçš„ç¼–å†™ï¼Œå¹¶å®žé™…è§¦å‘ç›¸åº”ç±»çš„å…¨éƒ¨åŠŸèƒ½ï¼Œä»Žè€Œå®žçŽ°å…·ä½“åŠŸèƒ½çš„æµ‹è¯•ã€‚ç¼–å†™å›°éš¾ï¼Œæµ‹è¯•æ¶ˆè€—æ—¶é—´ä¹Ÿé•¿ã€‚ä½ éœ€è¦è€ƒè™‘åˆå§‹åŒ–æ˜¯æ¯ä¸ªå¯¹è±¡æ‰€éœ€è¦çš„ä¾èµ–ä»¥åŠç›¸åº”çš„å‚æ•°æ‰èƒ½åˆ›å»ºæ•°çœŸå®žçš„è°ƒç”¨ç±»ã€‚ åº”è¯¥æ€Žä¹ˆåšå‘¢ï¼Œæ­¤æ¬¡é¡¹ç›®æ•´ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘å°è¯•äº†ä¸¤ä¸ªå•å…ƒæµ‹è¯•æ¡†æž¶Mockitoå’ŒJMockitã€‚å‰è€…å¾—åˆ°springçš„å®˜æ–¹æŽ¨èï¼ŒåŽè€…åˆ™æ˜¯å¼€æºç¤¾åŒºçƒ­æ§ã€‚ä¸¤è€…è¯­æ³•è¿¥å¼‚ï¼Œé’ˆå¯¹æˆ‘çš„ç›®å‰ç”¨åˆ°åŠŸèƒ½æ¥è¯´ï¼ŒåŠŸèƒ½åŸºæœ¬ä¸€è‡´ã€‚ä¸¤ä¸ªæ¡†æž¶çš„æ ¸å¿ƒå°±æ˜¯é€šè¿‡åˆç†Mockè¿›è¡Œæœ‰æ•ˆçš„å•å…ƒå†…éƒ¨æµ‹è¯•ï¼Œå°½å¯èƒ½å°†ä¾èµ–å±‚åˆ†ç¦»ã€‚ å¬èµ·æ¥ä¸æ˜¯å¾ˆéš¾å¯¹å§ï¼Œä½†å®žé™…è¦å¤æ‚çš„å¤šï¼Œç”±äºŽç¨‹åºè‡ªèº«æž¶æž„è®¾è®¡çš„åŽŸå› ï¼Œæ¯ä¸€å±‚éƒ½æœ‰ä¸€äº›æ›´ä¸ºæ·±å…¥çš„dependencyçš„è°ƒç”¨éœ€è¦è¿›è¡ŒMockï¼ŒåŒæ—¶ä½ è¿˜æ¸…æ¥šçš„çŸ¥é“é‚£äº›é€»è¾‘æ˜¯éœ€è¦çœŸå®žç”¨è¿è¡Œï¼Œä¸èƒ½è¿›è¡Œç®€å•Mockçš„ã€‚è¿™ä¸ªè¿‡ç¨‹æˆ‘æ­£åœ¨ç»“åˆå½“å‰é¡¹ç›®è¿›è¡Œå®žéªŒï¼Œä¹Ÿè®¸ä»ŠåŽå¯ä»¥æ€»ç»“å‡ºä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿åˆ†äº«ã€‚ ç»“å¯¹ç¼–ç¨‹å’ŒTDDè¿™ä¸¤ä¸ªè¯´æ³•ä¼°è®¡åšç‚¹æŠ€æœ¯äººçš„å¹¶ä¸é™Œç”Ÿï¼Œä½†è¿˜æ˜¯é‚£ä¸ªé—®é¢˜ï¼Œæœ‰è°çœŸçš„åšè¿‡å‘¢ï¼Œåˆæ˜¯å…·ä½“æ€Žä¹ˆåšçš„å‘¢ï¼Œæ•ˆæžœå¦‚ä½•ï¼Œèƒ½å›žç­”è¿™äº›é—®é¢˜çš„äººä¼°è®¡ä¹Ÿæ˜¯å¯¥å¯¥æ— å‡ ã€‚ è¿‘æœŸçš„å…¬å¸åŸ¹è®­è®©æˆ‘å¯¹æ­¤æœ‰äº†åˆæ­¥çš„è®¤è¯†ï¼Œæœ‰æ•ˆçš„å•å…ƒæµ‹è¯•ä¸ä»…ä»…æ˜¯ç®€å•çš„ä»£ç è¦†ç›–çŽ‡ï¼Œè¿˜æœ‰åˆç†çš„æµ‹è¯•ç”¨ä¾‹çš„è®¾è®¡ã€‚æ€»ç»“ä»¥ä¸‹å‡ ç‚¹ï¼š ä¸ä¼šå†™å•å…ƒæµ‹è¯•çš„ç¨‹åºå‘˜ï¼Œä¸æ˜¯å¥½ç¨‹åºå‘˜ å•å…ƒæµ‹è¯•ä»£ç è¦†ç›–çŽ‡åº”è¯¥åšåˆ°100% æµ‹è¯•ç”¨ä¾‹è®¾è®¡åº”è¯¥ä»Žä¸šåŠ¡éœ€æ±‚è§’åº¦è®¾è®¡ï¼Œä¸åº”è¯¥ä»Žå®žçŽ°åŠŸèƒ½ä»£ç è§’åº¦è®¾è®¡ï¼Œæµ‹è¯•ç”¨ä¾‹æ»¡è¶³ï¼Œå³åŠŸèƒ½å®žçŽ°ï¼ˆTDDï¼‰ ç»“å¯¹ç¼–ç¨‹ï¼Œå¯ä»¥ä¸€äººå†™æµ‹è¯•ç”¨ä¾‹ï¼Œä¸€äººå†™åŠŸèƒ½å®žçŽ°ï¼Œä¸¤è€…äº¤å‰éªŒè¯ å®Œæ•´çš„å•å…ƒæµ‹è¯•å¼€å‘é‡ä¸ŽåŠŸèƒ½å®žçŽ°å¼€å‘é‡æ¯”ä¾‹åº”è¯¥åœ¨ 2:1 è‡³ 3:1 åœ¨æˆ‘çœ‹æ¥ï¼Œæˆ‘ä¸€ç›´è®¤ä¸ºæœ‰å¿…è¦å†™å•å…ƒæµ‹è¯•ã€‚ä½†æœ€è¿‘è®©æˆ‘æ›´åŠ æ·±å…¥çš„è®¤è¯†åˆ°ï¼Œå…¶ä½œç”¨å’Œç›®çš„ï¼Œä»¥åŠå…¶ç¼–å†™æ—¶è€ƒè™‘çš„é—®é¢˜ã€‚ æ€§èƒ½æµ‹è¯•ï¼ˆPTï¼‰æµ‹è¯•æœ‰å¾ˆå¤šç§ï¼Œå•å…ƒæµ‹è¯•æ˜¯å¼€å‘äººå‘˜è¦åšçš„å·¥ä½œï¼Œé‚£ä¹ˆä¸Šçº¿å‰çš„æµ‹è¯•çŽ¯èŠ‚è¿˜æœ‰SIT UAT PTç­‰ï¼Œä»Šå¤©åœ¨å…¬å¸åˆæ­¥å­¦ä¹ äº†Performance Testï¼ˆPTï¼‰æ€§èƒ½æµ‹è¯•ã€‚æˆ‘ä»¬ç»å¸¸æåˆ°çš„åŽ‹åŠ›æµ‹è¯•ï¼Œå°±è¢«åŒ…å«åœ¨å…¶ä¸­ã€‚PTä¼šåŒ…å«ï¼š Peak Test Stress Test Soak Testä¸€èˆ¬é€šè¿‡è¿™ä¸‰ä¸ªé˜¶æ®µçš„æµ‹è¯•ï¼Œæ”¶é›†ç³»ç»Ÿè¿è¡Œæ•°æ®ï¼Œå¹¶å½¢æˆæŠ¥å‘Šï¼Œçœ‹æµ‹è¯•æ˜¯å¦é€šè¿‡æˆ–è€…æŸ¥æ‰¾é—®é¢˜ã€‚PTå…·ä½“å†…å®¹ä¹Ÿä¸å°‘ï¼Œæ­¤è¿ç§»é¡¹ç›®æœ€åŽä¹Ÿæ˜¯è¦ä¸ŠPTæ¥éªŒè¯è¿ç§»æ•ˆæžœï¼Œæ‰€ä»¥åŽç»­ä¹Ÿä¼šæœ‰æ‰€æ€»ç»“å†åˆ†äº«ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚ è¿‘æœŸå·¥ä½œçš„æ„Ÿå—æœ€è¿‘å·¥ä½œï¼Œçœ‹ä¼¼ç®€å•ï¼Œæ²¡æœ‰ä»€ä¹ˆé«˜ç§‘æŠ€å«é‡çš„å·¥ä½œï¼Œä½†ä¹Ÿèƒ½ä»Žæ€»å­¦åˆ°ä¸å°‘ä¸œè¥¿ï¼Œæ­£å¥½ä¹Ÿå¼¥è¡¥æˆ‘ä¹‹å‰å·¥ä½œä¸­çš„ä¸è¶³ï¼Œè®©æˆ‘æ›´ä¸ºæ·±å…¥çš„æ€è€ƒå’Œä½“ä¼šä¸€äº›æŠ€æœ¯ç»†èŠ‚ï¼Œä¸å¤±ä¸ºä¸€ä»¶å¥½äº‹æƒ…ã€‚è¿˜æ˜¯å–œæ¬¢æŠ€æœ¯ï¼Œå¯¹äºŽæŠ€æœ¯æˆ‘ä»Žæœªæ”¾å¼ƒï¼Œè‡ªå·±ä¹Ÿåœ¨ä¸æ–­çš„æå‡ï¼Œå¸Œæœ›ä¸è¦è½ä¸‹ä»€ä¹ˆï¼Œæœ€è¿‘ä¹Ÿåœ¨ç³»ç»Ÿçš„å­¦ä¹ ä¸€äº›æˆç†ŸæŠ€æœ¯æ¡†æž¶ã€‚ é¢˜å¤–è¯è¿‘æœŸçœ‹äº†å·´è²ç‰¹çš„ä¼¯å…‹å¸Œå°”å“ˆæ’’éŸ¦å…¬å¸è‚¡ä¸œå¹´ä¼šç›´æ’­ã€‚ç¬¬ä¸€æ¬¡çœ‹ï¼Œäº†è§£åˆ°å¾ˆå¤šï¼Œä¸»è¦æ˜¯è§è¯†ä¸€ä¸‹åœºé¢ðŸ˜›å·´è²ç‰¹å’ŒèŠ’æ ¼ä¸¤äººçš„å¤„äº‹é£Žæ ¼è®©æˆ‘æ·±æ·±æ„Ÿè§‰åˆ°ä»–ä»¬å¤šå¹´çš„è‡ªå¾‹å’Œç§¯æ·€ï¼Œä¸¤ä½è€è€…å¾ˆæ”¾æ¾ï¼Œå¾ˆç¿æ™ºï¼Œè¿™æ ·çš„é«˜é¾„è¿˜å¯ä»¥å¦‚æ­¤æ´’è„±ï¼ŒçœŸæ˜¯éš¾å¾—å•Šï¼Œè®©äººæ— æ¯”ç¾¡æ…•ã€‚è‚¡ä¸œçš„æé—®ä¹Ÿå¾ˆå‘æ•£ï¼Œå±•ç¤ºå‡ºå…¶å…¬å¸æ²»ç†ä¸­ï¼Œè‚¡ä¸œå¤§ä¼šçš„ä¸€ä¸ªç‰¹è‰²ï¼Œè®©äººæ„Ÿè§‰å…¶ç®¡ç†ä½“åˆ¶çš„å®Œå–„å’ŒåŒ…å®¹è‡³äºŽç»æµŽé—®é¢˜ï¼Œæˆ‘å°±å¬å¬çƒ­é—¹ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰æŒæœ‰ä»–ä»¬çš„å…¬å¸çš„è‚¡ç¥¨ï¼Œä¹Ÿæ²¡æœ‰å•¥é’±åŽ»ç‚’è‚¡ï¼Œéšæ³¢é€æµè€Œå·²ã€‚ è‡³äºŽè¿‘æœŸå·¥ä½œï¼Œè‹±è¯­å£è¯­æ²Ÿé€šå¯èƒ½è¿˜æ˜¯æœ€å¤§é—®é¢˜ï¼Œä¸æ˜¯ä¸èƒ½æ²Ÿé€šï¼Œåªæ˜¯æ²Ÿé€šæ•ˆæžœä¸å¥½ã€‚å…³é”®é—®é¢˜åœ¨äºŽå°åº¦å£éŸ³çš„è‹±è¯­æˆ‘å®žåœ¨æ˜¯â€¦â€¦å¸Œæœ›ä»ŠåŽä¸è¦æŠŠæˆ‘å¸¦è·‘äº† ä½ æœ‰è¿™æ ·çš„æ„Ÿè§‰å—ï¼Œäººè¶Šæ´»ä¼šè¶Šå­¤ç‹¬ï¼Œæ˜¯å¿ƒçµå­¤ç‹¬çš„é‚£ç§ï¼Œå› ä¸ºå¯ä»¥æ„ŸåŒèº«å—ç†è§£ä½ çš„äººä¼šè¶Šæ¥è¶Šå°‘ã€‚æˆ‘æœ‰æ—¶ä¼šæ€è€ƒè¿™ä¸ªé—®é¢˜ï¼Œæ„Ÿè§‰ä¼šå‘¢ã€‚ æˆ‘çš„æ—¶é—´è§„åˆ’è¦åœ¨åˆç†ä¸€äº›ï¼Œæ„Ÿè§‰å¤ªå¤šäº‹æƒ…æƒ³åšï¼Œæ—¶é—´å¤ªæœ‰é™äº†ã€‚æ•ˆçŽ‡ä¹Ÿè¦æå‡æ‰å¯ä»¥ã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>engineering</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡æž„(Refactoring)]]></title>
    <url>%2F2019%2F04%2F28%2Frefactoring%2F</url>
    <content type="text"><![CDATA[è¿‘æœŸæ­£åœ¨åšä¸€ä¸ªå‡çº§é¡¹ç›®ï¼Œå°†å…¬å¸åŽŸæœ‰çš„è€ç³»ç»Ÿå‡çº§ï¼Œåœ¨å‡çº§è¿‡ç¨‹ä¸­é‡åˆ°å¾ˆå¤šæœ‰æ„æ€çš„é—®é¢˜ï¼Œæ­£å¥½è¿‘æœŸæœ‰å‚åŠ ä»£ç é‡æž„è¯¾ç¨‹çš„åŸ¹è®­ç‰¹å†™æ­¤æ–‡ç« è®°å½•ä¸€äº›å†…å®¹ã€‚ é¡¹ç›®é‡æž„å…³äºŽé¡¹ç›®é‡æž„ï¼Œä¸»è¦å‡çº§é¡¹ç›®æ•´ä½“æ­å»ºæž¶æž„ï¼Œä¾èµ–åŒ…å‡çº§ï¼ŒåŸºç¡€æ¡†æž¶å‡çº§ç­‰ï¼Œä¸ºäº†ä¿è¯é¡¹ç›®é¡ºåˆ©é˜¶æ®µæ€§ä¸Šçº¿ï¼Œé¡¹ç›®éœ€è¦åˆ†é˜¶æ®µå‡çº§ï¼ŒçŽ°åœ¨ä¸ºç¬¬ä¸€é˜¶æ®µ å·¥ç¨‹MavenåŒ–ï¼Œæ­¤å‰é¡¹ç›®ä¸ºçº¯Javaå·¥ç¨‹ï¼ŒJaræœ¬åœ°åŒ–ï¼Œé¦–è¦è§£å†³å·¥ç¨‹æž„å»ºç®¡ç†æ–¹å¼ï¼Œå†³å®šé‡‡ç”¨Mavenï¼Œæ­¤å¤„å‡ ä¹Žæ²¡æœ‰éš¾ç‚¹ï¼Œéœ€è¦æ³¨æ„çš„æœ‰ï¼š æ‰“åŒ…éœ€è¦åŒ…å«çš„æ–‡ä»¶ï¼Œä¾‹å¦‚packageä¸­çš„xmlæ–‡ä»¶ï¼Œé™¤classæ–‡ä»¶mavené»˜è®¤æƒ…å†µä¸‹å°†ä¸ä¼šå°†å…¶æ‰“å…¥åŒ…å†… mavenå¼•ç”¨æœ¬åœ°jaråŒ…ï¼Œç”±äºŽæ­¤é¡¹ç›®çš„åŽ†å²åŽŸå› ï¼Œéƒ¨åˆ†jarçŽ°åœ¨ä¸å†å…¬å¸ä¸­å¤®ä»“åº“ä¸­ï¼Œæ‰€ä»¥å…ˆé‡‡ç”¨ä¸´æ—¶æœ¬åœ°åŒ…çš„æ–¹å¼å¼•å…¥maven ä¾èµ–åŒ…mavenç®¡ç†ï¼Œæ³¨æ„ä¾èµ–åŒ…çš„é‡å¤å¼•ç”¨ï¼ŒæŽ’é™¤å¤šJarç‰ˆæœ¬ç­‰ åŸºç¡€æž¶æž„å‡çº§ å‡çº§ç›¸å…³Jarç‰ˆæœ¬ï¼Œå¹¶ä¿è¯ç‰ˆæœ¬ä¸­çš„classä¾èµ–å…³ç³»æ­£ç¡®ï¼Œé‡åˆ°classåºŸå¼ƒå¯¼è‡´çš„ä¾èµ–classæ¶ˆå¤±ç­‰é—®é¢˜ å¼•å…¥spring bootï¼Œä»¥åŠç›¸å…³ç»„å»ºåŒ…ï¼ŒJDBC ORMç­‰ æ›¿æ¢åŽŸæœ‰web.xmlï¼Œæ”¹ä¸ºé€šè¿‡spring boot servletæ³¨å†Œæ–¹å¼å®žçŽ° cxf servletå‡çº§ï¼Œè§£å†³mappingå†²çªç­‰ æ”¹å˜èµ„æºæ–‡ä»¶ä½ç½®ï¼Œæ•´ç†é…ç½®æ–‡ä»¶ï¼Œæ›´æ”¹è¯ä¹¦åŠ è½½æ–¹å¼ç­‰ å…¶ä»–å‡çº§ è¿žæŽ¥æ± å‡çº§ï¼Œå¼•å…¥HikariCPé“¾æŽ¥æ±  è°ƒæ•´Hibernateé…ç½®å±žæ€§ï¼Œè§£å†³connectioné‡Šæ”¾é—®é¢˜ é‡‡ç”¨slf4jå’Œlogbackå®žçŽ°æ–¹å¼æ•´ç†logï¼Œå¯¼å…¥åŽŸæœ‰logé…ç½® ç›®å‰ï¼Œç¬¬ä¸€é˜¶æ®µè¿›å±•é¡ºåˆ©ï¼ŒåŸºæœ¬ä¸æ¶‰åŠä»£ç æ”¹é€ ï¼Œå·²ç»å°†æ•´ä½“æ¡†æž¶è¿›è¡Œäº†è¿ç§» å…¶ä¸­è¯»åˆ°æœ€æœ‰ä»·å€¼çš„æ–‡ç« æ˜¯ï¼šSpringæ­ç§˜â€“å¯»æ‰¾é—å¤±çš„web.xml å¦å¤–è¿˜ä½¿ç”¨äº†spring bootä¸­çš„actuatorï¼Œç”¨æ¥åšå·¥ç¨‹åŠ è½½æƒ…å†µ å†çœ‹é‡æž„ç¬¬ä¸€é˜¶æ®µè¿›å…¥å°¾å£°æ—¶ï¼Œå…¬å¸å®‰æŽ’çš„ clean codeåŸ¹è®­ï¼Œé‡ç‚¹è®²è§£äº†ä»£ç é‡æž„ï¼Œæ—¶é—´ç‚¹åˆšåˆšå¥½ã€‚æ­¤æ¬¡åŸ¹è®­æ”¶èŽ·è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œè‡³å°‘è®©æˆ‘ä»Žæ›´åŠ ç³»ç»Ÿå’Œæœ€ä½³å®žè·µæ–¹é¢äº†è§£äº†è½¯ä»¶å·¥ç¨‹ é‡æž„åº”è¯¥åˆ†ä¸ºä¸¤ä¸ªå±‚é¢ï¼š æž¶æž„çº§é‡æž„ ä¸Šé¢çš„é¡¹ç›®é‡æž„ç¬¬ä¸€é˜¶æ®µï¼Œå¯ä»¥è¯´æ˜¯æž¶æž„çº§é‡æž„çš„ä¸€å°éƒ¨åˆ†ï¼Œå…¶æ›´å¤šæ˜¯æŒ‡å¯¹é¡¹ç›®æ•´ä½“æž¶æž„çš„è°ƒæ•´å‡çº§ï¼Œä¾‹å¦‚ä»Žå•æœºå˜ä¸ºé›†ç¾¤ã€é›†ç¾¤ä¸Žåˆ†å¸ƒå¼ã€å¼•å…¥å®¹å™¨åŒ–éƒ¨ç½²ã€ä½¿ç”¨æ¶ˆæ¯ä¸­é—´ä»¶è§£è—•ç­‰ ä»£ç çº§é‡æž„ è¿™ä¸ªæ˜¯æ­¤æ¬¡åŸ¹è®­çš„é‡ç‚¹ï¼Œå…¶æŒ‡å¯¼æ€æƒ³æ›´å¤šç”¨äºŽå¼€å‘äººå‘˜å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¾‹å¦‚ï¼šæ¨¡å—åˆç†åˆ’åˆ†ã€è®¾è®¡æ¨¡å¼åŸºæœ¬åŽŸåˆ™ã€é™ä½Žä»£ç å¤æ‚åº¦ã€é¢†åŸŸæ¨¡åž‹ã€ä»£ç è§£è—•ã€TDDã€DDDç­‰ ä»£ç é‡æž„æ­¤é¡¹ç›®çš„ç¬¬äºŒé˜¶æ®µå¿…ç„¶ä¼šæ¶‰åŠä»£ç é‡æž„ï¼Œä½†æ˜¯èƒ½åšå¤šå°‘çŽ°åœ¨è¿˜ä¸ç¡®å®šé‚£ä¹ˆæ­¤æ¬¡åŸ¹è®­é‡ç‚¹éƒ½æœ‰ä»€ä¹ˆå‘¢ï¼Ÿ ä»Žç³»ç»Ÿä¸šåŠ¡åˆ†æžåˆ°åŠŸèƒ½å¼€å‘è®¾è®¡ï¼Œå¦‚ä½•åˆ†è§£ã€æ‹†åˆ†ã€æ€è€ƒï¼Œå®žçŽ°ç±»å…³ç³»å›¾å’Œæ—¶åºå›¾ï¼Œè¿™ä¹Ÿæ˜¯æœ€å…³é”®çš„ä¸¤ä¸ªè®¾è®¡æ–‡æ¡£ ä»£ç è¿‡é•¿ã€ç®­å¤´ä»£ç ã€ä»£ç å¤æ‚åº¦è¿‡é«˜é—®é¢˜è§£å†³æ€è·¯ ä»£ç æ‹†åˆ†ã€ä¼˜åŒ–ã€å®žçŽ°å¯æ‰©å±• åŸºæœ¬åŽŸåˆ™ï¼Œå•ä¸€èŒè´£ã€æ‰©å±•æ‰ç»§æ‰¿ã€å§”è®©æ›´ä¸ºçµæ´»ï¼ŒæŽ¥å£ä¸ºäº†æš´éœ² ä»£ç è‡ªèº«è§£é‡ŠåŽŸåˆ™ï¼Œåˆç†è¿›è¡Œæ³¨é‡Š é¢†åŸŸæ¨¡åž‹çš„ä»·å€¼ï¼Œæ³›åŒ–ç±»åž‹å¸¦æ¥çš„é—®é¢˜ï¼Œé¿å…æ•°æ®æ³¥æ½­ ç¼–è¯‘æ—¶é”™è¯¯å’Œè¿è¡Œæ—¶é”™è¯¯ï¼Œä¸è¦â€åƒæŽ‰â€å¼‚å¸¸ DDD TDDçš„æœ€ä½³å®žçŽ°ï¼Œæœ‰æ•ˆå•å…ƒæµ‹è¯•è®¾è®¡å’Œç»“å¯¹ç¼–ç¨‹å®žè·µ ä»¥ä¸Šè¿™äº›å†…å®¹å…·ä½“å¤„ç†æ–¹æ³•ï¼Œå‚è€ƒé©¬ä¸ ç¦å‹’(Martin Fowler)é‡æž„æ€æƒ³å®žçŽ° ç»“æŸè¯­è¦æˆä¸ºä¸€ååˆæ ¼çš„è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆè¿™äº›å†…å®¹æ˜¯æˆ‘ä»¬åº”è¯¥ç†ŸçŸ¥å’ŒæŽŒæ¡çš„ï¼Œä»Šå¤©ç®—æ˜¯æŠ›ç –å¼•çŽ‰ï¼Œä»¥åŽè¿˜è¦æ›´å¤šå®žè·µã€‚ æ­¤å¤–ï¼Œä¸€ä¸ªå›¢é˜Ÿä¸­åªæœ‰ä¸€ä¸¤ä¸ªäººçŸ¥é“è¿™ä¸ªæ˜¯ä¸å¤Ÿçš„ï¼Œéœ€è¦é€šè¿‡åˆç†çš„æ–¹å¼å’Œå·¥å…·ä½¿å›¢é˜Ÿå¯ä»¥è¿ç”¨è¿™äº›æ–¹æ³•ï¼Œå®žçŽ°æ•´ä½“èƒ½åŠ›æå‡æ‰æœ‰ä»·å€¼ã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>engineering</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡æ—¥éšç¬”]]></title>
    <url>%2F2019%2F04%2F06%2F20190406%2F</url>
    <content type="text"><![CDATA[å‡æœŸå’Œå®¶äººä¸€èµ·åº¦è¿‡ï¼Œå°¤å…¶æ˜¯å’Œå­©å­ä¸€èµ·ï¼Œé™ªä»–ä»¬çŽ©è€ï¼Œé™ªä»–ä»¬æˆé•¿æ˜¯ä»¤äººå¼€å¿ƒçš„äº‹æƒ…ã€‚ å‘¨äº”ä¸€æ—©åŽ»ç¥­å¥ äº†é€åŽ»çš„äº²äººï¼Œæˆ‘ä¸€ç›´åœ¨æƒ³ç¦»ä¸–çš„äººæ˜¯ä¸æ˜¯åŽ»äº†å››ç»´ç©ºé—´ï¼ˆæˆ–è€…æ›´é«˜ç»´çš„ç©ºé—´ï¼‰ï¼Œäººä¸–é—´çš„è½®å›žå¯èƒ½çœŸçš„å­˜åœ¨ï¼Œåšä¸ºä¸‰ç»´ç©ºé—´çš„æˆ‘ä»¬æ— æ³•è¯å®žç½¢äº†ã€‚ é«˜ç»´ç©ºé—´å¦‚æžœçœŸçš„å­˜åœ¨ï¼Œé‚£ä¹ˆå¹³è¡Œå®‡å®™å‘¢ï¼Ÿåº”è¯¥ä¹Ÿå­˜åœ¨å§ï¼Œè®°å¾—å¾ˆæ—©ä¹‹å‰å’ŒåŒå­¦è®¨è®ºè¿‡ï¼Œäººç”Ÿå¦‚æžœæ˜¯æ¸¸æˆï¼Œé‚£ä¹ˆä»–å°±æ˜¯æ²¡æœ‰å­˜æ¡£ä¸€æ¡å‘½é€šå…³æ¸¸æˆã€‚å…¶å®žä¸æ˜¯æ²¡æœ‰å­˜æ¡£ï¼Œä¹Ÿä¸æ˜¯ä¸€æ¡å‘½ï¼Œåªæ˜¯åœ¨ä½ çš„å®‡å®™ä¸­è¿™æ ·ï¼Œåœ¨å¹³è¡Œå®‡å®™ä¸­æœ‰å…¶ä»–çš„å¯èƒ½ï¼Œä¹Ÿå°±æ˜¯å…¶ä»–çš„å­˜æ¡£ã€‚ä½ æ¸¸æˆä¸­çš„ä¸€ä¸ªå­˜æ¡£ä¼šçŸ¥é“å¦ä¸€ä¸ªå­˜æ¡£çš„å­˜åœ¨å—ï¼Ÿå½“ç„¶ä¸ä¼šï¼Œå¦‚åŒä¸€ä¸ªä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼ŒçŸ¥é“ä»–ä»¬çš„åªæœ‰æ›´é«˜å±‚çš„ç®¡ç†å±‚ä¹Ÿå°±é«˜ç»´ç©ºé—´ã€‚ åŸºäºŽè¿™æ ·çš„å‡è®¾ï¼Œæˆ‘ä»¬ç¦»å¼€è¿™ä¸ªä¸–ç•Œåº”è¯¥è‡³å°‘è¦åŽ»äº”ç»´ç©ºé—´ä»¥ä¸Šæ‰æœ‰æ„ä¹‰ï¼Œæœ‰äººè¯´åº”è¯¥æ˜¯å…­ç»´ç©ºé—´ï¼Œæˆ‘è¿˜æ²¡æœ‰æƒ³åˆ°è¿˜å·®å“ªä¸€ç»´ï¼Ÿä¹Ÿè®¸æˆ‘æ­»åŽæ‰èƒ½çŸ¥é“å§ï¼Œé¦–å…ˆæˆ‘ä»¬åº”è¯¥æŽ¥å—æˆ‘ä»¬åœ¨ä¸‰ç»´ç©ºé—´çš„çº¦æŸã€‚ é‚£ä¹ˆåœ¨ä¸‰ç»´ç©ºé—´æˆ‘ä»¬åº”è¯¥æ€Žä¹ˆåšï¼Œå»ºç«‹çš„è‡ªå·±çš„ä¿¡å¿ƒï¼ŒåŠªåŠ›åšå¥½è¿™ä¸€å¹³è¡Œå®‡å®™ä¸­çš„ä½ ï¼Œä½“ä¼šä½ å®Œæ•´çš„äººç”Ÿï¼Œç…§é¡¾å¥½è‡ªå·±çš„å®¶åº­ï¼Œå­¦ä¹ ã€æ„Ÿå—æ›´å¤šï¼Œä¸æ–­è¶…è¶Šè‡ªå·±ã€‚ è¿‘å‡ ä¸ªæœˆæ¥ï¼Œæˆ‘æ€æƒ³å±‚é¢æ‰€ç»åŽ†çš„æ„Ÿå—å¯èƒ½è¿œè¿œè¶…å‡ºäº†æˆ‘ä¹‹å‰ä¸¤å¹´æ‰€ç»åŽ†çš„ã€‚æœ‰æŒ‘æˆ˜ã€æœ‰æ”¹å˜ã€æœ‰ä¸ä¸€æ ·çš„ä¸œè¥¿çš„è¿›å…¥ä½ çš„äººç”Ÿï¼Œä½ æ‰ä¼šæœ‰æ‰€æˆé•¿ï¼Œæœ‰æ‰€é¢†æ‚Ÿï¼Œæœ‰æ‰€æ„Ÿã€‚æˆ–è€…æ›´åŠ å‡†ç¡®çš„è¯´ï¼Œè¿‘æœŸçš„äº‹æƒ…æ¿€å‘äº†æˆ‘å¤šå¹´æ¥çš„æ„Ÿå—ï¼Œçªç„¶æœ‰æ‰€æ€è€ƒï¼ˆè´¨å˜éƒ½æ˜¯éœ€è¦é‡å˜ç§¯ç´¯çš„ï¼‰ åŒäº‹åˆ†äº«äº†ä¸€ä¸ªå›¾ç‰‡ï¼Œæžå¥½çš„è§£é‡Šäº†æˆ‘è¿‘æœŸçš„æ„Ÿå—ï¼Œä¹‹å‰æˆ‘åœ¨æœ‹å‹åœˆæˆ‘å·²ç»æåˆ°ç¦»å¼€èˆ’é€‚åŒºçš„æƒ³æ³•ï¼ŒçŽ°åœ¨å…‹æœæŽ‰ææƒ§åŒºï¼Œç„¶åŽä½ ä¼šå¾—åˆ°ä¸€ä¸ªä¸ä¸€æ ·çš„ä¸–ç•Œ Balanceï¼ŒBalanceï¼ŒBalanceï¼Œæˆ‘åœ¨å¯»æ‰¾é‚£ä¸ªç‚¹ï¼Œåœ¨å¯»æ‰¾é‚£ä¸ªæœ€ç»ˆçš„èˆ’é€‚ç‚¹ï¼Œä¹Ÿè®¸å®ƒå¯¹æˆ‘æ¥è¯´æ°¸è¿œéƒ½ä¸ä¼šå­˜åœ¨ï¼Œå¯¹äºŽè¿™ä¸ªå¹³è¡Œå®‡å®™çš„æˆ‘ä¸å­˜åœ¨ï¼Œä½†æˆ‘è¿˜æ˜¯è¦åŽ»åŠªåŠ›å¯»æ‰¾ï¼Œæˆ‘è¦åšçš„æ˜¯æˆ˜èƒœè‡ªå·±ã€‚ æ„Ÿè°¢æˆ‘å‘¨å›´æ‰€æœ‰äººä¸Žäº‹ï¼ˆè€äº†å¼€å§‹å–œæ¬¢å›žå¿†äº†ï¼‰ï¼Œæˆ‘è¿˜å¿µçš„å’Œæ€€å¿µæˆ‘çš„ï¼Œä½ ä»¬ç»™æˆ‘äº†è¿™ä¸€åˆ‡çš„æ„Ÿå—ã€é¢†æ‚Ÿã€‚å°¤å…¶è¦æ„Ÿè°¢æˆ‘çš„å®¶äººï¼Œä½ ä»¬æ˜¯æˆ‘çš„ä¸€åˆ‡ï½ž å‰å‡ å¤©æˆ‘çªç„¶æƒ³åˆ°ä¸€ä¸ªå‘½é¢˜ï¼Œè²Œä¼¼å…¶å®žæ¯ä¸ªäººæœ€ç»ˆéƒ½éš¾é€ƒä¸€ä¸ªå®¿å‘½ï¼Œå°±æ˜¯ä½ å°†ä¼šè¶Šæ¥è¶Šå­¤ç‹¬ï¼Œæ¯ä¸ªäººçš„ç‹¬ä¸€æ— äºŒçš„æ„Ÿå—ã€ç»åŽ†ä¸Žé¢†æ‚Ÿï¼Œä½¿åªæœ‰ä½ è‡ªå·±ç†è§£è‡ªå·±ï¼Œä½ æ— æ³•ç†è§£ä»–äººï¼Œä»–äººä¹Ÿæ— æ³•ç†è§£ä½ ï¼Œæœ€ç»ˆä¸–ç•Œåœ¨å¡‘é€ ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ä½ ï¼Œç„¶åŽå°†ä¼šæŠ›å¼ƒä½ ï¼Œå¦‚åŒèº«ä½“æŽ’é™¤æŽ‰ä¸€ä¸ªè¡°è€çš„ç»†èƒžä¸€æ ·ã€‚ æš‚åœä¸€ä¸‹ï¼Œæƒ³æƒ³ä½ çŽ°åœ¨ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿä½ çš„æ€æƒ³ã€ä½ çš„æ‰€ä¸ºï¼Œå…¶å®žæ˜¯è¿™ä¸ªå®‡å®™å¡‘é€ äº†ä½ ï¼Œå½“æœ‰ä¸€æ—¥ä½ å°†ç¦»å¼€è¿™ä¸ªä¸–ç•Œï¼Œä½ æ‰ä¼šå‘çŽ°ä½•ä¸ºäººç”ŸçœŸæ­£çš„æ„ä¹‰ã€‚ä½†çŽ°åœ¨è¿™ä¸€ä¸ªåˆ»ï¼Œæˆ‘éš¾é€ƒå’Œä¸–ä¿—é—´çš„å‹äººä¸€æ ·ï¼ŒåŽ»è¿½æ±‚æˆ‘æƒ³è¦çš„ã€‚ æœ€åŽè¯´ä¸€ä¸‹è¯­è¨€ï¼Œå…¶å®žæœ‰æ—¶ä»–é˜»ç¢äº†æˆ‘ä»¬çš„äº¤æµï¼Œå¦‚æžœå¯¹äºŽé«˜ç»´ç©ºé—´ç”Ÿç‰©å¯ä»¥ç›´æŽ¥æ€æƒ³äº¤æµæ¥è¯´çš„è¯ï¼Œä¸‰ç»´ç©ºé—´çš„è¯­è¨€äº¤æµç»å¯¹æ˜¯æœ€ç›´æŽ¥çš„é™ç»´æ‰“å‡»ï¼Œç¡¬ç”Ÿç”Ÿå°†æœ€æœ‰ä»·å€¼çš„é¢†æ‚Ÿå…·åƒåŒ–åŽæ‰èƒ½ä¼ æ’­ï¼Œå¦‚åŒå°†ä¿¡æ¯åšäº†æœ‰æŸåŽ‹ç¼©åŽä¼ æ’­ï¼Œè¿˜åŽŸåŽè¿˜èƒ½ä¿è¯åŽŸæ¥æ‰€æœ‰çš„ä¿¡æ¯å—ï¼Ÿ OKï¼Œå¦‚æžœä½ ä¸€ç›´é˜…è¯»çœ‹åˆ°äº†è¿™é‡Œï¼Œæˆ‘ä¹Ÿæ˜¯ä½©æœä½ äº†ï¼Œä½ ä¹Ÿè®¸å·²ç»ç³Šæ¶‚äº†ã€‚è¿™ä¸ªéšç¬”çš„æ€ç»´å¾ˆè·³è·ƒå“ˆï½žæœ‰ç‚¹åˆ†è£‚æ„Ÿå—ï¼Ÿä¹Ÿè®¸ä»¥åŽæˆ‘ä¼šè¯´çš„æ›´ç®€å•æ˜Žç™½ä¸€äº›ã€‚ðŸ˜›è¿™æ˜¯æˆ‘çš„éšç¬”ï¼Œå…ˆè®°å½•ä¸‹æ¥ï¼Œä¹Ÿè®¸ç­‰æˆ‘è€äº†ï¼Œæˆ‘å¯ä»¥è¿›è¡Œæ•´ç†ï¼Œå†™ä¸€æœ¬æƒ…æ„Ÿç±»ç§‘å¹»å°è¯´ã€‚]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>others</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Skill Tree]]></title>
    <url>%2F2019%2F03%2F24%2FJava-Skill-Tree%2F</url>
    <content type="text"><![CDATA[è®©æˆ‘æ¢³ç†ä¸€ä¸‹ï¼Œä½œä¸ºJavaå·¥ç¨‹å¸ˆæˆ‘ä»¬åº”è¯¥æŽŒæ¡çš„çŸ¥è¯†ç‚¹å’ŒæŠ€èƒ½ã€‚ä½œä¸ºæ•´ç†æ€»ç»“ä¹Ÿå¥½æé†’è‡ªå·±ä½ è¿˜å·®ä»€ä¹ˆï¼Œå¦‚æœ‰è¡¥å……æ¬¢è¿Žæé†’ Java åŸºç¡€JavaåŸºç¡€å½“ç„¶æ˜¯å›´ç»•JDKå±•å¼€ï¼ŒJDKçš„ä¸æ–­ä¹Ÿåœ¨æé†’æˆ‘ä»¬éœ€è¦ä¸Žæ—¶ä¿±è¿›ä¸æ–­æ›´æ–°ç›¸å…³æŠ€èƒ½ï¼ŒJavaåŸºæœ¬è¯­æ³•è§„åˆ™é™¤å¤–ï¼Œåº”è¯¥æŽŒæ¡ç†ŸçŸ¥ä»¥ä¸‹å†…å®¹ å¸¸ç”¨ç±»åž‹ç›¸å…³ï¼š String StringBuffer StringBuilderï¼ŒåŸºç¡€ç±»åž‹å’ŒåŒ…è£¹ç±»åž‹ã€Vectorã€ä¸åŒçš„Listã€Mapï¼Œä»¥åŠConcurrentMap å¼‚å¸¸å¤„ç†ï¼šExceptionå’ŒErrorï¼Œfinalã€finallyã€finalize åŠ¨æ€ä»£ç†å’Œåå°„ï¼ŒåŠ¨æ€ç”ŸæˆClass è¾“å…¥è¾“å‡ºæµã€IOå¤„ç†æ–¹å¼ã€NIO å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€å¹»å¼•ç”¨ å¸¸è§è®¾è®¡æ¨¡å¼ï¼šAdapterã€Proxyã€Factoryã€Singletonã€Observerç­‰ç­‰ å¤šçº¿ç¨‹ï¼Œçº¿ç¨‹å®‰å…¨ã€synchronizedã€ReentrantLockï¼Œå¹¶å‘åŒ…ä¸­çš„å¸¸ç”¨å·¥å…·ç±»ï¼Œä¾‹å¦‚ï¼šCountDownLatchã€BlockedQueueç­‰ã€çº¿ç¨‹æ± å’ŒCASæ“ä½œ JVMåŸºç¡€ï¼ŒJavaç±»åŠ è½½è¿‡ç¨‹ã€JVMå†…å­˜åŒºåŸŸåˆ’åˆ†ï¼Œå †å†…ã€å †å¤–ä½¿ç”¨è¯Šæ–­ã€å¸¸è§çš„GCæœºåˆ¶åŠä¼˜åŒ– Javaæ–°ç‰¹æ€§Lambdaè¡¨è¾¾å¼ã€Streamç­‰ å¸¸è§ç®—æ³•Javaå®žçŽ°ï¼ŒLeetCoodåˆ·åˆ·é¢˜ é€šè®¯åè®® JSON XMLï¼Œè™½ç„¶xmlå·²ç»è¢«æ·˜æ±°ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦äº†è§£çš„ï¼Œæ¯•ç«Ÿè¿˜æœ‰å¾ˆå¤šè€ç³»ç»Ÿåœ¨ä½¿ç”¨ HTTP Restfulï¼Œå·²ç»æˆä¸ºæœ€å¸¸è§çš„é€šè®¯æ–¹å¼ RPC ä¾‹å¦‚ï¼šDubboã€gRPCã€Thriftï¼Œéžå¸¸å¸¸è§åŠæ™®éä½¿ç”¨ WebService SOAPï¼Œå·²ç»å¾ˆå°‘ä½¿ç”¨ RMIï¼Œè¾ƒå°‘ä½¿ç”¨ MQ Queue Topicï¼Œä¸åŒMQåŽ‚å•†ç»†èŠ‚ä¸Žå†™å·®åˆ«ï¼Œéœ€è¦åˆ†åˆ«å¯¹å¾… TCP/UDP Socketï¼Œæœ€ä¼ ç»Ÿçš„æ–¹å¼ä½†æ˜¯è¿˜æ˜¯éœ€è¦æŽŒæ¡çš„ å¸¸ç”¨æ¡†æž¶ Spring å…¨å®¶æ¡¶ï¼ŒSpring mvcã€Spring bootã€Spring cloudï¼Œè‡³äºŽå…¶ä»–ç±»ä¼¼æ¡†æž¶ï¼Œæˆ‘å°±ä¸å­¦äº†ï¼Œé‡åˆ°å†è¯´äº†ã€‚ Nettyï¼Œç»å…¸ç½‘ç»œè¯·æ±‚æ¡†æž¶ï¼Œå¹¿æ³›ä½¿ç”¨ï¼Œä»¥åŠè€ç‰Œapache mina Guavaï¼ŒGoogleå¼€å‘çš„Javaå·¥å…·åŒ…ã€æ ¸å¿ƒåº“é‡Œé¢æœ‰ä¸°å¯Œçš„åŠŸèƒ½ Disruptorï¼Œé«˜æ€§èƒ½åžåå¤„ç†æ¡†æž¶ è¿™é‡Œä¼šè®¾è®¡å¤§é‡å¹¶å‘è®¾è®¡æ¨¡å¼å¯ä»¥æ·±å…¥ç ”ç©¶ æ•°æ®åº“ JPAã€Hibernateã€MyBatisï¼Œæ•°æ®ç±»åž‹ã€äº‹åŠ¡ç­‰ MySQL å¹¿æ³›ä½¿ç”¨çš„å…³ç³»åž‹æ•°æ®åº“ï¼Œå†…å®¹å¾ˆå¤š Oracle å¤§åž‹ä¼ä¸šå•†ç”¨åœºæ™¯ DB2 é‡‘èžè¡Œä¸šä¸ºä¸» Redisã€mongodbï¼ˆä¸æŽ¨èä½¿ç”¨ï¼‰ ElasticSearch å…¨æ–‡æœç´¢ï¼ŒLogæ—¥å¿—å¤„ç†ELK å…¶ä»–ï¼šPostgreSQLã€TiDB æ•°æ®åº“ï¼Œåœç•™åœ¨å®žé™…é¡¹ç›®ä¸­ä½¿ç”¨è¿‡ï¼Œå¹¶ä¸æ·±å…¥ï¼Œæ‡‚å¾—åŸºæœ¬å¸¸ç”¨åŠŸèƒ½ï¼Œå¯è¿›è¡Œè¡¨è®¾è®¡ï¼Œä¸ç†Ÿæ‚‰æ•°æ®åº“ä¼˜åŒ–å’Œå…¶ä»–å¤æ‚ç»´æŠ¤æ“ä½œã€‚ å…¶ä»–æŠ€æœ¯ Linuxã€Dockerã€K8Sã€DevOps Tomcatã€Nginx HttpsåŠè¯ä¹¦ã€åŸŸå DNSã€CSDNã€Load Balance å¸¸ç”¨äº‘æœåŠ¡ ECSã€OSSç­‰ Git SVN å…¶å®žä»¥ä¸Šå†…å®¹ï¼Œä¸å°‘ä¹Ÿé€‚ç”¨äºŽå…¶ä»–è¯­è¨€çš„å·¥ç¨‹å¸ˆï¼Œä¾‹å¦‚Pythonå’ŒGoç­‰ å…ˆæ•´ç†è¿™äº›ï¼Œå†…å®¹è¿˜å°†ä¸æ–­ä¸°å¯Œï¼Œå·²ç£ä¿ƒè‡ªå·±å…¨é¢æŽŒæ¡å’Œä½¿ç”¨ã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello Full Stack, Bye ~]]></title>
    <url>%2F2019%2F03%2F11%2Ffull-stack%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å’ŒåŒäº‹èŠèµ·å…¨æ ˆå¼€å‘ï¼Œè®©æˆ‘æƒ³å†™æ­¤éšç¬”è®°å½•ä¸€ä¸‹ï¼Œä¹Ÿåˆ†äº«ä¸€ä¸‹æˆ‘çš„ç†è§£ã€‚æ¬¢è¿Žäº¤æµæŒ‡æ­£ ä½•ä¸ºå…¨æ ˆ What is full stack?ç½‘ä¸Šçš„æ¦‚å¿µè§£é‡Šå¾ˆå¤šï¼Œå¤§å®¶ä¸å¦¨è‡ªå·±æœæœã€‚æˆ‘è¯´è¯´çš„ç›´è§‚æ„Ÿè§‰ï¼Œå°±æ˜¯å‰åŽç«¯éƒ½å†™ï¼Œå•¥éƒ½å¯ä»¥å¼€å‘ã€‚ å…¶å®žå…¨æ ˆå¯ä»¥è¯´æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œæ˜¯ä¸€ç§æŠ€æœ¯å®žçŽ°æ–¹å¼ï¼Œä½†ä¸åº”è¯¥æ˜¯ä¸ªèŒä½æˆ–è€…ä¸ªäººè¦æˆä¸ºçš„ç›®æ ‡ã€‚ å“ªé‡Œéœ€è¦å…¨æ ˆ Where need full stackï¼Ÿä¸€ä¸ªå›¢é˜Ÿå¹²çš„æ´»ï¼Œç”±ä¸€ä¸ªäººæˆ–å‡ ä¸ªäººå…¨æ ˆå¼€å‘å®Œæˆï¼Œä½ è¯´å“ªé‡Œéœ€è¦ä»–ï¼Ÿ åˆåˆ›åž‹å°å…¬å¸ï¼ŒäººåŠ›ç´§å¼ çš„å›¢é˜Ÿï¼ŒæŠ‘æˆ–æ˜¯ä½ åœ¨åšä¸€ä¸ªç§æ´»é¡¹ç›®ç­‰ç­‰ã€‚ä¸éš¾çœ‹å‡ºï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªä¸“ä¸šå›¢é˜Ÿè¯¥æœ‰çš„å¼€å‘æ¨¡å¼ã€‚å…¨æ ˆæ˜¯ä¸ªæ¦‚å¿µï¼Œå¤§å®¶éƒ½å¸Œæœ›ç”¨æœ€å°çš„æŠ•å…¥åšæœ€å¤šçš„äº‹æƒ…ï¼Œç”¨ä¸€ä¸ªä¸­æŠ€æœ¯è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œè¿™ä¸ªæƒ³æ³•æ˜¯å¥½çš„ï¼Œä½†å®ƒè¿èƒŒäº†äº‹åŠ¡å‘å±•çš„åŸºæœ¬è§„å¾‹ã€‚å…¨æ ˆå¯ä»¥æ˜¯ç§æŠ€æœ¯æè¿°ï¼Œè¡¨ç¤ºä¸€ç§æŠ€æœ¯å¯ä»¥é€‚åº”ç»å¤§å¤šæ•°å¼€å‘åœºæ™¯ï¼Œä½†ä½ å¯çŸ¥é“è¿™å°†å¸¦æ¥å¤šå¤§çš„å¼€å‘åˆ¶çº¦æ€§ï¼Ÿåšè¿‡é¡¹ç›®çš„æœ‹å‹ä¼°è®¡éƒ½å¯ä»¥ä¸¾å‡ºå¾ˆå¤šä¸ªä¾‹å­æ¥è§£é‡Šä»¥ä¸Šåœºæ™¯ã€‚å›žåˆ°æœ€åˆçš„é—®é¢˜ï¼Œå“ªé‡Œéœ€è¦å…¨æ ˆï¼Ÿæ²¡æœ‰é’±çš„é¡¹ç›®éœ€è¦å…¨æ ˆï¼Œå®ƒå…¶å®žä¸æƒ³æŠ€æœ¯æœ¯è¯­åè€Œæ›´æƒ³ç®¡ç†æœ¯è¯­ã€‚æ¥åšå…¨æ ˆå·¥ç¨‹å¸ˆå§ï¼Œæ½œå°è¯æ˜¯ï¼šæ´»å¤šé’±å°‘äººæ‰‹ç´§ï¼Œæœ€å¥½ä½ ä¸€äººéƒ½å¹²äº†ã€‚ç”¨å…¨æ ˆæŠ€æœ¯å§ï¼Œæ½œå°è¯ï¼šè¿™ä¸ªæŠ€æœ¯è¿˜ä¸é”™ï¼Œå°½é‡ç”¨å®ƒåšæ‰€æœ‰æŠ€æœ¯å®žçŽ°ï¼Œè™½ç„¶ä¸ä¸€å®šéƒ½å¾ˆé¡ºæ‰‹å°†å°±ç€å®žçŽ°å°±å¥½äº†ã€‚ å†è§å…¨æ ˆ bye full stackè™½ç„¶æˆ‘ä¹Ÿç»åŽ†è¿‡å…¨æ ˆå¼€å‘ï¼Œä½†æœ€ç»ˆï¼Œæˆ‘ä¸ªäººæ˜¯ä¸èµžåŒå…¨æ ˆå¼€å‘çš„ã€‚æ±½è½¦ç”Ÿäº§å¦‚æ­¤é«˜æ•ˆæ˜¯å› ä¸ºæµæ°´çº¿ï¼Œæµæ°´æå‡ºæœ€æ ¸å¿ƒçš„å†…å®¹å…¶å®žæ˜¯éžå…¨æ ˆæ€æƒ³ï¼Œä¸åº”è¯¥ç”±ä¸€åå·¥äººå®‰è£…ä¸€è¾†æ±½è½¦ï¼Œè€Œæ˜¯æ¯ç±»å·¥äººè´Ÿè´£å…¶ä¸­ä¸€ä¸ªçŽ¯èŠ‚ã€‚OKï¼Œä»¥ä¸Šè¿™å¥è¯çš„æ½œåœ¨å‰ææ˜¯ï¼Œä½ æ˜¯å¤§å…¬å¸ï¼Œæˆ–è€…ä½ æ˜¯æƒ³åšå¤§åšå¼ºçš„å…¬å¸ï¼Œå¦è€…è¯·ä¸è¦ä½¿ç”¨æµæ°´çº¿ï¼Œè¯·ä½¿ç”¨â€å…¨æ ˆæ–¹å¼â€å¼€ä¸ªå°åŠ å·¥åŽ‚ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ ä¹‹å‰å†™å…¨æ ˆæ—¶æ„Ÿè§‰è‡ªå·±å°†æ‰‹æ¡å‰åŽä¸¤ç«¯ï¼Œæ‰€å‘æŠ«é¡ï¼Œè°ä¸çŸ¥äººçš„ç²¾åŠ›æ˜¯æœ‰é™çš„ï¼Œç»“æžœä¸€åˆ‡éƒ½åšçš„çš®æ¯›ã€‚éšç€å¹´é¾„å¢žé•¿ï¼ŒæŠ€æœ¯äººå‘˜éœ€è¦æˆä¸ºæŸä¸€ä¸ªé¢†åŸŸçš„ä¸“æ‹£å¹¶æ·±å…¥è¿›åŽ»ï¼Œå½“ä½ æƒ³æˆä¸ºä¸“å®¶æ—¶ï¼Œè¯·ä¸è¦è€ƒè™‘å…¨æ ˆï¼Œæˆ‘æƒ³æ²¡æœ‰ä¸€ä¸ªæŠ€æœ¯é¢†åŸŸçš„ä¸“å®¶æŠ•èº«äºŽå…¨æ ˆå¼€å‘ã€‚å‰ç«¯åŽç«¯åˆ†ç¦»ï¼Œå¼€å‘èŒä½ç»†åˆ†æ˜¯ä¸€ä¸ªé«˜æ•ˆå›¢é˜Ÿçš„åŸºç¡€ã€‚å¦‚æžœä½ åœ¨ä¸€ä¸ªå¼€å‘èŒä½ç»†åˆ†çš„å›¢é˜Ÿï¼Œæˆ‘æƒ³ä½ å¾ˆå¹¸è¿ï¼ŒåŒæ—¶è¯·æŠŠä¸“é•¿é¢†åŸŸå¤–çš„å¼€å‘å½“ä½œä¹è¶£å§ã€‚ è¯·è½»æ˜“ä¸è¦å’Œæˆ‘è¯´å…¨æ ˆå¼€å‘ï¼Œä¸æ˜¯ä¸æƒ³åšï¼Œæ˜¯æˆ‘åšä¸åˆ°ã€‚ è¡¥å…… Additionå†™è¿™ä¸ªæ–‡ç« ä¹‹åŽçš„ä¸€å¤©çœ‹åˆ°æ­¤ç¯‡å¤–æ–‡ï¼Œæ„Ÿè§‰ä¸è°‹è€Œåˆï¼ŒæŽ¨èä¸€ä¸‹ï¼šFull-stack developers are in fact stuck at mid-level. Spare yourself from suffering â€“ donâ€™t go down that path]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>thinking</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[All You Need To Know For Migrating To Java 11]]></title>
    <url>%2F2019%2F01%2F06%2Fjava-11-migration-guide%2F</url>
    <content type="text"><![CDATA[å‰è¨€é¦–å…ˆå£°æ˜Žï¼Œæ­¤æ–‡å†…å®¹å¤§å¤šä¸ºè¯‘æ–‡ï¼Œå¹¶éžåŽŸåˆ›åŽŸæ–‡åœ°å€ï¼šAll You Need To Know For Migrating To Java 11å¹¶éžé€å¥å¯¹åº”ç¿»è¯‘ï¼Œåªå¯¹å…³é”®å†…å®¹è¿›è¡Œç¿»è¯‘ï¼Œå¦‚æœ‰é—®é¢˜è¯·æŒ‡æ­£ï¼Œæ„Ÿè°¢ï¼ ç¿»è¯‘æ­¤æ–‡ç« çš„åˆè¡·æºäºŽæˆ‘åˆšåˆšç¬¬ä¸€æ¬¡æ­å»ºäº†åŸºäºŽJava 11çš„spring bootå·¥ç¨‹ï¼Œé‡åˆ°äº†ä¸€äº›åŒ…çš„ç¼ºå¤±å¯¼è‡´çš„é—®é¢˜ï¼Œå½“ç„¶è¿™äº›é—®é¢˜åœ¨Java 8æ—¶æ˜¯ä¸ä¼šå‡ºçŽ°çš„å¦å¤–ï¼ŒJava 8çš„ç”Ÿå‘½å‘¨æœŸå·²ç»è¿›å…¥å°¾å£°ï¼Œå¼€å‘è€…å¿…ç„¶é¢ä¸´åˆ‡æ¢åˆ°Java 11çš„å±€é¢ï¼Œæ‰€ä»¥åœ¨æœç´¢ç›¸å…³ä¿¡æ¯çœ‹åˆ°äº†è¿™ä¸ªæ–‡ç« ã€‚æˆ‘å°†å°è¯•ç¿»è¯‘æ­¤æ–‡ç« ï¼Œä¹Ÿè®©è‡ªå·±æœ‰æ›´ä¸ºæ·±å…¥çš„ç†è§£ æ­£æ–‡Java 11 æ—©åœ¨2018å¹´9æœˆ25æ—¥å‘å¸ƒï¼ˆåŽŸæ–‡åœ¨å½“æ—¥å‘è¡¨ï¼‰å®ƒæ ‡å¿—ç€Javaç”Ÿæ€ç³»ç»Ÿé‡å¤§è½¬å˜çš„ç»“æŸï¼ˆJava 9 &amp; 10éƒ½æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„ä¸­é—´æ€ï¼‰Java 11æ˜¯LTSï¼ˆLong Term Supportï¼‰ç‰ˆæœ¬ï¼Œä¼´éšç€ä»ŽJava 8è¿ç§»åˆ°æ¨¡å—åŒ–çµæ´»çš„JDKå’Œ6ä¸ªæœˆreleaseè¿­ä»£å‘¨æœŸåœ¨ä½œè€…çœ‹æ¥ï¼Œæˆ‘ä»¬è¿›å…¥äº†æ–°çºªå…ƒï¼Œæˆ‘ä»¬éœ€è¦éµå¾ªæ–°çš„Javaè§„åˆ™ï¼Œå¾ˆå¤šé¡¹ç›®éœ€è¦è€ƒè™‘ä»ŽJava 8 è¿ç§»åˆ°Java 11ã€‚æ­¤æ–‡ç« å°†å‘Šè¯‰ä½ æ‰€æœ‰ä½ éœ€è¦çŸ¥é“çš„å…³äºŽä»ŽJava 8è¿ç§»åˆ°Java 11 æ­¤å¤–åˆ—å‡ºJava 11çš„æ–°ç‰¹æ€§é“¾æŽ¥ï¼š New HTTP2 Client Reactive Scripting Eleven Hidden Gems è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å°†åœ¨è¿™é‡Œè®¨è®ºè¿ç§»ï¼Œå¹¶ä¸æ˜¯æ¨¡å—åŒ–ï¼ˆmodularizationï¼‰ï¼ŒJava 11å¹¶ä¸è¦æ±‚ä¸€å®šè¦æ¨¡å—åŒ–ï¼Œé‚£æ˜¯ä¸€ä¸ªç‹¬ç«‹æ­¥éª¤ï¼Œæ‰€ä»¥è¿™é‡Œæ²¡æœ‰åˆ›å»ºæ¨¡å— æˆ‘ä»¬å…ˆä»Žå‘å¸ƒå‘¨æœŸï¼ŒæŽˆæƒæ–¹å¼å’Œæ”¯æŒè¯´èµ·ï¼Œæœ€åŽè®²è§£å¦‚ä½•å…‹æœå¸¸è§çš„4ä¸ªé˜»ç¢ï¼Œåšè¿‡Java 9 è¿ç§»çš„äººå¯èƒ½å·²ç»ç†Ÿæ‚‰å…¶ä¸­å¤§éƒ¨åˆ†å†…å®¹ã€‚ å‘å¸ƒå’ŒæŽˆæƒå‘å¸ƒå‘¨æœŸè²Œä¼¼æ²¡æœ‰ä»€ä¹ˆï¼Œä½†æ˜¯è¿™æ˜¯Oracle JDKå•†ä¸šå†…å®¹çš„ç»„æˆéƒ¨åˆ†ï¼Œå¹¶ä¸”ç›¸æ¯”æŠ€æœ¯è¿ç§»çš„æŒ‘æˆ˜ï¼Œå…¬å¼€é—®é¢˜ï¼ˆOpen Questionï¼‰çš„é•¿æœŸæ”¯æŒå¯èƒ½å°†å¯¹ä½ çš„é¡¹ç›®å¸¦æ¥æ›´å¤šçš„å½±å“ã€‚ å‘å¸ƒå‘¨æœŸé¢‘çŽ‡ æ¯å…­ä¸ªæœˆï¼Œå‘å¸ƒä¸€ä¸ªæ–°çš„ä¸»ç‰ˆæœ¬ï¼Œå³æ¯å¹´çš„ä¸‰æœˆå’Œä¹æœˆ æ¯ä¸ªä¸»ç‰ˆæœ¬å°†æœ‰ä¸¤ä¸ªå°ç‰ˆæœ¬æ›´æ–°ï¼Œåœ¨æ¯ä¸ªä¸»ç‰ˆæœ¬å‘å¸ƒåŽçš„ä¸€æˆ–å››ä¸ªæœˆåŽ ï¼ˆç›¸æ¯”ä¹‹å‰Javaè¯­è¨€è¿­ä»£å‘å±•ç¼“æ…¢ï¼ŒçŽ°åœ¨å¯ä»¥çœ‹å‡ºJavaè¿›å…¥äº†å¿«é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œå±•ç¤ºå…¶é¡½å¼ºçš„ç”Ÿå‘½åŠ›ï¼Œå¯ä»¥æ„Ÿè§‰å®ƒå°†ç»§ç»­ä¿æŒè¯­è¨€éœ¸ä¸»çš„åœ°ä½ï¼‰ OpenJDKæ˜¯æ–°çš„é»˜è®¤ç‰ˆæœ¬ï¼ˆè¿™ä¸ªæˆ‘ä¹‹å‰çš„ä¸€ä¸ªæ–‡ç« æœ‰æ‰€ç®€å•æ¶‰åŠï¼Œè¿™æ¬¡è¯´æ›´æ¸…æ¥šäº›ï¼‰2018å¹´9æœˆä¹‹å‰ï¼ŒOracle JDKæ˜¯å¤§å®¶ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè®¤ä¸ºå…¶åŠŸèƒ½æ›´ä¸ºä¸°å¯Œï¼Œæ›´åŠ ç¨³å®šå’Œé«˜æ•ˆï¼Œè™½ç„¶äº‹å®žå¹¶ä¸ä¸€å®šï¼ˆOpenJDKå…¶å®žä¹Ÿè¡¨çŽ°çš„ä¸é”™ï¼‰ã€‚æ‰€ä»¥å¤§å¤šæ•°äººéƒ½æ˜¯é€‰åœ¨Oracle JDKï¼ŒOpenJDKå¾ˆå°‘ä½¿ç”¨ï¼Œä½†è¿™ä¸€æƒ…å†µå°†åœ¨Java 11å°†æ”¹å˜ã€‚OracleåŠªåŠ›å°†Oracle JDK 11 å’Œ OpenJDK 11 åœ¨æŠ€æœ¯ä¸Šä¸€æ ·ï¼ˆOpenJDKå’ŒOracle JDKåœ¨åŽ†å²ä¸Šæœ‰è¿‡ä¸å°‘çš„å·®å¼‚ï¼ŒæŸäº›æ—¶å€™ï¼Œå…¶å®žä¸¤ä¸ªç¤¾åŒºæ˜¯åœ¨å„è‡ªå‘å±•ï¼Œè™½ç„¶è¿™æ®µåŽ†å²æˆ‘å¯èƒ½è¯´ä¸æ¸…æ¥šï¼Œä½†ä¹‹å‰é‡åˆ°è¿‡ç‰ˆæœ¬å·®å¼‚å¸¦æ¥çš„é—®é¢˜ï¼‰ï¼Œæ‰€ä»¥çŽ°åœ¨ä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚åªæœ‰æŽˆæƒæ–‡ä»¶äº†ã€‚OracleæœŸæœ›é€šè¿‡å°†å…¶JDKå•†ä¸šåŒ–æ–¹å¼ï¼ŒæŽ¨åŠ¨å¼€å‘è€…è¿›å…¥OpenJDKã€‚ä½ å¯ä»¥ä½¿ç”¨Oracle JDKè¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œä½†å¦‚æžœæ²¡æœ‰æŽˆæƒæ–‡ä»¶æ˜¯ä¸å¯ä»¥ç”¨äºŽäº§å“ä¸­çš„ã€‚ç»“æžœå°±æ˜¯ï¼ŒOpenJDKå°†æˆä¸ºé»˜è®¤å€¼ï¼ŒåŒæ—¶æ‹¥æœ‰å…¨éƒ¨çš„ç‰¹æ€§é›†åˆã€ä¸»è¦æ€§èƒ½ä»¥åŠå…è´¹çš„licenseï¼ˆGPL+CEï¼‰ä»¥åŽå¯èƒ½ä¼šå‡ºçŽ°ï¼ŒOracleå’ŒOpenJDKè‡ªå®šä¹‰åŽ‚å•†ï¼Œéƒ½åœ¨é”€å”®ä»–ä»¬é•¿æœŸæ”¯æŒã€‚ é•¿æœŸæ”¯æŒ Long-Term Supporté¦–å…ˆè¯´ Oracle JDK å’Œ OpenJDKï¼Œ6ä¸ªæœˆå†…ä¼šæ›´æ–°ä¸¤ä¸ªå°ç‰ˆæœ¬ï¼Œå…­ä¸ªæœˆåŽå‘¢ï¼Ÿå¦‚æžœä½ è¿˜æƒ³ä½¿ç”¨Java 11å‘¢ï¼Ÿï¼ˆä¸‹ä¸€ä¸ªé•¿æœŸæ”¯æŒç‰ˆæœ¬æ˜¯Java 17ï¼ŒOracleè®¡åˆ’æ¯ä¸‰å¹´é‡Šæ”¾ä¸€ä¸ªæ–°çš„LTSç‰ˆæœ¬ï¼‰æ€Žä¹ˆèŽ·å¾—å®‰å…¨æˆ–ä¿®å¤è¡¥ä¸å‘¢ï¼Ÿä¸¤ä¸ªé€‰æ‹©ï¼š å‘æŸäººï¼ˆOracleæˆ–å…¶ä»–ä¾›åº”å•†ï¼‰è´­ä¹°å•†ä¸šæ”¯æŒ æœŸå¾…OpenJDKæœ‰å…è´¹çš„æ”¯æŒ å…³äºŽå•†ä¸šæ”¯æŒï¼Œç›®å‰å¯ä»¥æƒ³åˆ°çš„æä¾›LTSæœåŠ¡çš„ä¾›åº”å•†æœ‰ï¼š Oracle IBM RedHat Azul ï¼ˆè¿™æ ·çœ‹ï¼Œoracleä¸æ˜¯ä¸ºäº†è‡ªå·±æ”¶è´¹å“¦ï¼Œè€Œæ˜¯é‡æ–°å®šä¹‰äº†Javaä¸–ç•Œçš„å•†ä¸šè§„åˆ™ï¼Œä½ å¯èƒ½è§‰å¾—ä¸çˆ½ï¼Œä½†æ˜¯è¿™äº›vendoréƒ½ä¹åœ¨å…¶ä¸­å‘¢ï¼Œè¿™æ ·æ¥çœ‹ä¸æ˜¯ä¸€ä»¶åäº‹ï¼Œè‰¯å¥½çš„å•†ä¸šæ¨¡å¼æ˜¯æ”¯æŒJavaå‘å±•çš„åŠ¨åŠ›ï¼‰ é‚£ä¹ˆOpenJDKå‘¢ï¼Ÿæ ¹æ®ç¤¾åŒºè®¨è®ºçš„é‚®ä»¶æ¥çœ‹ï¼Œå»ºè®®å¯¹åº”ç›¸åŒçš„ç‰ˆæœ¬ï¼Œå°†æœ‰4å¹´å·¦å³çš„é•¿æœŸå…¬å¼€å‡çº§æ”¯æŒ(Oracle Java 11 ä¸»æ”¯æŒè¦åˆ°2023å¹´ï¼Œæ‰©å±•æ”¯æŒå¯åˆ°2026å¹´ï¼Œè¿™æ ·çœ‹ï¼ŒOpenJDKç¤¾åŒºæ”¯æŒå¯ä»¥åˆ°2022å¹´ï¼Œä¹Ÿè¿˜ä¸é”™ï¼ŒçŽ°åœ¨æ˜¯å¦å®šä¸‹æ¥è¿™æ ·æ‰§è¡Œè¿˜éœ€è¿›ä¸€æ­¥è€ƒè¯)æœ€æœ‰å¯èƒ½ï¼Œæ¯ä¸€ä¸ªLTSç‰ˆæœ¬å°†æœ‰ä¸€ä¸ªä¸“å±žçš„å‡çº§è´Ÿè´£äººï¼Œä¾‹å¦‚Java 11å¯èƒ½ç”±Red Hatè´Ÿè´£ã€‚è¿™äº›éƒ½æ˜¯é’ˆå¯¹æºç ï¼Œé‚£ä¹ˆæˆ‘ä»¬å“ªé‡Œå¯ä»¥èŽ·å¾—äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆBinariesï¼‰å‘¢ï¼ŸAdoptOpenJDKå°†æŒç»­ç”Ÿæˆä¸åŒå¹³å°çš„OpenJDKç‰ˆæœ¬æ€»ç»“ï¼Œæˆ‘ä»¬å¯ä»¥èŽ·å¾—å…è´¹çš„OpenJDKï¼Œç”±Javaç¤¾åŒºçŸ¥åä¼ä¸šå…±åŒç»´æŠ¤ï¼Œå¹¶é€šè¿‡AdoptOpenJDKæŒç»­æ›´æ–°ï¼Œè¿™éžå¸¸æ£’ï¼ å…³äºŽAmazon Correttoè´¢å¤§æ°”ç²—çš„Amazonå®£å¸ƒè¿›å…¥OpenJDKä¾›åº”å•†è¡Œåˆ—ï¼Œå¹¶å‘å¸ƒäº†Correttoï¼Œå¹¶æä¾›çš„é•¿æœŸå…è´¹çš„æœåŠ¡ï¼ˆç›®å‰ï¼Œå®ƒåªæ”¾å‡ºäº†Java 8ï¼ŒJava 11é¢„è®¡4æœˆæ”¾å‡ºï¼‰ï¼Œå…³é”®ä¿¡æ¯å¦‚ä¸‹ï¼š åŸºäºŽOpenJDKï¼Œæ·»åŠ äºšé©¬é€Šå®žçŽ°çš„å®‰å…¨ã€æ€§èƒ½ã€ç¨³å®šã€bugç­‰ä¿®å¤ æ”¯æŒLinux Mac OS Windows å…è´¹ä½¿ç”¨ï¼ŒGPL+CEæŽˆæƒï¼ˆè¿™å°±æ˜¯ä¸ªâ€æ…å±€è€…â€è¯´å¥½çš„ä¾›åº”å•†å¯ä»¥è‡ªå·±å®šåˆ¶ï¼Œç„¶åŽä¹°æœåŠ¡çš„ä½ æ€Žä¹ˆä¸æŒ‰å¥—è·¯å‡ºç‰Œå‘¢ï¼Ÿç­”ï¼šæœ‰é’±ä»»æ€§ï¼‰ é•¿æœŸæ”¯æŒJava 8 åˆ°2023 é•¿æœŸæ”¯æŒJava 11 åˆ°2024 å­£åº¦æ›´æ–°å’Œä¸å®šæœŸçš„ç´§æ€¥æ›´æ–° å‚è€ƒå…¶å¯¹OpenJDKçš„è´¡çŒ®ï¼ŒAmazonä»Ž2017å¹´å¼€å§‹ä¸ºOpenJDKè´¡çŒ®ï¼Œæ‰€ä»¥å…¶å¾ˆå¯èƒ½å°†å…¶Correttoçš„æ›´æ–°åˆ°OpenJDKä¸­ï¼Œè¿™æ ·å¤§å®¶å°±å¯ä»¥éƒ½ä½¿ç”¨äº†ï¼ˆå¥½äººåšåˆ°åº•å•¦ï¼Œè´¡çŒ®å‡ºæ¥å§ï¼‰ã€‚å¦‚æžœæ²¡æœ‰ï¼Œè‡ªå·±çœ‹Correttoçš„æºç ï¼Œè‡ªå·±æžåˆå¹¶å§ã€‚ç®€å•è¯´ï¼ŒAmazonä¼šåˆå¹¶Oracleçš„è¡¥ä¸åˆ°å…¶Correttoåˆ†æ”¯ä¸Šï¼Œå³ä½¿ä»–ä»¬æ²¡æœ‰è¿™ä¹ˆåšï¼Œæˆ‘ä»¬è‡ªå·±åšä¹Ÿä¸éš¾ã€‚è¿™æ ·ä½¿å¾—å…è´¹çš„é•¿æœŸæ”¯æŒï¼Œç¤¾åŒºé©±åŠ¨OpenJDK11æ›´å¯è¡Œï¼Œéžå¸¸é…·ï½ž å‡†å¤‡ä½ çš„è¿ç§»ï¼ˆç®€åŒ–ç¿»è¯‘ä»¥ä¸‹å†…å®¹ï¼‰å¥½äº†ï¼Œæˆ‘ä»¬å‡†å¤‡è¿ç§» é•¿ç—›è¿˜æ˜¯çŸ­ç—›ï¼Ÿå»ºè®®çŸ­ç—›ï¼š ä¸è¦å»ºç«‹é•¿æœŸåˆå¹¶åˆ†æ”¯ï¼Œç›´æŽ¥åœ¨å¼€å‘åˆ†æ”¯å°è¯•Java 11ï¼Œé¿å…ä¸è¦çš„åˆå¹¶å†²çª é…ç½®çš„ä½ çš„æŒç»­é›†æˆæœåŠ¡å™¨ï¼Œæ™®é€šç¼–è¯‘ä¸€æ¬¡ï¼ŒJava 11ç¼–è¯‘ä¸€æ¬¡ å­¦ä¹ é…ç½®ç¼–è¯‘å·¥å…·ç‰¹æ®Šé…ç½®ï¼Œæ·»åŠ æ–°Javaç‰ˆæœ¬æ”¯æŒ ç‰ˆæœ¬ç‰¹æ®ŠåŒ–é…ç½®å°½å¯èƒ½çš„å°ï¼Œæ›´æ–°ä¾èµ–å¥½äºŽåœ¨å‘½ä»¤è¡Œä¸­æ·»åŠ å‚æ•° æ›´æ–°æ‰€æœ‰å¼€å‘å·¥å…·å»ºè®®æ›´æ–°ï¼š IntelliJ IDEAï¼š2018.2ä»¥ä¸Š Eclipseï¼šPhoton 4.9RC2 with Java 11 pluginä»¥ä¸Š Mavenï¼š3.5.0ä»¥ä¸Š compiler plugin: 3.8.0 surefire and failsafe: 2.22.0 gradle 4.10.2ä»¥ä¸Š æ‰€æœ‰æ“ä½œå­—èŠ‚ç çš„åŒ…éœ€è¦æ›´è¡Œï¼Œå› ä¸ºJavaç‰ˆæœ¬å˜åŠ¨ï¼Œå­—èŠ‚ç çš„Levelä¼šæ¯6ä¸ªæœˆæ›´æ–°ä¸€æ¬¡ ASM Byte Buddy cglib Javassist Spring Hibernate Mockito æ³¨æ„æ­¤æ–¹é¢çš„é”™è¯¯ï¼Œä¾‹å¦‚å‡çº§Hibernateï¼š 1234567891011121314&lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt; &lt;!-- LOOK OUT: YOU SHOULD USE A NEWER VERSION! --&gt; &lt;version&gt;5.2.12.Final&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;!-- update Hibernate dependency on Javassist from 3.20.0 to 3.23.1 for Java 11 compatibility --&gt; &lt;groupId&gt;org.javassist&lt;/groupId&gt; &lt;artifactId&gt;javassist&lt;/artifactId&gt; &lt;version&gt;3.23.1-GA&lt;/version&gt;&lt;/dependency&gt; å¦‚æžœä¸è¡Œï¼Œé‚£å°±è¦æ·±å…¥é—®é¢˜ï¼ŒæŸ¥æ‰¾å…¶ä»–åŽŸå›  å…³äºŽæ¨¡å—ç³»ç»Ÿå°±ä¸€ä¸ªåŽŸåˆ™ï¼ŒJava 9ä»¥åŽï¼Œä½ å¹¶ä¸éœ€è¦æ¨¡å—åŒ–ï¼Œæ‰€ä»¥è¯¥æ€Žä¹ˆç»„ç»‡packageå°±æ€Žä¹ˆç»„ç»‡ å¼€å§‹è¿ç§»å‡†å¤‡å°±ç»ªï¼Œçœ‹çœ‹Java 11éƒ½ä¼šé‡åˆ°ä»€ä¹ˆï¼Œç„¶åŽæ€Žä¹ˆè§£å†³ã€‚ æœªå®Œå¾…ç»­â€¦â€¦]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Modeling & NoSQL]]></title>
    <url>%2F2018%2F12%2F08%2FModeling-NoSQL%2F</url>
    <content type="text"><![CDATA[å»ºæ¨¡ä¸ŽNoSQLï¼Œè¿™ä¸€åˆ‡æºäºŽæœ€è¿‘å¯¹å•†å“å»ºæ¨¡çš„æ€è€ƒã€‚åœºæ™¯ï¼Œå½“ä½ æœ‰å¾ˆå¤šäº§å“ï¼Œä»–ä»¬æœ‰ä¸åŒçš„å±žæ€§ï¼Œå¹¶ä¸”å·®å¼‚è¾ƒå¤§ï¼Œä»ŠåŽæ–°å¢žäº§å“çš„å±žæ€§åˆä¸ç¡®å®šï¼Œé‚£ä¹ˆä½ çš„æ•°æ®åº”è¯¥å¦‚ä½•å­˜å‚¨ï¼Œå¦‚ä½•å»ºæ¨¡å‘¢ï¼Ÿ Modelingå•†å“æ•°æ®çš„å»ºæ¨¡æ–¹å¼ï¼Œå…¶å®žæˆ‘ä»¬å¹³æ—¶ç»å¸¸ä½¿ç”¨ï¼Œå¹¶ä¸å°‘è§ï¼Œä½†å¤§å¤šæ—¶å¯èƒ½åªæ˜¯æ¨¡ä»¿ä½¿ç”¨ï¼Œå¹¶æ²¡æœ‰å¯¹å…¶è¿›è¡Œæ·±å…¥æ€è€ƒæˆ–æ•´ç†å½’çº³ã€‚ç›´è§‚çš„æ•°æ®åº“å»ºæ¨¡æ–¹å¼å°±æ˜¯é€šè¿‡ä¸€å¼ å•†å“è¡¨å¯¹å…¶è¿›è¡Œè®°å½•ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸è§çš„è¡Œå»ºæ¨¡æ–¹å¼ï¼ˆRow Modelingï¼‰ã€‚ç¨å¾®ä¼˜ç‚¹å¼€å‘ç»éªŒçš„æœ‹å‹ç†è§£ä¼šæ„è¯†åˆ°ï¼Œè¿™æ ·çš„å®žä½“å¯¹è±¡entityå¯¹åº”ä¸€å¼ æ•°æ®è¡¨çš„æ–¹å¼ï¼Œä¸èƒ½å¾ˆå¥½æ»¡è¶³æˆ‘ä»¬éœ€è¦é¢å¯¹çš„åœºæ™¯ã€‚å…¶ä¸é€‚åº”å°†è¡¨çŽ°ä¸ºï¼š å±žæ€§å·®å¼‚è¿‡å¤§ï¼Œé€ æˆè¡¨å­—æ®µæ•°é‡è·Ÿéšäº§å“ç±»åˆ«å˜åŒ–ï¼Œå¹¶ä¸”å·¨å¤§ å±žæ€§å·®å¼‚è¿‡å¤§ï¼Œé€ æˆæ•°æ®ç¨€ç–ï¼Œè¡¨å­˜å‚¨ç©ºé—´æµªè´¹ ä»ŠåŽæ–°å¢žå¸¸å“ï¼Œè¡¨ç»“æž„éœ€è¦è°ƒæ•´éžå¸¸ä¸çµæ´»ç­‰ç­‰ï¼Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œè¿™ä¸ªæ€è·¯ä¼°è®¡è¿žå½“ä»Šå¤§å­¦æ¯•ä¸šè®¾è®¡çš„åŒå­¦éƒ½ä¸ä¼šçŠ¯çš„é”™è¯¯ã€‚é‚£ä¹ˆåº”è¯¥æ€Žä¹ˆåšï¼Œå¼€å‘è€…ä¸€èˆ¬ä¼šæƒ³åˆ°å­—æ®µæ‹†åˆ†ï¼Œè¡¨å…³è”æ–¹å¼å¤„ç†ã€‚é‚£ä¹ˆæœ‰ä»€ä¹ˆè§„èŒƒå¯ä»¥éµå¾ªå—ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæœ‰çš„ï¼ŒEAVï¼ˆEntity Attribute Valueï¼‰æ–¹å¼ã€‚ä»–æŠŠä¸€ä¸ªå®žä½“æ‹†æˆä¸‰éƒ¨åˆ†ï¼Œè¿›è¡Œå»ºæ¨¡ï¼š Entity å®žä½“ï¼Œå³äº‹ç‰©æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯å•†å“ Attribute å±žæ€§ï¼Œå°†äº‹ç‰©æ‰€æ‹¥æœ‰çš„å±žæ€§ Value å€¼ï¼Œå•†å“çš„å…·ä½“å±žæ€§å¯¹åº”çš„å€¼ç®€å•è¯´ï¼Œè¿™æ ·å½¢æˆäº†ï¼Œå¤šå¼ å…³è”çš„æ•°æ®è¡¨ï¼Œç»´æŠ¤å•†å“ä¿¡æ¯ï¼Œå¹¶å®žçŽ°çµæ´»è°ƒæ•´ã€‚ è¿™æ ·åšçš„åå¤„æ˜¯ä»€ä¹ˆï¼Ÿå»ºæ¨¡ä¸Šæ»¡è¶³äº†æˆ‘ä»¬çš„åœºæ™¯éœ€æ±‚ï¼Œä½†åœ¨å…¶ä»–æ–¹é¢æœ‰ä¸å¦‚æ„çš„åœ°æ–¹ï¼Œä¸»è¦è¡¨çŽ°åœ¨ï¼š æ•°æ®è¡¨å¤šï¼Œæ•°æ®ç»“æž„å¤æ‚ï¼Œç»´æŠ¤ç¹ç æŸ¥è¯¢è¯­å¥å¤æ‚ï¼Œä¸¥é‡å½±å“æŸ¥è¯¢æ€§èƒ½ å®žé™…æ•°æ®ä½¿ç”¨æ—¶ï¼Œéœ€è¦å¤§é‡è¡Œåˆ—è½¬æ¢æ“ä½œï¼Œå¯èƒ½éœ€è¦å“åº”è¯•å›¾ç»“æž„æ”¯æ’‘ï¼Œæ˜¯CPUå¯†é›†åž‹æ“ä½œï¼Œå¯¹æ•°æ®åº“åŽ‹åŠ›å¤§ æ€Žä¹ˆè§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæœ‰äº›æœ‹å‹å¯èƒ½ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯NoSQLï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä»–ä»¬é€‚åˆä¸ï¼Ÿ NoSQLè¯´NoSQLæ˜¯å¦åˆé€‚ï¼Œéœ€è¦å…ˆäº†è§£NoSQLçš„åˆ†ç±»å‚è€ƒç½‘ä¸Šå¸¸è§åˆ†ç±»æœ‰å››ç§ï¼Œå¦‚ä¸‹ï¼š é”®å€¼å­˜å‚¨æ•°æ®åº“ ç›¸å…³äº§å“ï¼šRedisã€Riakã€SimpleDBã€Chordlessã€Scalarisã€Memcached åº”ç”¨ï¼šå†…å®¹ç¼“å­˜ ä¼˜ç‚¹ï¼šæ‰©å±•æ€§å¥½ã€çµæ´»æ€§å¥½ã€å¤§é‡å†™æ“ä½œæ—¶æ€§èƒ½é«˜ ç¼ºç‚¹ï¼šæ— æ³•å­˜å‚¨ç»“æž„åŒ–ä¿¡æ¯ã€æ¡ä»¶æŸ¥è¯¢æ•ˆçŽ‡è¾ƒä½Ž åˆ—å­˜å‚¨æ•°æ®åº“ ç›¸å…³äº§å“ï¼šBigTableã€HBaseã€Cassandraã€HadoopDBã€GreenPlumã€PNUTS åº”ç”¨ï¼šåˆ†å¸ƒå¼æ•°æ®å­˜å‚¨ä¸Žç®¡ç† ä¼˜ç‚¹ï¼šæŸ¥æ‰¾é€Ÿåº¦å¿«ã€å¯æ‰©å±•æ€§å¼ºã€å®¹æ˜“è¿›è¡Œåˆ†å¸ƒå¼æ‰©å±•ã€å¤æ‚æ€§ä½Ž ç¼ºç‚¹ï¼šåŠŸèƒ½ç›¸å¯¹å±€é™ æ–‡æ¡£æ•°æ®åº“ ç›¸å…³äº§å“ï¼šMongoDBã€CouchDBã€ThruDBã€CloudKitã€Perservereã€Jackrabbit åº”ç”¨ï¼šå­˜å‚¨ã€ç´¢å¼•å¹¶ç®¡ç†é¢å‘æ–‡æ¡£çš„æ•°æ®æˆ–è€…ç±»ä¼¼çš„åŠç»“æž„åŒ–æ•°æ® ä¼˜ç‚¹ï¼šæ€§èƒ½å¥½ã€çµæ´»æ€§é«˜ã€å¤æ‚æ€§ä½Žã€æ•°æ®ç»“æž„çµæ´» ç¼ºç‚¹ï¼šç¼ºä¹ç»Ÿä¸€çš„æŸ¥è¯¢è¯­è¨€ å›¾å½¢æ•°æ®åº“ ç›¸å…³äº§å“ï¼šNeo4Jã€OrientDBã€InfoGridã€GraphDB åº”ç”¨ï¼šå¤§é‡å¤æ‚ã€äº’è¿žæŽ¥ã€ä½Žç»“æž„åŒ–çš„å›¾ç»“æž„åœºåˆï¼Œå¦‚ç¤¾äº¤ç½‘ç»œã€æŽ¨èç³»ç»Ÿç­‰ ä¼˜ç‚¹ï¼šçµæ´»æ€§é«˜ã€æ”¯æŒå¤æ‚çš„å›¾å½¢ç®—æ³•ã€å¯ç”¨äºŽæž„å»ºå¤æ‚çš„å…³ç³»å›¾è°± ç¼ºç‚¹ï¼šå¤æ‚æ€§é«˜ã€åªèƒ½æ”¯æŒä¸€å®šçš„æ•°æ®è§„æ¨¡ æ‰€ä»¥ï¼Œå¦‚æžœä½¿ç”¨NoSQLå­˜å‚¨å¤šå˜çš„å­—æ®µæ•°æ®å†…å®¹ï¼Œç¬¬ä¸€ä¼˜é€‰å°±æ˜¯æ–‡æ¡£æ•°æ®åº“ï¼Œç”šè‡³å¯ä»¥è€ƒè™‘ä½¿ç”¨ElasticSearchæ¥å®Œæˆæ›´ä¸ºå¤æ‚çš„æœç´¢éœ€æ±‚ã€‚è¿™æ ·çš„æ–¹æ³•æ˜¯å¦åˆç†å‘¢ï¼Ÿ NoSQL æ–¹æ¡ˆé—®é¢˜å¢žåŠ ç³»ç»Ÿå¼€å‘å¤æ‚åº¦ï¼Œéœ€è¦åŒæ—¶æ“çºµä¸¤ç§ä¸åŒç±»åž‹çš„æ•°æ®åº“ã€‚æ¯•ç«ŸåŽŸæœ‰çš„ä¸šåŠ¡æ•°æ®è¿˜éœ€è¦åœ¨å…³ç³»åž‹æ•°æ®åº“ä¸­ä¿å­˜ï¼ŒåŒæ—¶æ— æ³•åˆç†å…³ç³»åŒ–çš„å­—æ®µæ•°æ®å°†å­˜å…¥NoSQLæ•°æ®åº“ä¸­ã€‚ éœ€è¦è€ƒè™‘ä¸¤ä¸ªæ•°æ®åº“ä¿è¯æ•°æ®ä¸€è‡´æ€§é—®é¢˜ æ•°æ®ä½¿ç”¨æ—¶éœ€è¦è€ƒè™‘åˆç†çš„æŸ¥è¯¢æ–¹å¼ï¼Œæ‹¼æŽ¥æ•°æ® ç®€å•è¯´æ•°æ®ä½¿ç”¨å’Œç»´æŠ¤çš„ç›¸å…³ç³»ç»Ÿå®žçŽ°æž¶æž„éƒ½éœ€è¦æœ‰è¾ƒå¥½çš„è®¾è®¡å’Œå¼€å‘æ”¯æ’‘ï¼Œç³»ç»Ÿå¤æ‚åº¦å¤§ï¼Œè¿è¥ç»´æŠ¤æˆæœ¬é«˜ã€‚åŒæ—¶ä¸å¦è®¤ï¼Œè¿™ç§æ–¹å¼ä¹Ÿæœ‰å…¶å®žé™…åº”ç”¨ä»·å€¼å’Œä¼˜åŠ¿ï¼Œä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„å¤„ç†æ–¹å¼ã€‚ é‚£æœ‰æ²¡æœ‰å…¶ä»–æ–¹æ¡ˆï¼Ÿ JSON ç±»åž‹æ•°æ®å¼•å…¥JSONç±»åž‹ä¹Ÿé€æ­¥æˆä¸ºä¸»æµï¼Œä¹Ÿé€æ¸æˆç†Ÿã€‚è®°å¾—æœ€æ—©æ˜¯PostgreSQL 9.3çš„ä¸€æ¬¡åˆ›æ–°åž‹å®žéªŒï¼Œä¹‹åŽå°±æ˜¯MySQL 5.7ä¹Ÿæ·»åŠ äº†ç›¸åº”çš„æ”¯æŒï¼ŒOracle 12cr1 ä¾MySQLä¸ºä¾‹ï¼Œç®€å•çœ‹ä¸€ä¸‹å…¶åŠŸèƒ½ åˆ›å»ºè¡¨ 1CREATE TABLE t_json(id INT PRIMARY KEY, sname VARCHAR(20) , info JSON); æ’å…¥æ•°æ® 123456-- æ’å…¥å«æœ‰jsonæ•°ç»„çš„è®°å½•INSERT INTO t_json(id,sname,info) VALUES( 1, 'name1', JSON_ARRAY(1, "abc", NULL, TRUE, CURTIME()));-- æ’å…¥å«æœ‰jsonå¯¹è±¡çš„è®°å½•INSERT INTO t_json(id,sname,info) VALUES( 2, 'name2', JSON_OBJECT("age", 20, "time", now()));INSERT INTO t_json(id,sname,info) VALUES( 3, 'name3', '&#123;"age":20, "time":"2018-07-14 10:52:00"&#125;'); 12345-- æŸ¥è¯¢è®°å½•SELECT sname,JSON_EXTRACT(info,'$.age') FROM t_json;SELECT sname,info-&gt;'$.age' FROM t_json;-- æŸ¥è¯¢keySELECT id,json_keys(info) FROM t_json; æ‰€ä»¥ï¼Œå…³ç³»åº“ä¸­çš„JSONç±»åž‹æ˜¯å¯ä»¥æ¯”è¾ƒç†æƒ³çš„æ»¡è¶³æˆ‘ä»¬ä½¿ç”¨åœºæ™¯ï¼Œæ—¢å…¼é¡¾äº†åŽŸæœ‰ä¸šåŠ¡æ•°æ®ä¹Ÿä¿è¯äº†æ•°æ®çš„çµæ´»æ€§ï¼ŒåŒæ—¶ç»´æŠ¤å’Œä½¿ç”¨æŠ€æœ¯çŽ¯å¢ƒç»Ÿä¸€ï¼Œé™ä½Žç³»ç»Ÿå¤æ‚åº¦ã€‚ç¼ºç‚¹ï¼Œæ€§èƒ½ç•¥æœ‰æŸå¤±ï¼Œä»£ç å¤„ç†ç•¥æœ‰å¤æ‚ã€‚é’ˆå¯¹JSONæ•°æ®å†…å®¹ä¹Ÿæ˜¯å¯ä»¥å»ºç«‹ç´¢å¼•çš„ï¼Œæå‡æŸ¥è¯¢é€Ÿåº¦ï¼Œè¿™ä¸ªçš„ä½¿ç”¨ä¹Ÿè®¸åˆç†è®¾è®¡ã€‚ æ€»ç»“æ–‡ç« ä»Žç¬¬ä¸€å¤©å»ºç«‹åˆ°ä»Šå¤©ï¼ˆ1-4ï¼‰è¡¥å®Œï¼Œç»åŽ†å¿«ä¸€ä¸ªæœˆã€‚è¿™ä¸€ä¸ªæœˆæœ¬äººä¹Ÿç»åŽ†äº†å¾ˆå¤šï¼ŒåŒæ—¶ï¼Œåšäº†ä¸€ä¸ªä»Žä¸šä»¥æ¥æœ€ä»»æ€§çš„å†³å®šï¼Œè‡³äºŽç»“æžœå¦‚ä½•ï¼Œé‚£å°±çœ‹è‡ªå·±çš„åŠªåŠ›äº†ã€‚ æ–°çš„ä¸€å¹´å¼€å§‹ï¼Œæ„Ÿè°¢æˆ‘æŽ¥è§¦è¿‡çš„æ‰€æœ‰äººï¼Œæ„Ÿè°¢ä½ ä»¬çš„å¸®åŠ©ã€‚å¸Œæœ›ä¸ªäººä»ŠåŽå¯ä»¥èµ°çš„æ›´å¥½ã€‚ç¥å¤§å®¶å®‰åº·ï¼ å‚è€ƒEAV æ¨¡åž‹NoSQL åˆ†ç±»æ•°æ®åº“ JSON ç±»åž‹]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>Design</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[API Gateway]]></title>
    <url>%2F2018%2F11%2F20%2Fapi-gateway%2F</url>
    <content type="text"><![CDATA[è¯´ä¸€è¯´API Gatewayï¼Œä¸€åˆ‡æœåŠ¡çš„å…¥å£ã€‚ä¹Ÿç§°å…¶ä¸ºAPI Managementï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”æˆ‘ä¹‹å‰æƒ³è±¡è¿˜è¦å¤§çš„ç³»ç»Ÿï¼Œè¿™ç¯‡æ–‡ç« æˆ‘å°è¯•åšä¸€äº›æ€»ç»“ã€‚ä¸‹é¢æåˆ°çš„API Gateway å’Œ API Management å°†ä½œä¸ºç­‰åŒåè¯ï¼Œé™¤éžæˆ‘ç‰¹æ®Šè¯´æ˜Žã€‚ ä»€ä¹ˆæ˜¯API Gatewayï¼Ÿå®ƒä¸»è¦åšä»€ä¹ˆäº‹æƒ…ï¼Œæä¾›ä»€ä¹ˆåŠŸèƒ½ç®€å•è¯´å°±æ˜¯å°†åŽé¢çš„å¾®æœåŠ¡çš„APIç»Ÿä¸€æš´éœ²å‡ºæ¥çš„ç½‘å…³çš„å°±æ˜¯API Gatewayã€‚ä»–åº”å…·å¤‡ä¸€ä¸‹èƒ½åŠ›ï¼š å¾®æœåŠ¡APIè·¯ç”±åŠŸèƒ½è‡ªå®šä¹‰è·¯ç”±è§„åˆ™ï¼Œæš´éœ²å‡ºè®¿é—®è·¯å¾„ï¼Œå¹¶å¯ä»¥é€šè¿‡è®¿é—®è·¯å¾„è·¯ç”±åˆ°å¯¹åº”çš„åŽç«¯æœåŠ¡ä¸­ ç”¨æˆ·éªŒè¯åŠé‰´æƒé€šè¿‡å¯¹Requestè¯·æ±‚ä¸­ç›¸å…³ä¿¡æ¯çš„åˆ¤æ–­ï¼Œé‰´åˆ«ç”¨æˆ·å’Œå…¶è®¿é—®æƒé™ APIç‰ˆæœ¬æŽ§åˆ¶å’Œå‘å¸ƒAPIå‘å¸ƒã€ä¸Šçº¿ã€æµ‹è¯•ã€åœç”¨å·²ç»ä¸åŒç‰ˆæœ¬çš„æŽ§åˆ¶ APIä¿¡æ¯ç»´æŠ¤è¿™ä¸ªåŠŸèƒ½ç±»ä¼¼äºŽswaggerè¿™æ ·çš„åŠŸèƒ½ï¼Œå±•ç¤ºæŽ¥å£è°ƒç”¨ä¿¡æ¯ APIè®¿é—®æµé‡æŽ§åˆ¶å¯¹APIè®¿é—®è¿›è¡Œæµé‡ã€æµ‹è¯•ã€é¢‘çŽ‡ç­‰æ–¹é¢çš„æŽ§åˆ¶ APIè°ƒç”¨ç›‘æŽ§åŠæŠ¥è­¦ç›‘æŽ§APIè°ƒç”¨æ‰§è¡Œæƒ…å†µï¼Œä¾‹å¦‚è°ƒç”¨æ—¶é•¿ã€æ˜¯å¦æœ‰å¼‚å¸¸ï¼Œå¹¶å¯¹æ•æ„Ÿä¿¡æ¯è¿›è¡ŒæŠ¥è­¦ å‚æ•°æ ¡éªŒåŠè½¬æ¢å¯¹Requestè¯·æ±‚ä¸­çš„å‚æ•°è¿›è¡Œæ ¡éªŒå’Œè½¬æ¢ï¼Œé˜²æ­¢æ³¨å…¥æ”»å‡»ç­‰ å½“ç„¶è¿˜æœ‰å…¶ä»–åŠŸèƒ½ï¼Œè¿™é‡Œä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚ å·²çŸ¥çš„äº‘æœåŠ¡ åç§° apigee AWS API ç½‘å…³ é˜¿é‡Œäº‘APIç½‘å…³ è…¾è®¯äº‘APIç½‘å…³ ç½‘å€ apigee.com amazonaws-china.com /cn/api-gateway www.aliyun.com /product/apigateway cloud.tencent.com /product/apigateway å…¬å¸ Google Amazon Aliyun Tencent APIç”Ÿå‘½å‘¨æœŸç®¡ç† Y Y Y Y APIèº«ä»½éªŒè¯ Y Y Y Y æƒé™æŽ§åˆ¶ Y Y Y Y ç®—æ³•ç­¾åã€SSL Y Y Y Y æµé‡æŽ§åˆ¶ Y Y Y Y IPè®¿é—®æŽ§åˆ¶ N Y Y N CORS Y Y Y Y è¯·æ±‚å‚æ•°æ ¡éªŒ Unknow Y Y N è¯·æ±‚å‚æ•°è½¬æ¢ Unknow Y Y Y APIç›‘æŽ§ Y Y Y Y å¼‚å¸¸æŠ¥è­¦ Y Y Y N SDKç”Ÿæˆ Y Y Y N MockæŽ¥å£ Y Y Y Y ä»¥ä¸ŠåŠŸèƒ½æ€»ç»“å¯èƒ½å­˜åœ¨é”™è¯¯ï¼Œå¯èƒ½æœ‰äº›æ˜¯æˆ‘æ²¡æœ‰æ‰¾åˆ°çš„ã€‚åŒæ—¶å„ä¸ªåŽ‚å•†çš„åŠŸèƒ½ä»ŠåŽå¯èƒ½è¶‹åŒï¼Œç›®å‰çœ‹AWSå’ŒAliåšçš„æœ€å¥½ã€‚ API Gatewayæœ‰å“ªäº›å¼€æºæ¡†æž¶ï¼Ÿç›®å‰çœ‹åˆ°çš„æ¯”è¾ƒç†æƒ³çš„å¼€æºæ¡†æž¶æœ‰ï¼šKongã€WSO2ã€TYKã€Spring Cloud Gatewayã€‚æœ€è¿‘ä¸»è¦ç ”ç©¶äº†å‰ä¸¤ä¸ªï¼Œç®€å•è¯´æ˜Žå„è‡ªä¼˜ç¼ºç‚¹ Kongä½¿ç”¨æœ€ä¸ºå¹¿æ³›ï¼Œå¼€æºåè®®Apache License 2.0ï¼Œæœ‰ä»˜è´¹å•†ä¸šç‰ˆï¼Œå¼€æºç‰ˆå’Œä»˜è´¹ç‰ˆä¸»è¦åŒºåˆ«åœ¨äºŽéƒ¨åˆ†ä¼ä¸šç‰ˆæ’ä»¶ ä¼˜ç‚¹ï¼š æ€§èƒ½éžå¸¸å‡ºè‰²ï¼ŒåŸºäºŽNginx Openrestyå®žçŽ°ï¼Œæºç ç®€æ´ æ’ä»¶åŠŸèƒ½æ¯”è¾ƒå®Œå–„ï¼Œæ”¯æŒè‡ªå®šä¹‰æ’ä»¶æ‰©å±•ï¼Œçµæ´»æ˜“ç”¨ï¼ŒåŸºæœ¬æ»¡è¶³å¸¸è§åœºæ™¯ æ”¯æŒDockerï¼ŒK8Sç­‰åº”ç”¨åœºæ™¯ï¼Œéƒ¨ç½²çµæ´» å®˜æ–¹æ–‡æ¡£ä¸°å¯Œï¼Œé˜è¿°æ¸…æ¥šï¼Œä¸Šæ‰‹å¿« ç¼ºç‚¹ï¼š Luaè¯­è¨€å¼€å‘ï¼Œéœ€è¦Linuxç¼–è¯‘çŽ¯å¢ƒï¼ŒäºŒæ¬¡å¼€å‘çŽ¯å¢ƒæœ‰ç‰¹æ®Šè¦æ±‚ å·²æœ‰å¼€æºæ’ä»¶ä¸­å¹¶æœªè¦†ç›–APIç½‘å…³å…¨éƒ¨åŠŸèƒ½ï¼Œ WSO2åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå¼€æºåè®®Apache License 2.0ï¼Œæä¾›äº‘æœåŠ¡å’Œå•†ä¸šsupportæ”¯æŒæœåŠ¡ ä¼˜ç‚¹ï¼š åŠŸèƒ½ååˆ†é½å…¨ï¼Œå¹¶æä¾›é…å¥—ç»„ä»¶é¡¹ç›® Javaå¼€å‘ï¼Œå¼€å‘çŽ¯å¢ƒæ™®åŠåº¦é«˜ æ”¯æŒDocker K8Sç­‰åº”ç”¨åœºæ™¯ï¼Œéƒ¨ç½²çµæ´» ç¼ºç‚¹ï¼š æºç è¿‡äºŽåºžå¤§ï¼Œéš¾ä»¥æ¶ˆåŒ–ï¼ŒåŸºæœ¬éƒ½æ˜¯è‡ªå®šä¹‰jaråŒ… å®˜æ–¹å…¬å¼€æ–‡æ¡£ä¿¡æ¯ä¸å…¨ï¼Œæ²¡æœ‰ä»˜è´¹Supportéš¾ä»¥ä½¿ç”¨ï¼ˆæˆ‘è§‰å¾—æ˜¯å¯¹æ–¹æ•…æ„çš„ï¼‰ ##é€‰åž‹ç»“è®ºæœ€ç»ˆï¼Œå›¢é˜Ÿé€‰äº†Kongä½œä¸ºå®žçŽ°åŸºç¡€ï¼ŒåŸºäºŽå…¶æ’ä»¶è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚ ##åŽè®°Luaçš„å¼€å‘ç¡®å®žä¸å¤ªä»¤äººèˆ’æœï¼Œå¦‚æžœå›¢é˜Ÿä¸­æ²¡æœ‰äººä½¿ç”¨è¿‡Luaå¼€å‘è¿˜æ˜¯å»ºè®®ä¸è¦è½»æ˜“ä½¿ç”¨ã€‚Zuulçš„å¼€å‘è¿˜æ˜¯æ›´é€‚åˆJavaå›¢é˜Ÿä½¿ç”¨ï¼Œæ‰¾æ—¶é—´å¯ä»¥çœ‹çœ‹zuul2çš„æ€§èƒ½æ˜¯å¦æœ‰æ‰€æ”¹å–„ã€‚ P.S. ç”±äºŽåˆšåˆšæ¢äº†å·¥ä½œï¼Œæ‰€ä»¥æœ€è¿‘ä¸€æ®µæ—¶é—´æ²¡æœ‰æ›´æ–°æ–‡ç« ï¼Œç¨åŽä¼šæ…¢æ…¢æ¢å¤ã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>Design</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Consulçš„å¤šå®žä¾‹æ³¨å†Œé—®é¢˜]]></title>
    <url>%2F2018%2F11%2F09%2Fconsul%2F</url>
    <content type="text"><![CDATA[å…¬å¸ç»ˆäºŽè¦é‡æž„ä¸€ä¸ªéžå¸¸å¤è€çš„é¡¹ç›®äº†ï¼ˆä¹‹å‰æˆ‘å»ºè®®äº†å¥½å¤šæ¬¡ï¼Œä¹Ÿè®¨è®ºäº†å¥½å¤šæ¬¡ï¼Œè¿™æ¬¡ç»ˆäºŽåŠ¨å·¥äº†ï¼‰ï¼Œå°†å…¶æŒ‰ç…§å¾®æœåŠ¡æ–¹å¼æ­å»ºï¼Œé‡‡ç”¨spring cloudæ¡†æž¶ï¼ˆä¹‹å‰å·²ç»åœ¨å…¶å®ƒé¡¹ç›®ä¸­ä½¿ç”¨äº†å¾ˆä¹…ï¼‰å¾ˆæœŸå¾…æ­¤é¡¹ç›®å¯ä»¥é¡ºåˆ©å®žçŽ°ï¼Œå¯ä»¥æ”¯æ’‘æœªæ¥çš„ä¸šåŠ¡å‘å±•ï¼Œç„¶è€Œè¿™ä¸€æ¬¡ç¨å¾®æ¥çš„æ™šäº†ä¸€äº›ï¼Œæˆ‘å°±è¦ç¦»å¼€äº†ã€‚èµ°ä¹‹å‰æˆ‘è¿˜æ˜¯ç«™å¥½æœ€åŽä¸€ç­å²—ï¼ŒæŠŠæ–°ç‰ˆå·¥ç¨‹çš„å¾®æœåŠ¡æž¶æž„æ­å»ºä¸€ä¸‹ï¼Œå¹¶å®žçŽ°ç»Ÿä¸€gatewayå…¥å£è·¯ç”±å’Œoauthè®¤è¯é€»è¾‘è¿˜æœ‰Memberç”¨æˆ·ä¸­å¿ƒå¾®æœåŠ¡ä¸­å¿…è¦çš„æŽ¥å£ï¼Œç®—æ˜¯é—äº§äº†ã€‚æŒ‰ç…§æˆ‘çš„ä¹ æƒ¯ï¼Œåªè¦æ˜¯å…¨æ–°çš„é¡¹ç›®ï¼Œæˆ‘å°†å°½å¯èƒ½æ›´æ–°ä¹‹å‰ä½¿ç”¨åˆ°çš„æŠ€æœ¯ã€‚ç”±äºŽä¹‹å‰æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯Eurekaä½œä¸ºæ³¨å†ŒæœåŠ¡ï¼Œè€Œå®ƒåœ¨2.0å®£å¸ƒé—­æºï¼Œè¿™ä¸ªå¯¹ä»ŠåŽä¼šå¸¦æ¥ä»€ä¹ˆå½±å“æœªçŸ¥ï¼Œæ‰€ä»¥æˆ‘å†³å®šå°†æ–°ç‰ˆå·¥ç¨‹æž¶æž„æ³¨å†ŒæœåŠ¡è¿ç§»åˆ°Consulã€‚è¿™ä¸å°±é‡åˆ°é—®é¢˜äº†â€¦â€¦ é—®é¢˜æè¿°æˆ‘æœ‰ä¸€ä¸ªMemberç”¨æˆ·ä¸­å¿ƒæœåŠ¡ï¼Œå½“æˆ‘åœ¨ä¸åŒä¸»æœºï¼ˆä¸åŒipåœ°å€ï¼‰ä¸Šè¿è¡Œä¸¤ä¸ªMemberå¾®æœåŠ¡æ—¶ï¼ŒConsulä¸­å¿ƒåªèƒ½çœ‹åˆ°ä¸€ä¸ªæœåŠ¡å®žä¾‹ã€‚ç¬¬ä¸€ååº”ï¼ŒWhatï¼ï¼Ÿ è¿™ä¸ªå’Œæˆ‘æƒ³è±¡çš„å®Œå…¨ä¸ä¸€æ ·å•Šï¼Œè¿™åº”è¯¥æ˜¯é»˜è®¤åŠŸèƒ½å•Šï¼ŒæœåŠ¡çš„å¤šèŠ‚ç‚¹å“ªé‡ŒåŽ»äº†ï¼ï¼Ÿå¦‚å›¾ï¼šæˆ‘è¿è¡Œäº†ä¸¤ä¸ªå®žä¾‹ï¼Œä½†åªèƒ½çœ‹è§ä¸€ä¸ª æˆ‘è¿™é‡Œçš„consulç”¨çš„æ˜¯1.3ç‰ˆæœ¬ é—®é¢˜åŽŸå› Consulå›¢é˜Ÿå…·ä½“æ€Žä¹ˆè€ƒè™‘è¿™ä¸ªå®žä¾‹åç§°ç”Ÿæˆè§„åˆ™çš„ï¼Œæˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯é—®é¢˜å°±æ˜¯å› ä¸ºå®ƒhttps://github.com/spring-cloud/spring-cloud-consul/issues/318ä¸€å¹´å¤šå‰å¼€çš„issueç«Ÿç„¶è¿˜æ²¡æœ‰å…³ï¼Œé—®é¢˜å°±æ˜¯instance idçš„é»˜è®¤ç»„æˆè§„åˆ™æ˜¯ application name - portæ²¡æœ‰ipåœ°å€ï¼Œæ‰€ä»¥å½“æˆ‘å¯åŠ¨MemberæœåŠ¡æ—¶ï¼Œè™½ç„¶åœ¨ä¸åŒä¸»æœºä¸Šï¼Œä½†æ˜¯ç«¯å£ç›¸åŒï¼Œæ‰€ä»¥instance idæ˜¯ä¸€æ ·ä¸€æ ·çš„ðŸ˜‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªèƒ½çœ‹åˆ°æœ€åŽå¯åŠ¨çš„é‚£ä¸ªå®žä¾‹è™½ç„¶ä¸‹é¢å›žå¤ä¸­ï¼Œä¸­å›½æœ‹å‹ï¼ˆæŽ¨æ–­ï¼‰ç»™å‡ºäº†æ˜Žç¡®çš„é—®é¢˜æ‰€åœ¨å’Œå»ºè®®çš„è§£å†³æ–¹æ³•ï¼Œç„¶è€ŒConsulå¼€å‘å›¢é˜Ÿè¿˜æ˜¯ç»§ç»­åšæŒä»–ä»¬çš„æƒ³æ³•ï¼ˆæˆ–æ˜¯spring cloud discoveryåŒ…æ²¡æœ‰åŠæ—¶æ›´æ–°ï¼ï¼Ÿï¼Œissueæ²¡æœ‰å…³å¯èƒ½consulå›¢é˜Ÿé—®é¢˜æ›´å¤šä¸€äº›ï¼Œäººå®¶springå›¢é˜Ÿä¹Ÿåªæ˜¯æ•´åˆè€Œå·²å•¦ï¼‰ï¼Œé¢ï½žï½žï½žä¸ºä»€ä¹ˆä¸æ”¹ï¼Œæ²¡æœ‰ç†è§£ è§£å†³åŠžæ³•ç¨‹åºå‘˜DDç»™å‡ºäº†è§£å†³åŠžæ³•é¡ºä¾¿æåŠä¸€å¥ï¼Œç¨‹åºå‘˜DDéžå¸¸ä¸é”™ï¼Œå€¼å¾—å…³æ³¨ éšæœºç«¯å£æ–¹å¼æˆ‘å°±ä¸è¯´äº†ï¼Œè¿™ä¸ªä¸å¯å–ï¼Œæˆ‘æ²¡æœ‰ç”¨ã€‚ ç›´æŽ¥final wayï¼Œé‡æ–°å®žçŽ°ConsulServiceRegistry 1234567891011121314151617181920/** * è°ƒæ•´consulæœåŠ¡æ³¨å†Œå®žä¾‹åç§° * * @author gino * Created on 2018/11/9 */@Configurationpublic class MyConsulServiceRegistry extends ConsulServiceRegistry &#123; public MyConsulServiceRegistry(ConsulClient client, ConsulDiscoveryProperties properties, TtlScheduler ttlScheduler, HeartbeatProperties heartbeatProperties) &#123; super(client, properties, ttlScheduler, heartbeatProperties); &#125; @Override public void register(ConsulRegistration reg) &#123; reg.getService().setId(reg.getService().getName() + "-" + reg.getService().getAddress() + "-" + reg.getService().getPort()); super.register(reg); &#125;&#125; æ²¡æœ‰ä»€ä¹ˆå¥½è§£é‡Šçš„ï¼Œåœ¨æ­¤å¯åŠ¨å°±æœ‰ä¸¤ä¸ªæœåŠ¡äº†ï¼Œå¦‚å›¾ä¸¤ä¸ªæœåŠ¡ï¼Œæ­£å¸¸æ³¨å†Œä¸Šäº†ï¼Œçº¢è‰²åŒºåŸŸå°±æ˜¯æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜æœ€ç»ˆç»“æžœã€‚ æ€»ç»“é™¤äº†Consulä¸­çš„ä¸€äº›å°æ”¹å˜ï¼Œå…¶å®žæ¯æ¬¡Spring Cloudçš„ç‰ˆæœ¬å‡çº§ï¼ˆå½“å‰ä½¿ç”¨çš„Greenwich.M1ï¼‰éƒ½ä¼šè¿™æ ·é‚£æ ·çš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ…¢æ…¢è¸©é›·ï¼Œæ…¢æ…¢æˆé•¿ã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>spring cloud</tag>
        <tag>consul</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Minsky Moment]]></title>
    <url>%2F2018%2F11%2F05%2Fminsky%2F</url>
    <content type="text"><![CDATA[æ˜Žæ–¯åŸºæ—¶åˆ»ï¼Œæœ€è¿‘åˆšåˆšäº†è§£åˆ°è¿™ä¸ªè¯ï¼Œä½†å¬è¯´å·²ç»ç«äº†ä¸€å¹´äº†ï¼Œæˆ‘ä¹Ÿç®—æ˜¯åŽçŸ¥åŽè§‰äº†ã€‚ä»¥ä¸‹å†…å®¹æ‘˜è‡ªç™¾åº¦ç™¾ç§‘å’Œéƒ¨åˆ†è‡ªèº«ä¿®æ”¹ åŸºæœ¬å®šä¹‰æ˜Žæ–¯åŸºæ—¶åˆ»ï¼ˆMinsky Momentï¼‰æ˜¯æŒ‡ç¾Žå›½ç»æµŽå­¦å®¶æµ·æ›¼Â·æ˜Žæ–¯åŸº ï¼ˆHyman Minskyï¼‰æ‰€æè¿°çš„æ—¶åˆ»ï¼Œå³èµ„äº§ä»·å€¼å´©æºƒçš„æ—¶åˆ»ã€‚æ˜Žæ–¯åŸºè§‚ç‚¹ä¸»è¦æ˜¯ç»æµŽé•¿æ—¶æœŸç¨³å®šå¯èƒ½å¯¼è‡´å€ºåŠ¡å¢žåŠ ã€æ æ†æ¯”çŽ‡ä¸Šå‡ï¼Œè¿›è€Œä»Žå†…éƒ¨æ»‹ç”Ÿçˆ†å‘é‡‘èžå±æœºå’Œé™·å…¥æ¼«é•¿åŽ»æ æ†åŒ–å‘¨æœŸçš„é£Žé™© ç®€å•è¯´æ˜Žæ–¯åŸºæ—¶åˆ»è¡¨ç¤ºçš„æ˜¯å¸‚åœºç¹è£ä¸Žè¡°é€€ä¹‹é—´çš„è½¬æŠ˜ç‚¹ã€‚æ˜Žæ–¯åŸºçš„è§‚ç‚¹ç®€å•æ˜Žäº†ï¼šå¥½æ—¥å­çš„æ—¶å€™ï¼ŒæŠ•èµ„è€…æ•¢äºŽå†’é™©ï¼›å¥½æ—¥å­çš„æ—¶é—´è¶Šé•¿ï¼ŒæŠ•èµ„è€…å†’é™©è¶Šå¤šï¼Œç›´åˆ°è¿‡åº¦å†’é™©ã€‚ä¸€æ­¥ä¸€æ­¥åœ°ï¼ŒæŠ•èµ„è€…ä¼šåˆ°è¾¾ä¸€ä¸ªä¸´ç•Œç‚¹ä¸Šï¼Œå…¶èµ„äº§æ‰€äº§ç”Ÿçš„çŽ°é‡‘ä¸å†è¶³ä»¥å¿ä»˜ä»–ä»¬ç”¨æ¥èŽ·å¾—èµ„äº§æ‰€ä¸¾çš„å€ºåŠ¡ã€‚æŠ•æœºæ€§èµ„äº§çš„æŸå¤±ä¿ƒä½¿æ”¾è´·è€…æ”¶å›žå…¶è´·æ¬¾ã€‚â€œä»Žè€Œå¯¼è‡´èµ„äº§ä»·å€¼çš„å´©æºƒã€‚â€ è¿‡ç¨‹ä»¥çŽ°é‡‘æµä½œä¸ºä¾æ®ï¼Œæµ·æ›¼Â·æ˜Žæ–¯åŸºå°†å¸‚åœºä¸Šçš„é‡‘èžè¡Œä¸ºä¸»ä½“åˆ†ä¸ºä¸‰ç±»ï¼Œå…¶ä¸­é£Žé™©æœ€å¤§çš„ä¸»ä½“æ˜¯é«˜æ æ†çš„é“¶è¡Œå’Œé«˜èµ¤å­—çš„æ”¿åºœéƒ¨é—¨ã€‚æµ·æ›¼Â·æ˜Žæ–¯åŸºè®¤ä¸ºï¼Œèµ„æœ¬ä¸»ä¹‰ç»æµŽè¿½é€åˆ©æ¶¦çš„æœ¬æ€§å’Œé‡‘èžèµ„æœ¬å®¶å¤©ç”Ÿçš„çŸ­æœŸè¡Œä¸ºå¯¼è‡´äº†èµ„æœ¬ä¸»ä¹‰é‡‘èžä¸šçš„ä¸ç¨³å®š ï¼Œå®ƒæ˜¯æ— æ³•æ ¹é™¤çš„ï¼Œåªè¦å­˜åœ¨å•†ä¸šå‘¨æœŸï¼Œé‡‘èžä¸šçš„å†…åœ¨ä¸ç¨³å®šå°±å¿…ç„¶æ¼”åŒ–ä¸ºé‡‘èžå±æœºï¼Œå¹¶è¿›ä¸€æ­¥å°†æ•´ä½“ç»æµŽæ‹‰å‘å¤§å±æœºçš„æ·±æ¸Š ã€‚åœ¨å•†ä¸šå‘¨æœŸçš„ä¸Šå‡é˜¶æ®µï¼Œå†…åœ¨å±æœºä¼šè¢«ç»æµŽå¢žé•¿æ‰€æŽ©ç›–ï¼Œä½†æ˜¯ä¸€æ—¦ç»æµŽæ­¥å…¥åœæ»žç”šè‡³ä¸‹é™å‘¨æœŸï¼ŒçŸ›ç›¾ä¾¿ä¼šè¿…é€Ÿæ¿€åŒ–ï¼Œé«˜é£Žé™© çš„é‡‘èžä¸»ä½“å°±ä¼šä»¥å˜å–èµ„äº§æ¥å¿è¿˜å€ºåŠ¡ï¼Œä¹Ÿå°±æ˜¯åŽæ¥çš„å­¦è€…æ‰€æ€»ç»“çš„æ˜Žæ–¯åŸºæ—¶åˆ»ã€‚ ä¸‰é˜¶æ®µ ç¬¬ä¸€é˜¶æ®µï¼ŒæŠ•èµ„è€…ä»¬è´Ÿæ‹…å°‘é‡è´Ÿå€ºï¼Œå¿è¿˜å…¶èµ„æœ¬ä¸Žåˆ©æ¯æ”¯å‡ºå‡æ— é—®é¢˜ã€‚ ç¬¬äºŒé˜¶æ®µï¼Œä»–ä»¬æ‰©å±•å…¶é‡‘èžè§„æ¨¡ï¼Œä»¥è‡´åªèƒ½è´Ÿæ‹…åˆ©æ¯æ”¯å‡ºã€‚ ç¬¬ä¸‰é˜¶æ®µï¼Œå³æ—æ°éª—å±€ï¼Œä»–ä»¬çš„å€ºåŠ¡æ°´å¹³è¦æ±‚ä¸æ–­ä¸Šæ¶¨çš„ä»·æ ¼æ°´å¹³æ‰èƒ½å®‰ç„¶åº¦æ—¥ã€‚ ä¸»è¦è§‚ç‚¹ åœ¨èµ„æœ¬é©±åŠ¨çš„å‘å±•æ¨¡å¼ä¸‹ï¼ŒçŽ°ä»£ç¤¾ä¼šçš„é‡‘èžå‘¨æœŸå’Œç»æµŽå‘¨æœŸæ˜¯é‡åˆçš„ï¼Œä¿¡è´·çš„æ‰©å¼ ã€æ”¶ç¼©å’Œç»æµŽçš„ç¹è£ã€è¡°é€€ï¼Œæ˜¯ç›¸äº’ä½œç”¨å’ŒåŠ å¼ºçš„ ä¿¡è´·å±æœºå‘ç”Ÿçš„ä¸´ç•Œç‚¹ï¼Œä¹Ÿå°±æ˜¯æ˜Žæ–¯åŸºæ—¶åˆ»ï¼Œæ˜¯ä¿¡è´·ç”Ÿäº§ï¼Œæ¶ˆè´¹å’Œé¢„æœŸå…±åŒä½œç”¨ä¸‹çš„ç»“æžœï¼Œå®ƒä¸ä»¥äººçš„æ„å¿—ä¸ºè½¬ç§» æ”¿åºœçš„é€†å‘¨æœŸå®è§‚è°ƒæŽ§å¯ä»¥å‡è½»è¿™ç§å‘¨æœŸçš„æ³¢åŠ¨ æ‘˜è‡ªï¼šé¦™å¸…çš„åŒ—å¤§é‡‘èžå­¦ã€‚ å¾ˆå·§ï¼Œåˆšåˆšå†™äº†è¿™ä¸ªæ–‡ç« ï¼Œé¦™å¸…å°±å‘å¸ƒä¸€ä¸ªå…³äºŽæ­¤è¯é¢˜çš„èŠ‚ç›® ç†è®ºå±€é™æ€§æ˜Žæ–¯åŸºçš„åˆ†æžä»…ä»…é›†ä¸­åœ¨â€œæŽ’ä»–æ€§çš„é‡‘èžå¸‚åœºâ€ï¼Œå¹¶æ²¡æœ‰å¾ˆå¥½åœ°è§£é‡Šç»æµŽå’Œé‡‘èžä¹‹é—´çš„å…³ç³»ã€‚æ˜Žæ–¯åŸºçš„é‡‘èžä¸ç¨³å®šå‡è®¾æ¶‰åŠçš„å‡ ä¹Žå®Œå…¨æ˜¯çŸ­æœŸçš„å‘¨æœŸæ€§çŽ°è±¡ï¼Œåªæ˜¯ä¸€ä¸ªâ€œæ˜Žæ–¯åŸºæ—¶åˆ»â€ï¼Œè€Œä¸æ˜¯ä½œä¸ºä¸€ç§å‘å±•è¶‹åŠ¿ã€‚è¿™ä¸ªäº‹å®žä½¿ä»–çš„åˆ†æžæ›´æ˜“è¢«ä¸»æµç†è®ºå®¶ä»¬æ‰€æŽ¥å—â€”â€”ä»–ä»¬æœ€å…³å¿ƒçš„æ˜¯è¯æ˜Žç»æµŽä¼šåœ¨æ”¿åºœçš„è½»æŽ¨ä¸‹è¿…é€Ÿåå¼¹ã€‚ æ€»ç»“ç›®å‰ï¼Œæˆ‘å¯¹æ­¤ç†è§£è¿˜åœç•™åœ¨è¡¨é¢ä¸Šã€‚ä½ è®¤ä¸ºæˆ‘ä»¬åœ¨ç¬¬å‡ é˜¶æ®µäº†ï¼Ÿ â€¦â€¦]]></content>
      <categories>
        <category>business</category>
      </categories>
      <tags>
        <tag>financial</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes in Mac OSX åˆæŽ¢]]></title>
    <url>%2F2018%2F10%2F31%2Fkubernetes-in-mac-osx%2F</url>
    <content type="text"><![CDATA[æŠ˜è…¾äº†è®¸ä¹…ï¼Œç»ˆäºŽåœ¨æˆ‘çš„è‹¹æžœç³»ç»Ÿä¸Šå®‰è£…ä¸Šäº†kubernetesï¼ˆk8sï¼‰ï¼Œå¯ä»¥å¼€å§‹å®žæˆ˜äº†ã€‚ ç”±äºŽå›½å†…ç½‘ç»œé™åˆ¶åŽŸå› ï¼Œä½ æƒ³å®‰è£…Googleèµ„æºä¸‹çš„k8sååˆ†å›°éš¾ï¼Œä½ éœ€è¦VPNï¼Œæ¯”è¾ƒç®€å•ç›´æŽ¥ã€‚å¼€å§‹åœ¨Ubuntu Serverä¸ŠæŠ˜è…¾äº†ä¸€ä¸‹ï¼Œæœ‰ç‚¹éº»çƒ¦ï¼Œè€Œæˆ‘ä¸»è¦æ˜¯æƒ³ä½“ä¼šä¸€ä¸‹ä½¿ç”¨æ•ˆæžœï¼Œæœ€åŽè¿˜æ˜¯å†³å®šé‡‡ç”¨Mac OSXä¸‹Dockerä¸­çš„k8sè¯•è¯•ï¼Œå½“ç„¶å®ƒçš„å®‰è£…ä¹Ÿéœ€è¦VPNå·¥å…·ã€‚ é€šè¿‡Dockerå†…éƒ¨è‡ªå¸¦çš„k8så®‰è£…ï¼Œç®€å•æ–¹ä¾¿ï¼Œä¸éœ€è¦è€ƒè™‘minikubeå’Œvirtual boxæˆ–è€…å…¶å®ƒè™šæ‹ŸåŒ–é©±åŠ¨ï¼ˆè¿™é‡Œå°±ç›´æŽ¥è·³è¿‡äº†ï¼Œæ¯•ç«Ÿæˆ‘ä¹Ÿæ²¡æœ‰æ·±å…¥ç ”ç©¶ï¼‰å®‰è£…åŽçš„k8sæ˜¯ä½†èŠ‚ç‚¹çŽ¯å¢ƒï¼Œæ‰€ä»¥é»˜å†™ç»†èŠ‚åŠŸèƒ½ä¸Žé›†ç¾¤æœ‰å·®åˆ«ï¼Œè¿™ä¸ªæˆ‘éœ€è¦æ…¢æ…¢ä½“ä¼šã€‚ å¯åŠ¨Docker ä¸‹çš„ Kuberneteså¾ˆç®€å•ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œenable apply running æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯æŸ¥çœ‹ç‰ˆæœ¬ï¼Œå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ 12345âžœ ~ kubectl versionClient Version: version.Info&#123;Major:"1", Minor:"10", GitVersion:"v1.10.3", GitCommit:"2bba0127d85d5a46ab4b778548be28623b32d0b0", GitTreeState:"clean", BuildDate:"2018-05-21T09:17:39Z", GoVersion:"go1.9.3", Compiler:"gc", Platform:"darwin/amd64"&#125;Server Version: version.Info&#123;Major:"1", Minor:"10", GitVersion:"v1.10.3", GitCommit:"2bba0127d85d5a46ab4b778548be28623b32d0b0", GitTreeState:"clean", BuildDate:"2018-05-21T09:05:37Z", GoVersion:"go1.9.3", Compiler:"gc", Platform:"linux/amd64"&#125;âžœ ~ kubectl config current-contextdocker-for-desktop åˆ†åˆ«ä¸ºClient å’Œ Serverç‰ˆæœ¬ï¼Œå…¶ä¸­Platformï¼Œclientæ˜¯darwin/amd64ï¼ŒServeræ˜¯linux/amd64 123456âžœ ~ kubectl cluster-infoKubernetes master is running at https://localhost:6443KubeDNS is running at https://localhost:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxyâžœ ~ kubectl get nodesNAME STATUS ROLES AGE VERSIONdocker-for-desktop Ready master 20h v1.10.3 æœ¬æœºåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ Dashboardç®¡ç†ä¸Šï¼Œç›®å‰æˆ‘çœ‹åˆ°ä¸¤ç§æ–¹å¼ é€šè¿‡kubectlå‘½ä»¤çš„æ–¹å¼è¿›è¡Œç®¡ç†ï¼Œä¸»è¦ç»´æŠ¤æ–¹å¼ é€šè¿‡Dashboardè¿›è¡Œç®¡ç†ï¼Œ ä¸»è¦æ˜¯æŸ¥çœ‹æ–¹å¼ å®‰è£…Dashboardï¼š 1kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml æŸ¥çœ‹Dashboardæ‰€åœ¨namespaceä¸­podä¿¡æ¯ï¼Œéœ€è¦æŒ‡æ˜Žnamespaceï¼Œå¦åˆ™æŸ¥çœ‹çš„æ˜¯default namespaceä¸‹çš„podsï¼š 123456789âžœ ~ kubectl get pods --namespace=kube-systemNAME READY STATUS RESTARTS AGEetcd-docker-for-desktop 1/1 Running 5 1dkube-apiserver-docker-for-desktop 1/1 Running 5 1dkube-controller-manager-docker-for-desktop 1/1 Running 3 1dkube-dns-86f4d74b45-r9w7b 3/3 Running 0 1dkube-proxy-mzrx2 1/1 Running 0 1dkube-scheduler-docker-for-desktop 1/1 Running 3 1dkubernetes-dashboard-7b9c7bc8c9-zkgzk 1/1 Running 2 1d å¼€å¯proxyï¼Œå¼€å§‹è®¿é—®dashboardæœåŠ¡ 1âžœ ~ kubectl proxy æµè§ˆå™¨æ‰“å¼€ï¼šhttp://127.0.0.1:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy æˆ–è€…ä½¿ç”¨kubctl prot-forward å°†dashboard podè¿è¡Œçš„ç«¯å£æš´éœ²å‡ºæ¥è¿›è¡Œè®¿é—® 1âžœ ~ kubectl port-forward pods/kubernetes-dashboard-7b9c7bc8c9-zkgzk 8443:8443 --namespace kube-system æµè§ˆå™¨è®¿é—®ï¼šhttps://127.0.0.1:8443ï¼Œæ³¨æ„chromeæç¤ºä½ è¯ä¹¦å®‰å…¨é—®é¢˜ï¼Œç›´æŽ¥unsafeæ–¹å¼è®¿é—®å§ é€‰æ‹©è·³è¿‡ï¼Œå…·ä½“å¯ä»¥åšä»€ä¹ˆï¼Œæˆ‘è¿˜æ²¡æœ‰å¼„æ¸…æ¥šï¼Œå¦‚æžœç¨åŽäº†è§£ï¼Œæˆ‘å†æ›´æ–° æˆ‘ä»¬å¯ä»¥çœ‹åˆ°çºµè§ˆé¡µé¢ è¿™é‡Œæˆªå›¾æ˜¯ï¼Œæˆ‘å·²ç»å°è¯•éƒ¨ç½²äº†nginx podï¼Œæ‰€ä»¥å¤šäº†ä¸€äº›ä¿¡æ¯ ç”¨nginxéƒ¨ç½² å®žæˆ˜ä¸€ä¸‹å¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤ï¼Œéƒ¨ç½²ä¸€ä¸ªpod 12345âžœ ~ kubectl run hello-nginx --image=nginx --port=80âžœ ~ kubectl get deploymentNAME DESIRED CURRENT UP-TO-DATE AVAILABLE AGEhello-nginx 1 1 1 1 1d è¯´åˆ°è¿™é‡Œå°±æœ‰ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µä¸å¾—ä¸è¯´äº†ï¼Œé€šè¿‡ç³»ç»Ÿé¡µé¢ä¸­ç»™å‡ºçš„è¿žæŽ¥ï¼Œæˆ‘ä»¬é’ˆå¯¹nginxè¿™ä¸ªéƒ¨ç½²ï¼Œçœ‹åˆ°ä»¥ä¸‹è¿™ä¸‰ä¸ªä¸åŒçš„å†…å®¹è¿™é‡Œæˆ‘çš„ç†è§£å°šæµ…ï¼Œå¯èƒ½æœ‰æè¿°ä¸å‡†ç¡®åœ°æ–¹ï¼Œæ¬¢è¿Žå‘ŠçŸ¥ deployment ç”¨äºŽç®¡ç† replica sets å’Œ podsï¼Œæ‚¨åªéœ€è¦åœ¨ Deployment ä¸­æè¿°æ‚¨æƒ³è¦çš„ç›®æ ‡çŠ¶æ€æ˜¯ä»€ä¹ˆï¼ŒDeployment controller å°±ä¼šå¸®æ‚¨å°† Pod å’ŒReplicaSet çš„å®žé™…çŠ¶æ€æ”¹å˜åˆ°æ‚¨çš„ç›®æ ‡çŠ¶æ€ã€‚ replica set å‰¯æœ¬ï¼Œç”¨æ¥ç¡®ä¿å®¹å™¨åº”ç”¨çš„å‰¯æœ¬æ•°å§‹ç»ˆä¿æŒåœ¨ç”¨æˆ·å®šä¹‰çš„å‰¯æœ¬æ•°ï¼Œå³å¦‚æžœæœ‰å®¹å™¨å¼‚å¸¸é€€å‡ºï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ–°çš„Podæ¥æ›¿ä»£ï¼›è€Œå¦‚æžœå¼‚å¸¸å¤šå‡ºæ¥çš„å®¹å™¨ä¹Ÿä¼šè‡ªåŠ¨å›žæ”¶ã€‚![](/images/post/20181031/replica set.png) pod æ˜¯kubernetesä¸­ä½ å¯ä»¥åˆ›å»ºå’Œéƒ¨ç½²çš„æœ€å°ä¹Ÿæ˜¯æœ€ç®€çš„å•ä½ã€‚ä¸€ä¸ªPodä»£è¡¨ç€é›†ç¾¤ä¸­è¿è¡Œçš„ä¸€ä¸ªè¿›ç¨‹ã€‚podé‡Œé¢é¥±å«ç€dockerçš„å®¹å™¨12âžœ ~ docker ps | grep nginx66f968b67cf5 nginx "nginx -g 'daemon ofâ€¦" 7 hours ago Up 7 hours k8s_hello-nginx_hello-nginx-6584d58b4c-gvk5b_default_f21fbf54-dce9-11e8-b679-025000000001_0 è¯·æ³¨æ„è¿™é‡Œçš„6584d58b4c-gvk5bï¼Œå’Œå¯¹åº”çš„podçš„åå­—ä¸­çš„ç¼–å·ä¸€è‡´ å¥½äº†ï¼Œè¿™æ ·å‡ ä¸ªåŸºæœ¬æ¦‚å¿µå°±éƒ½è¿žèµ·æ¥äº†ã€‚ æ€Žä¹ˆå¯ä»¥è®¿é—®åˆ°è¿™ä¸ªnginxæœåŠ¡å‘¢ï¼Œè¿™å°±éœ€è¦å¼•å…¥serviceæ¦‚å¿µï¼Œæˆ‘ä»¬å°†podè¿è¡Œçš„å®žä¾‹æš´éœ²æˆæœåŠ¡ 1âžœ ~ kubectl expose deployment hello-nginx --type=NodePort --name=hello-nginx-service å‘½ä»¤è¡Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹ 1234âžœ ~ kubectl get service NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGEhello-nginx-service NodePort 10.99.167.149 &lt;none&gt; 8010:32340/TCP 1mkubernetes ClusterIP 10.96.0.1 &lt;none&gt; 443/TCP 2d é—®é¢˜ï¼Œæ˜¯æˆ‘å¹¶æ²¡æœ‰æˆåŠŸè®¿é—®localhost:32340ï¼Œè¿™ä¸ªæˆ‘éœ€è¦å†çœ‹çœ‹ã€‚ å®‰è£… istioæ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¿«éƒ¨ç½²istio podshttps://istio.io/docs/setup/kubernetes/quick-start/ ä¸‹è½½istioæ–‡ä»¶åŽï¼Œåœ¨å…¶ç›®å½•ä¸‹è¿è¡Œ 1kubectl apply -f install/kubernetes/helm/istio/templates/crds.yaml è¿™éƒ¨åˆ†æˆ‘è¿˜éœ€è¦ç»§ç»­å®žéªŒä¸‹åŽ»ï¼Œæ‰¾æ—¶é—´ç»§ç»­æ›´æ–°ã€‚ æ€»ç»“kubernetes çš„å¤æ‚ç¨‹åº¦è¶…å‡ºäº†æˆ‘å¯¹å…¶çš„çŒœæµ‹ï¼Œé‡Œé¢çš„çŸ¥è¯†ç‚¹å¾ˆå¤šï¼Œéœ€è¦èŠ±å¾ˆå¤šç²¾åŠ›åŽ»æ·±å…¥è¿›åŽ»ï¼Œåˆæ­¥æ„Ÿè§‰è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚ å‚è€ƒç½‘ç«™ï¼šwilbeibi jimmysong]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>k8s</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java 11 License]]></title>
    <url>%2F2018%2F10%2F31%2Fjava-11-license%2F</url>
    <content type="text"><![CDATA[æ™´å¤©æˆ‘çš„éœ¹é›³ï½žï½žï½žï½ž ä»Šå¤©åœ¨MacOSä¸‹çŽ©Kubernetsï¼Œæ— æ„é—´å‘çŽ°Java 11çš„èµ„æºåŒ…å˜æˆçš„OpenJDKï¼ŒåŽ»æ‰¾Oracleç‰ˆæœ¬æ—¶çœ‹åˆ°è¿™ä¸ªè¯´æ˜Žï¼š Oracleâ€™s Java 11 trap - Use OpenJDK instead! æ–‡ç« é‡ç‚¹å°±æ˜¯ï¼ŒJava 11çš„Licenseæ˜¯å•†ä¸šæŽˆæƒï¼Œç”¨äºŽå•†ä¸šæ´»åŠ¨æ—¶ï¼Œä½ æ˜¯è¦ä»˜è´¹çš„ï¼Œä¸æ˜¯å…è´¹çš„ã€‚ Oracle LicenseåŽŸæ–‡å¯ä»¥å‚è§è¿™é‡Œï¼šOracle Technology Network License Agreement for Oracle Java SE Further, You may not: use the Programs for any data processing or any commercial, production, or internal business purposes other than developing, testing, prototyping, and demonstrating your Application; å°±æ˜¯è¿™å¥è¯ã€‚ æ ¹æ®ä¸Šæ–‡åšä¸»çš„è¯´æ³•ï¼Œä¹‹å‰çš„licenseè‚¯å®šéƒ½æ˜¯å…è´¹çš„ï¼ˆæˆ‘ä¹‹å‰æ²¡æœ‰ç‰¹åˆ«ç•™æ„è¿‡ï¼‰ï¼ŒçŽ°åœ¨å•†ä¸šç”¨é€”ç«Ÿç„¶éœ€è¦æ”¶è´¹äº†ã€‚ çŽ°åœ¨Googleæœç´¢å¼•æ“Žä¸­æœç´¢Java 11ï¼Œå¯ä»¥çœ‹åˆ°Oracle ç»´æŠ¤çš„open jdk ç‰ˆæœ¬äº†ã€‚æ˜¯çš„ï¼Œå®ƒåœ¨ç»´æŠ¤openjdkç‰ˆæœ¬åœ°å€åœ¨è¿™é‡Œï¼šhttps://jdk.java.net/11/ å½“ç„¶æ–‡ä¸­åšä¸»è¿˜ç»™å‡ºäº†å…¶å®ƒçš„ç¼–è¯‘ç‰ˆæœ¬ï¼Œhttps://adoptopenjdk.net ä½¿ç”¨Javaçš„å°ä¼™ä¼´ä»¬ï¼Œå‡çº§åˆ°Java11é‚£æ˜¯å¿…ç„¶çš„ï¼Œæ¯•ç«ŸJava8æ”¯æŒç»ˆæ­¢æ—¶é—´å·²ç»æ˜Žç¡®äº†ï¼Œåªæœ‰Java11æ˜¯æœ€è¿‘çš„ä¸€ä¸ªLTSç‰ˆæœ¬ç„¶è€Œï¼Œå¦‚æžœä½ è¿˜æƒ³å…è´¹ç”¨çš„è¯ï¼Œè¯·ä½¿ç”¨openjdkï¼Œåˆ«åˆ°å¤´æ¥ï¼Œä½ å¼€å‘äº†å•†ä¸šè½¯ä»¶ï¼Œæœ€åŽè¦æ”¯ä»˜ä¸€å¤§ç¬”é’±ç»™Oracleé’±å¤šçš„åœŸè±ªå’Œæ‹¿Javaå†™ç€çŽ©ï¼ˆéžå•†ä¸šè½¯ä»¶ï¼‰çš„äººå£«å¯ä»¥å¿½ç•¥ã€‚ é¡ºä¾¿è¯´ä¸€å¥ï¼šä½œä¸ºå›½å†…çš„ç¨‹åºå‘˜ï¼Œå¸Œæœ›å¤§å®¶é‡è§†å•†ä¸šæŽˆæƒæ–¹å¼ï¼Œå¼€æº ä¸ç­‰äºŽ å…è´¹ï¼Œä¸€ä¸ªæ˜¯ä»£ç ç»´æŠ¤æ–¹å¼ï¼ˆå¼€æºåè®®ä¹Ÿå¾ˆå¤šï¼Œè¯·è‡ªè¡ŒæŸ¥æ‰¾ï¼‰ï¼Œä¸€ä¸ªæ˜¯å•†ä¸šæŽˆæƒæ–¹å¼ã€‚å› ä¸ºï¼Œå¦‚æžœä½ æƒ³èµ°çš„æ›´è¿œï¼Œä½ éœ€è¦åœ¨è§„åˆ™ä½“ç³»ä¹‹å†…ï¼Œè‰¯å¥½çš„æ„è¯†ä¹Ÿéœ€è¦æ…¢æ…¢åŸ¹å…»ã€‚å…±å‹‰ï½ž]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Registration and Discovery - Spring]]></title>
    <url>%2F2018%2F10%2F29%2Fregister-discovery%2F</url>
    <content type="text"><![CDATA[å…³äºŽSpring Cloudæ”¯æŒçš„æ³¨å†Œå‘çŽ°æœåŠ¡ï¼Œä¸€ç›´æƒ³äº†è§£ä¸€ä¸‹å¯¹æ¯”æƒ…å†µï¼Œä»Šå¤©æ— æ„é—´å‘çŽ°è¿™ä¸ªå¯¹æ¯”æ–‡ç« ï¼Œç®€å•ç›´æŽ¥ï¼Œå¯ä»¥ç»™ä½ ä¸€ä¸ªç›´è§‚çš„åˆæ­¥è®¤è¯†ã€‚è½¬è½½åŽŸåœ°å€ï¼šæœåŠ¡å‘çŽ°æ¯”è¾ƒ:Consul vs Zookeeper vs Etcd vs Eurekaè¿™é‡Œä»…è´´å‡ºæ€»ç»“è¡¨æ ¼ï¼Œç¨ä½œè°ƒæ•´ã€‚å…¶å®ƒå†…å®¹è¯·å‚è§åŽŸæ–‡ Feature consul zookeeper etcd euerka æœåŠ¡å¥åº·æ£€æŸ¥ æœåŠ¡çŠ¶æ€ï¼Œå†…å­˜ï¼Œç¡¬ç›˜ç­‰ (å¼±)é•¿è¿žæŽ¥ï¼Œkeepalive è¿žæŽ¥å¿ƒè·³ å¯é…æ”¯æŒ å¤šæ•°æ®ä¸­å¿ƒ æ”¯æŒ â€” â€” â€” KVå­˜å‚¨æœåŠ¡ æ”¯æŒ æ”¯æŒ æ”¯æŒ â€” ä¸€è‡´æ€§ raft zab raft â€” CAP ca cp cp ap ä½¿ç”¨æŽ¥å£(å¤šè¯­è¨€èƒ½åŠ›) æ”¯æŒhttpå’Œdns å®¢æˆ·ç«¯ http/grpc httpï¼ˆsidecarï¼‰ Watchæ”¯æŒ å…¨é‡/æ”¯æŒlong polling æ”¯æŒ æ”¯æŒ long polling æ”¯æŒ long polling/å¤§éƒ¨åˆ†å¢žé‡ è‡ªèº«ç›‘æŽ§ metrics â€” metrics metrics å®‰å…¨ acl/https acl httpsæ”¯æŒï¼ˆå¼±ï¼‰ â€” Spring Cloudé›†æˆ å·²æ”¯æŒ å·²æ”¯æŒ å·²æ”¯æŒ å·²æ”¯æŒï¼Œ2.0é—­æº æ„Ÿè°¢åŽŸä½œè€…çš„åˆ†äº«ï¼Œå¹¶è´´å‡ºä¸Žå…¶æ–‡ä¸­ä¸€å¤„ä¸ä¸€æ ·çš„è§‚ç‚¹ï¼Œzookeeperçš„ä¸€è‡´æ€§åè®®ä¸æ˜¯Paxosï¼Œåº”è¯¥æ˜¯ZABã€‚æ­¤è§‚ç‚¹ä¾æ®ï¼šThe core consensus algorithm of ZooKeeper is not Paxos å¦å¤–ï¼Œeuerkaå®£å¸ƒ2.0é—­æºåŽï¼Œç›®å‰æ¥çœ‹Consulæ˜¯æ›¿ä»£euerkaä¸€ä¸ªä¸é”™çš„æ–¹æ¡ˆã€‚ CAP ç®€å•è§£é‡Š ä¸€è‡´æ€§(Consistency) (æ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´å…·æœ‰ç›¸åŒçš„æ•°æ®ï¼Œå®¢æˆ·ç«¯è¯·æ±‚åˆ°åŒæ ·çš„æ•°æ®ç»“æžœ) å¯ç”¨æ€§(Availability) (ä¿è¯æ¯ä¸ªè¯·æ±‚ä¸ç®¡æˆåŠŸæˆ–è€…å¤±è´¥éƒ½æœ‰å“åº”) åˆ†éš”å®¹å¿(Partition tolerance) (ç³»ç»Ÿä¸­ä»»æ„ä¿¡æ¯çš„ä¸¢å¤±æˆ–å¤±è´¥ä¸ä¼šå½±å“ç³»ç»Ÿçš„ç»§ç»­è¿ä½œ) CAP ä¸å¯èƒ½å…¨éƒ½åŒæ—¶æ»¡è¶³ï¼Œè¿™ä¸ªå·²ç»è¢«è¯æ˜Žè¿‡äº†ï¼Œè¿™é‡Œå…ˆè®°ä½ç»“è®ºå§ï¼Œå…·ä½“è§£é‡Šç½‘ä¸Šæ–‡ç« å¾ˆå¤šã€‚ Raft æ¼”ç¤ºç›¸æ¯”Paxosï¼Œraftæ›´å®¹æ˜“è¢«äººç†è§£å’ŒæŽ¥å—ï¼Œçœ‹ä¸€ä¸‹è¿™ä¸ªæ¼”ç¤ºåŠ¨ç”»å§ï¼Œç®€å•ç›´è§‚ã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>spring cloud</tag>
        <tag>CAP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Five Events of Scrum]]></title>
    <url>%2F2018%2F10%2F28%2Ffive-events%2F</url>
    <content type="text"><![CDATA[Scrumä¸€ä¸ªéžå¸¸å¥½çš„é¡¹ç›®ç®¡ç†æ–¹å¼ï¼ˆæ–¹æ³•è®ºï¼‰ï¼Œæˆ‘ååˆ†å–œæ¬¢ï¼Œä½†æ˜¯ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨éœ€è¦å¾ˆå¤šå®¢è§‚æ¡ä»¶æ”¯æŒï¼Œä¾‹å¦‚å…¬å¸çŽ¯å¢ƒï¼Œé˜Ÿå‘˜ç´ è´¨ç­‰ç­‰ã€‚æ— è®ºæ€Žæ ·ï¼Œä¸ªäººååˆ†æŽ¨èåœ¨é¡¹ç›®ä¸­å°è¯•è¯¥ç®¡ç†æ–¹å¼ã€‚è™½ç„¶ï¼Œæˆ‘ä¸æ˜¯Scrum Masterï¼ˆæœ¬äººåªæœ‰PMPè¯ä¹¦ï¼‰ï¼Œä½†æ˜¯æˆ‘ä¸€ç›´å¯¹æ­¤æ·±å…¥å­¦ä¹ ï¼Œå¹¶å°½å¯èƒ½å¤šçš„å°†å…¶åº”ç”¨åˆ°å®žé™…é¡¹ç›®ä¸­ã€‚ ä»Šå¤©æˆ‘è¯´ä¸€ä¸‹Scrumä¸­çš„äº”ä¸ªäº‹ä»¶ The Sprint å†²åˆº ä¸€ä¸ªæ•æ·è¿­ä»£ Sprint Planning æ•æ·è¿­ä»£è®¡åˆ’ Daily Scrum æ¯æ—¥Scrum Sprint Review æ•æ·è¿­ä»£è¯„å®¡ Sprint Retrospective æ•æ·è¿­ä»£å›žé¡¾ The Sprintè‹±æ–‡ç›´è¯‘å°±æ˜¯å†²åˆºï¼Œå…¶å®žæˆ‘ä»¬å¯ä»¥å°†é¡¹ç›®åˆ’åˆ†æˆå¤šä¸ªsprintï¼ˆå†²åˆºï¼‰ï¼Œä»Žè€Œä¾é«˜æ•ˆã€å¿«é€Ÿçš„æ–¹å¼å®Œæˆæ•´ä¸ªé¡¹ç›®ã€‚ä¸€ä¸ªsprintå‘¨æœŸä¸€èˆ¬ä¸º1ä¸ªæœˆï¼ˆå¸¸è§å¯ä»¥ä¸º2ï½ž4å‘¨ï¼‰æœ€ç»ˆé‡Šæ”¾äº§å“çš„å¢žé‡ï¼ˆincrementï¼‰ï¼Œåœ¨é¡¹ç›®æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªspringæŽ¥ç€å¦ä¸€ä¸ªsprintsprintè¿‡ç¨‹ä¸­åŒ…æ‹¬ä»€ä¹ˆï¼Ÿ sprintåŒ…æ‹¬ä¸‹é¢å››ä¸ªäº‹ä»¶ï¼ŒåŒæ—¶è¿˜åŒ…æ‹¬å…·ä½“å¼€å‘å·¥ä½œã€‚ sprintå¯ä»¥å–æ¶ˆå—ï¼Ÿ å½“ç„¶å¯ä»¥ï¼Œä½†åªæœ‰äº§å“ç»ç†æœ‰æƒé™å–æ¶ˆï¼ˆç»ˆæ­¢ï¼‰sprintï¼Œå½“ç„¶ä»–è¦ä¸Žå¿…è¦çš„å›¢é˜Ÿæˆå‘˜è¿›è¡Œæ²Ÿé€šã€‚ä½†æ˜¯ï¼Œsprintä¸€èˆ¬ä¸ä¼šé‡åˆ°å–æ¶ˆï¼Œå› ä¸ºå–æ¶ˆä¸€ä¸ªsprinté€šå¸¸æ˜¯å› ä¸ºç›®æ ‡å·²ç»è¿‡æ—¶ï¼Œä½†æ˜¯sprintæœ¬èº«å‘¨æœŸå°±å¾ˆçŸ­ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†æ›´å¥½é¢å¯¹æ”¹å˜ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ä¼šé‡åˆ°è¿™ä¸ªåœºæ™¯å¦å¤–ï¼Œä¸€ä¸ªsprintçš„å–æ¶ˆå°†å¯¹å›¢é˜Ÿå’Œé¡¹ç›®éƒ½æœ‰å¾ˆä¸å¥½çš„å½±å“ï¼Œç”šè‡³éœ€è¦é‡æ–°è¯„ä¼°äº§å“çš„Backlogï¼Œæ‰€ä»¥è¿™ä¸ªåº”é¿å…å‡ºçŽ°ã€‚ åœ¨sprintä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ å¯¹sprintç›®æ ‡å®žçŽ°æœ‰å½±å“çš„æ”¹å˜éƒ½ä¸åº”è¯¥æŽ¥å—ï¼Œå®žé™…ä¸Šé€šå¸¸åšæ³•æ˜¯freeze backlogåŽå°±ä¸è¿›è¡Œä¿®æ”¹äº†ï¼Œä½†æ˜¯çŽ°åœ¨ä¹Ÿæœ‰ä½¿ç”¨å¼¹æ€§å†»ç»“çš„æ€è·¯ è´¨é‡ç›®æ ‡ä¸èƒ½ä¸‹é™ï¼Œé™ä½Žsprintæœ€ç»ˆç›®æ ‡è´¨é‡ éšç€é¡¹ç›®çš„æ·±å…¥ï¼Œäº§å“ç»ç†å’Œå¼€å‘å›¢é˜Ÿå¯èƒ½éœ€è¦é‡æ–°å•†è®¨é¡¹ç›®èŒƒå›´ï¼Œå¯èƒ½æ˜¯å› ä¸ºä»»åŠ¡éš¾åº¦è¶…å‡ºäº†ä¹‹å‰çš„é¢„æœŸã€‚è¿™ä¹Ÿæ˜¯å¼¹æ€§å†»ç»“çš„åŽŸå›  Sprint Planningå†²åˆºè®¡åˆ’ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªè¿­ä»£å‘¨æœŸçš„è®¡åˆ’ï¼Œé€šå¸¸è¡¨çŽ°å½¢å¼ä¸ºæ•æ·è¿­ä»£è®¡åˆ’ä¼šè®®ï¼Œä¸€èˆ¬éœ€è¦4ä¸ªå°æ—¶ï¼ˆä¸€ä¸ªå°æ—¶å¯¹åº”ä¸€å‘¨ï¼‰åˆ¶å®šä¸€ä¸ªè¿­ä»£å‘¨æœŸå†…çš„ç›¸å…³å·¥ä½œï¼Œæ ¹æ®product backlogä¸­çš„ä»»åŠ¡ä¼˜å…ˆçº§å½¢æˆsprint backlogã€‚sprint planning ä¸»è¦å›žç­”ä¸¤ä¸ªé—®é¢˜ï¼š æ­¤sprintç»“æŸæ—¶å°†äº¤ä»˜ä»€ä¹ˆï¼ˆincrementï¼‰ï¼Ÿ ä¸ºäº†æ­£å¸¸äº¤ä»˜ï¼Œéƒ½éœ€è¦åšä»€ä¹ˆå·¥ä½œï¼ˆbacklogï¼‰ï¼ŸåŒæ—¶ï¼Œä¹Ÿè¦æ˜Žç¡®ï¼Œè¿­ä»£æ—¶é—´ã€åŽç»­å·¥ä½œæ—¶é—´è¡¨ã€å›¢é˜Ÿæˆå‘˜ç­‰ä¼šè®®ä¸€èˆ¬éœ€è¦åŒ…æ‹¬ï¼š Scrum Master å®£å¸ƒè¿­ä»£æ—¶é—´è¡¨ é˜æ˜Žã€æ›´æ–°product backlogï¼Œå¯¹ä¸šåŠ¡çš„ä»·å€¼å’Œä¼˜å…ˆçº§ï¼Œå¹¶è¾¾æˆå…±è¯† é€‰å‡ºå¹¶ç¡®å®šsprint backlogï¼Œå›¢é˜Ÿå…±è¯†è¿­ä»£ç›®æ ‡ æ‹†è§£sprint backlogå½¢æˆå…·ä½“ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡åº”è¯¥å°äºŽ2å¤© ä»»åŠ¡åˆæ­¥åˆ†é…ï¼Œå¯ä»¥ä½¿ç”¨çœ‹æ¿è¿›è¡ŒåŽç»­è·Ÿè¸ªå’Œç®¡ç† Daily Scrumæ¯æ—¥scrumï¼Œé€šå¸¸è¡¨çŽ°å½¢å¼ä¸º Daily Stand-up Meeting æ—¥ç«™ç«‹ä¼šï¼Œä¸€èˆ¬éœ€è¦15åˆ†é’Ÿç›®çš„å°±æ˜¯ä¸ºäº†è®©ç»„å†…æˆå‘˜äº’ç›¸çŸ¥é“éƒ½åœ¨åšä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆé—®é¢˜éœ€è¦è§£å†³ä¼šè®®ä¸€èˆ¬åŒ…æ‹¬ï¼š æˆ‘æ˜¨å¤©åšäº†ä»€ä¹ˆæœ‰åˆ©äºŽsprintç›®æ ‡è¾¾æˆçš„å·¥ä½œ ä»Šå¤©è®¡åˆ’åšä»€ä¹ˆæœ‰åŠ©äºŽsprintç›®æ ‡è¾¾æˆ å½“å‰å·¥ä½œæ˜¯å¦é‡åˆ°é—®é¢˜å¦¨ç¢ç›®æ ‡è¾¾æˆ ç«™ä¼šçš„ç«™ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†ä¸€èˆ¬ä¸ºç«™ç€æ˜¯ä¸ºäº†æé«˜æ•ˆçŽ‡ï¼Œ15åˆ†é’Ÿï¼Œå¤§å®¶ç›´æŽ¥æ²Ÿé€šï¼Œä¸è¦é˜è¿°æˆ–è®¨è®ºè¯¦ç»†å†…å®¹ã€‚ Sprint Reviewå†²åˆºè¯„å®¡ï¼Œé€šå¸¸åœ¨ä¸€ä¸ªsprintå‘¨æœŸçš„æœ€åŽä¸€å¤©ï¼Œè¯„å®¡æ­¤æ¬¡sprintäº¤ä»˜æˆæžœï¼Œé€šå¸¸è¡¨çŽ°å½¢å¼ä¸ºæ•æ·è¿­ä»£è¯„å®¡ä¼šè®®ï¼Œä¸€èˆ¬éœ€è¦4ä¸ªå°æ—¶å±•ç¤ºæ­¤sprinté˜¶æ®µçš„æˆæžœï¼Œè¿›è¡Œè¯„å®¡ã€æ£€æŸ¥æ˜¯å¦è¾¾åˆ°äº†é¢„æœŸçš„ç›®æ ‡ï¼Œå‚ä¼šäººå‘˜åº”è¯¥åŒ…æ‹¬é¡¹ç›®å›¢é˜Ÿæˆå‘˜å’Œåˆ©ç›Šç›¸å…³è€…ï¼Œä¸€èˆ¬åˆäº§å“ç»ç†æ¥é‚€è¯·ä¼šè®®ä¸€èˆ¬åŒ…æ‹¬ï¼š å®Œæˆä»€ä¹ˆï¼Œä»€ä¹ˆæ²¡æœ‰å®Œæˆï¼Œé˜è¿°å¢žé‡æ›´æ–° å¼€å‘å›¢é˜Ÿæ€»ç»“å“ªäº›æ­£åœ¨å¾€å¥½çš„æ–¹å‘å‘å±•ï¼Œå“ªäº›é‡åˆ°äº†é—®é¢˜ï¼Œå“ªäº›é—®é¢˜å¾—åˆ°äº†è§£å†³ åŽé¢è¦å®žçŽ°ä»€ä¹ˆï¼Œè¿™ä¸ªå¯ä»¥ä½œä¸ºä¸‹ä¸€ä¸ªsprintè¿­ä»£è®¡åˆ’çš„è¾“å…¥ è¯„å®¡é¡¹ç›®éœ€æ±‚ã€é¢„ç®—ã€æ—¶é—´å‘¨æœŸç­‰ï¼Œè®¨è®ºäº§å“ä»»åŠ¡æ¸…å•ï¼Œæ˜¯å¦éœ€è¦è°ƒæ•´product backlog æ­¤ä¼šè®®ä¸»è¦æ˜¯æ€»ç»“è¿­ä»£å‘¨æœŸå†…å·¥ä½œå®Œæˆæƒ…å†µ Sprint Retrospectiveå†²åˆºå›žé¡¾ï¼Œé€šå¸¸åœ¨ä¸€ä¸ªsprintå‘¨æœŸçš„ç»“æŸåŽæŸçš„ä¸€å¤©ï¼ˆåœ¨reviewä¹‹åŽï¼Œåœ¨ä¸‹ä¸€ä¸ªplanningä¹‹å‰ï¼‰ï¼Œå›žé¡¾æ­¤æ¬¡sprintæ‰§è¡Œè¿‡ç¨‹ä¸­çš„é—®é¢˜å’Œå¥½çš„ç»éªŒæ€»ç»“ï¼Œé€šå¸¸è¡¨çŽ°å½¢å¼ä¸ºæ•æ·è¿­ä»£å›žé¡¾ä¼šè®®ï¼Œä¸€èˆ¬éœ€è¦3ä¸ªå°æ—¶ä¼šè®®ä¸€èˆ¬åŒ…æ‹¬ï¼š sprintå‘¨æœŸå†…ï¼Œäººå‘˜ã€æµç¨‹ã€å·¥å…·ç­‰è¡¨çŽ°å¦‚ä½• å“ªäº›åšçš„å¥½ï¼Œå“ªäº›ä»ŠåŽå¯ä»¥æå‡ åˆ›å»ºåŽç»­å¯ä»¥æå‡çš„è®¡åˆ’ æ­¤æ´»åŠ¨ä¸»è¦æ˜¯æ€»ç»“å›¢é˜ŸScrumç»éªŒï¼Œä¾¿äºŽåŽé¢åšçš„æ›´å¥½ã€‚ å¦‚æœ‰æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯æ•´ä¸ªå›¢é˜Ÿè´Ÿè´£ï¼Œå¹¶å¯»æ‰¾è§£å†³æ–¹æ³•ã€‚ å…ˆå†™è¿™äº›ï¼Œä»ŠåŽå†æ€»ç»“å…¶å®ƒå…³é”®ç‚¹]]></content>
      <categories>
        <category>management</category>
      </categories>
      <tags>
        <tag>scrum</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Order Type]]></title>
    <url>%2F2018%2F10%2F26%2Forder-type%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©æ€»ç»“ä¸€ä¸‹é‡‘èžäº¤æ˜“å¸‚åœºä¸­è®¢å•ç±»åž‹ï¼ˆäº¤æ˜“æŒ‡ä»¤ç±»åž‹ï¼‰ åœ¨é‡‘èžå¸‚åœºä¸­æœ‰å¾ˆå¤šçš„è®¢å•ç±»åž‹ï¼Œåœ¨ä¸åŒçš„å¸‚åœºï¼ˆåœ°åŒºæˆ–è€…äº¤æ˜“å“ç§ï¼‰é’ˆå¯¹ä¸é€šçš„ç”¨æˆ·ï¼ˆæ•£æˆ·è¿˜æ˜¯åˆ¸å•†ç­‰ï¼‰å¯ä»¥ä½¿ç”¨çš„è®¢å•ç±»åž‹æ˜¯ä¸åŒçš„ã€‚è®¢å•ç±»åž‹çš„ä¸åŒä¸»è¦çœ‹åˆ¸å•†å’Œäº¤æ˜“æ‰€æ˜¯å¦æ”¯æŒï¼ˆä¹Ÿæœ‰åœ¨äº¤æ˜“å®¢æˆ·ç«¯å®žçŽ°çš„ï¼Œä¸ªäººæ„Ÿè§‰é‚£ä¸ªå°±ä¸è¦è€ƒè™‘äº†ï¼‰è¿™é‡Œä»…ä»…å°†å·²çŸ¥çš„è®¢å•ç±»åž‹åˆ—å‡ºï¼Œè¿›è¡Œå¿…è¦çš„æ€»ç»“ã€‚ ä¹°å–æ–¹å‘ã€å¼€ä»“å¹³ä»“è¿™äº›å†…å®¹ç›´æŽ¥è·³è¿‡ï¼Œæˆ‘å°±ä¸è¯´äº†å“ˆï½ž å…ˆè¯´ä»Žä»·æ ¼æ–¹é¢éƒ½æœ‰ä»€ä¹ˆç±»åž‹ å¸‚ä»·å•ã€é™ä»·å•è¿™ä¸¤ä¸ªæ”¾åœ¨ä¸€èµ·è¯´å§ï¼Œåº”è¯¥æ˜¯æœ€å¸¸è§å’Œå¸¸ç”¨çš„ä¸¤ç§ç±»åž‹ï¼Œæ— è®ºæ˜¯è‚¡ç¥¨ã€å€ºåˆ¸äº¤æ˜“è¿˜æ˜¯è¡ç”Ÿå“äº¤æ˜“ï¼Œæˆ‘éƒ½å¯ä»¥çœ‹åˆ°è¿™ä¸¤ç§ç±»åž‹ã€‚ å¸‚ä»·å•ï¼ˆMarket Orderï¼‰ï¼šæ˜¯ä»¥å½“æ—¶å¸‚åœºä»·æ ¼æˆäº¤çš„è®¢å•ï¼Œä¸éœ€è¦è‡ªå·±è®¾å®šä»·æ ¼ï¼Œå¯ä»¥ä½¿å¾—è®¢å•å¿«é€Ÿæˆäº¤ã€‚é™ä»·å•ï¼ˆLimit Orderï¼‰ï¼š éœ€è¦æŒ‡å®šæˆäº¤ä»·æ ¼ï¼Œåªæœ‰è¾¾åˆ°æŒ‡å®šä»·æ ¼æˆ–æœ‰æ›´å¥½ä»·æ ¼æ—¶æ‰ä¼šæ‰§è¡Œã€‚å¸¸ä¸ºé»˜è®¤ç±»åž‹ å¾ˆç®€å•ï¼Œå¾ˆå®¹æ˜“äº†è§£å“ˆï¼Œå¸‚ä»·å•çš„å¿ƒå£°ï¼Œæˆ‘å°±æ˜¯è¦ä¹°å…¥/å–å‡º ä»·æ ¼ä¸åœ¨ä¹Žï¼ŒçŽ°ä»·å•çš„å¿ƒå£°æ˜¯ï¼šæˆ‘å…ˆå‡†å¤‡ä¸€ä¸‹ï¼Œä»·æ ¼åˆ°ä½ï¼Œä¹°å…¥/å–å‡ºåœ¨æ‰§è¡Œ æ­¢æŸï¼ˆç›ˆï¼‰å•æ­¢æŸå•ï¼ˆStop Orderï¼‰æ˜¯æŒ‡åœ¨è®¢å•ä¸­è®¾ç½®æ­¢æŸä»·æ ¼ï¼Œéœ€è¦è¾“å…¥ä¸€ä¸ªæŒ‡å®šçš„æ­¢æŸä»·ï¼ˆStop Priceï¼‰ï¼Œä¸€æ—¦è‚¡ä»·åˆ°è¾¾æ‰€è®¾å®šçš„æ­¢æŸä»·ï¼Œå°†ä¼šä»¥å¸‚ä»·å•ï¼ˆMarket Orderï¼‰çš„æ–¹å¼æˆäº¤ã€‚æ­¢æŸå•å’Œé™ä»·å•çš„åŒºåˆ«æ˜¯ä½Žå–é«˜ä¹°ã€‚å›½å†…å°‘æœ‰åšç©ºæœºåˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸¸è§å…¶åœ¨ä»·æ ¼ä¸‹è·Œæ—¶ä½¿ç”¨ï¼Œå…¶å®ƒå¸‚åœºå¯ä¸ä¸€å®šå“¦ é™ä»·æ­¢æŸï¼ˆç›ˆï¼‰å•é™ä»·æ­¢æŸå•ï¼ˆStop Limit Orderï¼‰æ˜¯æ­¢æŸå•å’Œé™ä»·å•çš„ç»„åˆå³éœ€è¦å®¢æˆ·è¾“å…¥ä¸€ä¸ªæŒ‡å®šçš„æ­¢æŸä»·ï¼ˆStop priceï¼Œè§¦å‘æ¡ä»¶ï¼‰å’ŒæŒ‡å®šçš„é™ä»·ï¼ˆLimit Price æœŸæœ›æˆäº¤ä»·æ ¼ï¼‰ï¼Œä¸€æ—¦è‚¡ä»·è¾¾åˆ°è®¾ç½®çš„æ­¢æŸä»·ï¼Œå°†ä»¥é™ä»·å•çš„æ–¹å¼ä¸‹å• è·Ÿè¸ªæ­¢æŸï¼ˆç›ˆï¼‰å•è·Ÿè¸ªæ­¢æŸå•ï¼ˆTrailing Stop orderï¼‰ æ­¢æŸè§¦å‘æ¡ä»¶ï¼Œç­–ç•¥å‡çº§å°±æ˜¯ä¸é™å®šæ­¢æŸä»·æ ¼æœ¬èº«ï¼Œè€Œæ˜¯å¯ä»¥è®¾ç½®æ­¢æŸä»·æ ¼å’Œå¸‚åœºä»·æ ¼ä¹‹é—´çš„å·®ä»·ã€‚å·®ä»·çš„è®¾ç½®å¯ä»¥ç”¨é‡‘é¢ï¼Œä¹Ÿå¯ä»¥ç”¨å¸‚ä»·çš„ç™¾åˆ†æ¯”è¡¨ç¤ºã€‚ æ³¨æ„ï¼šè¿™é‡Œçš„Stop Orderå…¶å®žæ˜¯æ­¢ç›ˆæ­¢æŸéƒ½å¯ä»¥ï¼Œåœ¨ä¸­å›½å¤§å®¶ä¹ æƒ¯çš„å°†å…¶ç”¨äºŽæ­¢æŸï¼Œæ‰€ä»¥å«æ³•ä¹Ÿå°±æ²¿ç”¨äº†ã€‚ä¸ªäººä¸€ç›´æœ‰ä¸ªæ„Ÿè§‰ï¼Œé‡‘èžæœ¯è¯­æœ€å¥½çœ‹è‹±æ–‡ï¼Œä¸­æ–‡ç¿»è¯‘è¿‡æ¥åŽå¾ˆå¤šæœ¬æ¥å¾ˆç›´æŽ¥çš„æè¿°å˜å¾—è®©äººéš¾ä»¥ç†è§£æˆ–è¯¯è§£ï¼Œå†ä¸¾ä¸ªä¾‹å­ï¼Œä¾‹å¦‚ï¼šæŽ‰æœŸï¼ˆæœ‰æœºä¼šå†è¯´äº†ï¼‰ï¼Œå¤–äººçœ‹æ¥ï¼Œå°±æ˜¯ä»€ä¹ˆé¬¼ï½žðŸ˜› åœ¨ä»Žæ—¶é—´å’Œæˆäº¤æ–¹å¼ä¸Šéƒ½æœ‰ä»€ä¹ˆç±»åž‹ å½“æ—¥æœ‰æ•ˆè®¢å•Day Ordersï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸‹çš„å§”æ‰˜åªåœ¨å½“æ—¥æœ‰æ•ˆï¼Œé—­å¸‚åŽå§”æ‰˜è‡ªåŠ¨æ’¤é”€ GTCè®¢å•ä¸€ç›´æœ‰æ•ˆè®¢å•ï¼ˆGood Till Cancelledï¼‰å­—é¢æ„æ€äº¤æ˜“ä¸‹å•äººå‘˜ä¸ä¸»åŠ¨æ’¤é”€æ­¤å§”æ‰˜å°†é•¿æœŸæœ‰æ•ˆï¼Œå½“ç„¶ç»çºªå•†ï¼ˆBrokerï¼‰é€šå¸¸é™åˆ¶GTCçš„æœ€é•¿æœ‰æ•ˆæ—¶é—´ï¼Œæ¯•ç«Ÿé•¿æœŸæœ‰æ•ˆè¿™æ˜¯æœ‰æˆæœ¬çš„ IOCè®¢å•ç«‹å³æ‰§è¡Œå¦åˆ™å–æ¶ˆè®¢å•ï¼ˆImmediate Or Cancelï¼‰ï¼Œæ˜¯å§”æ‰˜æŒ‡ä»¤å°½å¯èƒ½å¤šçš„æˆäº¤ï¼ˆä¸€æ¬¡æ’®åˆåˆ¤æ–­ï¼‰ï¼Œä¸æˆçš„éƒ¨åˆ†å°±æ’¤å•ã€‚ FOKè®¢å•ç«‹å³æˆäº¤å¦åˆ™å…¨éƒ¨å–æ¶ˆï¼ˆFill Or Killï¼‰ï¼Œæ˜¯æŒ‡å§”æ‰˜æŒ‡ä»¤å¿…é¡»ç«‹å³æ‰§è¡Œå¦åˆ™å°±å…¨éƒ¨å–æ¶ˆï¼ˆä¸€æ¬¡æ’®åˆåˆ¤æ–­ï¼‰ï¼Œå³ä¸å…è®¸éƒ¨åˆ†æˆäº¤ã€‚ FAKè®¢å•ç«‹å³æˆäº¤å¹¶æ’¤å•ï¼ˆFill And Killï¼‰ï¼Œå¯ä»¥ç†è§£ä¸ºFOKå’ŒIOCçš„ç»„åˆä½“ï¼Œæ˜¯æŒ‡å§”æ‰˜æŒ‡ä»¤å¿…é¡»ç«‹å³æ‰§è¡Œå°½å¯èƒ½å¤šçš„æˆäº¤ï¼ˆä¸€æ¬¡æ’®åˆåˆ¤æ–­ï¼‰ï¼Œå…è®¸éƒ¨åˆ†æˆäº¤ã€‚åŒæ—¶ï¼Œå¯ä»¥è®¾å®šæœ€å°æˆäº¤æ•°é‡ä¹Ÿå¯ä»¥ä¸è®¾å®šæœ€å°æˆäº¤æ•°é‡ã€‚å¦‚æžœè®¾å®šæœ€å°æˆäº¤æ•°é‡ï¼Œåœ¨é™å®šä»·ä½ä¸‹è¾¾æŒ‡ä»¤åŽï¼Œè‹¥æˆäº¤çš„ç”³æŠ¥æ‰‹æ•°é«˜äºŽæˆ–ç­‰äºŽæœ€å°æˆäº¤ã€‚ AONè®¢å•å…¨éƒ¨æˆäº¤å¦åˆ™å…¨éƒ¨å–æ¶ˆï¼ˆAll Or Noneï¼‰ï¼Œæ˜¯æŒ‡å§”æ‰˜æŒ‡ä»¤è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨å–æ¶ˆï¼Œä½†å¯ä»¥ç­‰ä¸€ç­‰ï¼Œç›´åˆ°æ’¤å• å†è¯´ä¸€ä¸ªï¼Œé«˜çº§æŒ‡ä»¤ å†°å±±å•å†°å±±å•ï¼ˆIceberg Orderï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªå¤§çš„å§”æ‰˜å‘å‡ºï¼Œä½†åœ¨äº¤æ˜“å¸‚åœºè¡Œæƒ…æˆ–ç›˜å£æ•°æ®ä¸­é€æ­¥é‡Šæ”¾æˆäº¤é‡å’Œå§”æ‰˜æ•°é‡ï¼Œè¿™ç§å•å­åœ¨å®žé™…æ“ä½œåœºæ™¯ä¸­æ˜¯æœ‰æˆ˜æœ¯æ„ä¹‰çš„ï¼Œéšè—çœŸå®žçš„äº¤æ˜“è§„æ¨¡ã€‚è¿™ä¸ªä¸å±•å¼€è¯´äº†ï¼Œå•ç‹¬éƒ½å¯ä»¥å†™ä¸€ç¯‡åšå®¢äº†ã€‚ å¥½äº†ï¼Œç›®å‰å°±è¿™äº›ç±»åž‹å§ï¼Œå¦‚æžœåŽæœŸé‡åˆ°æ–°çš„ï¼Œæˆ‘å†æ›´æ–°ã€‚ å½“ç„¶ï¼Œæˆ‘ä»¬ç›®å‰å®žçŽ°çš„è®¢å•ç±»åž‹ä¹Ÿå¾ˆæœ‰é™ã€‚]]></content>
      <categories>
        <category>business</category>
      </categories>
      <tags>
        <tag>financial</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Transaction]]></title>
    <url>%2F2018%2F10%2F25%2Ftransaction%2F</url>
    <content type="text"><![CDATA[äº‹åŠ¡ï¼Œå¾ˆåŸºç¡€çš„æ¦‚å¿µï¼Œä½†æœ‰å¾ˆå¤šç»†èŠ‚æ˜¯å¤§å®¶å¿½ç•¥çš„æˆ–è€…å¹³æ—¶å¾ˆå°‘æ³¨æ„åˆ°çš„ã€‚è¿™é‡Œæ€»ç»“ä¸€ä¸‹ï¼šå®žéªŒå·¥ç¨‹ ï¼ˆè¿™å·¥ç¨‹çš„å®žéªŒä»£ç å°šä¸å®Œæ•´ï¼Œå†æ›´æ–°çœ‹å¿ƒæƒ…äº†ðŸ˜›ï¼‰ ACIDå…ˆè¯´ACIDï¼Œå·¥ç¨‹é‡Œè¯´è‡ªæŸ¥åº¦å¨˜ï¼Œè¿˜æ˜¯ç®—äº†å§ï¼Œæˆ‘è¿˜æ˜¯è§£é‡Šä¸€ä¸‹å§ï¼Œåº¦å¨˜ä¸é è°± åŽŸå­æ€§ï¼ˆAtomicityï¼‰ æ“ä½œåŽŸå­æ€§ï¼ŒåŒä¸€ä¸ªäº‹åŠ¡ä¸­è¦ä¹ˆæ‰€æœ‰æ“ä½œéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚å¥½ç†è§£ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ ä¸€è‡´æ€§ï¼ˆç»å¸¸å’ŒåŽŸå­æ€§æ··ï¼‰ï¼ŒåŽŸæ„æ˜¯æ•°æ®åº“ä»Žä¸€ä¸ªçŠ¶æ€è½¬æ¢ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ï¼ˆå®Œå…¨ä¸çŸ¥æ‰€äº‘å“ˆï¼Ÿï¼‰ã€‚å…¶å®žè¯´çš„æ˜¯å†™å…¥æ•°æ®å¿…é¡»å¤åˆæ•°æ®åº“çš„ç›¸å…³çº¦æŸï¼ŒåŒ…æ‹¬é™åˆ¶ã€çº§è”ã€è§¦å‘ç­‰ï¼ˆè¿˜ä¸æ˜Žç™½ï¼Ÿï¼‰ä¸¾ä¸ªä¾‹ï¼šAå¤–é”®å…³è”Bï¼Œä¸€ä¸ªäº‹åŠ¡è¯•å›¾æ’å…¥Bæ•°æ®ï¼Œä½†ä¸æ’å…¥ä¸Žå…¶å…³è”çš„Aè®°å½•ï¼Œå½“ç„¶è¿™æ˜¯éžæ³•äº‹åŠ¡ï¼Œå®ƒè¿åçš„å°±æ˜¯ä¸€è‡´æ€§åŽŸåˆ™ã€‚ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ éš”ç¦»åž‹å†³å®šäº†ï¼Œæ˜¯å¦å¯ä»¥é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ï¼Œè¿™ä¸ªä¸‹é¢æ¥æ·±å…¥è¯´æ˜Žï¼Œè¿™ä¸ªä¹Ÿå¾ˆå°‘æœ‰äººå…³æ³¨è¿‡ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ æŒä¹…æ€§ï¼Œè¿™ä¸ªå¼ºè°ƒçš„æ˜¯commitåŽä¸è¦å­˜åœ¨å†…å­˜ä¸­ï¼Œcommitè¦æ±‚å†™å…¥ç¡¬ç›˜ï¼Œå½“ç„¶ä¹Ÿå°±ä¸ä¸¢äº† å‚è€ƒ å•è¯´éš”ç¦»æ€§éš”ç¦»çº§åˆ« è§£å†³è„è¯»å–ã€é‡å¤è¯»ã€å¹»è¯» DEFAULTï¼šè¿™æ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºä½¿ç”¨åº•å±‚æ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«ã€‚å¯¹å¤§éƒ¨åˆ†æ•°æ®åº“è€Œè¨€ï¼Œé€šå¸¸è¿™å€¼å°±æ˜¯ï¼šREAD_COMMITTEDã€‚ READ_UNCOMMITTEDï¼šè¯¥éš”ç¦»çº§åˆ«è¡¨ç¤ºä¸€ä¸ªäº‹åŠ¡å¯ä»¥è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹ä½†è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ã€‚è¯¥çº§åˆ«ä¸èƒ½é˜²æ­¢è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œå› æ­¤å¾ˆå°‘ä½¿ç”¨è¯¥éš”ç¦»çº§åˆ«ã€‚ READ_COMMITTEDï¼šè¯¥éš”ç¦»çº§åˆ«è¡¨ç¤ºä¸€ä¸ªäº‹åŠ¡åªèƒ½è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ã€‚è¯¥çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»ï¼Œè¿™ä¹Ÿæ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹çš„æŽ¨èå€¼ã€‚ REPEATABLE_READï¼šè¯¥éš”ç¦»çº§åˆ«è¡¨ç¤ºä¸€ä¸ªäº‹åŠ¡åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­å¯ä»¥å¤šæ¬¡é‡å¤æ‰§è¡ŒæŸä¸ªæŸ¥è¯¢ï¼Œå¹¶ä¸”æ¯æ¬¡è¿”å›žçš„è®°å½•éƒ½ç›¸åŒã€‚å³ä½¿åœ¨å¤šæ¬¡æŸ¥è¯¢ä¹‹é—´æœ‰æ–°å¢žçš„æ•°æ®æ»¡è¶³è¯¥æŸ¥è¯¢ï¼Œè¿™äº›æ–°å¢žçš„è®°å½•ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚è¯¥çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»å’Œä¸å¯é‡å¤è¯»ã€‚ SERIALIZABLEï¼šæ‰€æœ‰çš„äº‹åŠ¡ä¾æ¬¡é€ä¸ªæ‰§è¡Œï¼Œè¿™æ ·äº‹åŠ¡ä¹‹é—´å°±å®Œå…¨ä¸å¯èƒ½äº§ç”Ÿå¹²æ‰°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»ä»¥åŠå¹»è¯»ã€‚ä½†æ˜¯è¿™å°†ä¸¥é‡å½±å“ç¨‹åºçš„æ€§èƒ½ã€‚é€šå¸¸æƒ…å†µä¸‹ä¹Ÿä¸ä¼šç”¨åˆ°è¯¥çº§åˆ«ã€‚ è„è¯» ä¸å¯é‡å¤è¯» å¹»è¯» READ_UNCOMMITTED âœ… âœ… âœ… READ_COMMITTED âŽ âœ… âœ… REPEATABLE_READ âŽ âŽ âœ… SERIALIZABLE âŽ âŽ âŽ è„è¯»ï¼ˆDirty Readï¼‰ï¼šAäº‹åŠ¡è¿›è¡Œä¸­è¯»åˆ°äº†Bäº‹åŠ¡å°šæœªcommitçš„æ•°æ® ä¸å¯é‡å¤è¯»(Fuzzy/Non-Repeatable Read) : Aäº‹åŠ¡è¿›è¡Œä¸­ç¬¬ä¸€æ¬¡è¯»å–ï¼ŒBäº‹åŠ¡æäº¤æ›´æ–°æ•°æ®ï¼ŒAäº‹åŠ¡å†æ¬¡è¯»å–ï¼Œæ•°æ®ä¸ä¸€è‡´ å¹»è¯»ï¼ˆPhantom Readï¼‰ï¼šAäº‹åŠ¡è¯»å–äº†Mè·³æ•°æ®ï¼ŒBäº‹åŠ¡æ’å…¥æ•°æ®Næ¡æäº¤ï¼ŒAäº‹åŠ¡å†æ¬¡è¯»å–å‘çŽ°ä¸ºM+Næ¡ ä¸ªäººæŽ¨æ–­ï¼Œäº‹åŠ¡éš”ç¦»çº§åˆ«åº”è¯¥å’Œæ•°æ®åº“é”ç›¸å…³ï¼Œä¸å¯é‡å¤è¯»éœ€è¦è¡Œçº§é”ï¼Œè€Œå¹»è¯»éœ€è¦è¡¨çº§é”ã€‚è¿™ä¸ªéœ€è¦è¿›æ­¥ä¸€éªŒè¯ æ³¨æ„ï¼šè¿™é‡Œè¯´çš„éƒ½æ˜¯æ•°æ®åº“è‡ªèº«é—®é¢˜ï¼Œå¦‚æžœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„ORMæ¡†æž¶è‡ªèº«è¿˜æœ‰æ•°æ®å¯¹è±¡çŠ¶æ€é—®é¢˜ï¼Œä¾‹å¦‚ï¼šä¸´æ—¶æ€ã€æŒä¹…æ€ã€æ¸¸ç¦»æ€ã€‚è¿™äº›ä¸æ­£å¸¸å¤„ç†å¯èƒ½ä¼šé€ æˆäº‹åŠ¡å†…æ“ä½œå‡ºé”™ã€‚ è§£å†³ç¨‹åºæˆ–æ•°æ®åº“ä¸­ç±»ä¼¼çš„æ•°æ®å†²çªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ç¨‹åºé”æˆ–æ•°æ®åº“é”™ï¼ˆæ— è®ºæ€Žæ ·æ€§èƒ½éƒ½å°†å—åˆ°å½±å“ï¼Œéœ€è¦åˆç†è®¾è®¡ï¼‰ï¼Œæˆ–è€…CASæ“ä½œï¼ˆæ€§èƒ½å¥½ï¼Œä½†æ˜¯åº”ç”¨åœºæ™¯å—é™ï¼‰ï¼Œè¿™åˆå°†æ˜¯ä¸ªå¤§è¯é¢˜ï¼Œç¨åŽå†é˜è¿°å§ã€‚ è¿›é˜¶é˜…è¯»è¿™ä¸ªæ–‡ç« æ¯”æˆ‘è¯´çš„è¯¦ç»†å¤šäº†ï¼Œpingcapå›¢é˜Ÿçš„ã€‚ æŽ¨èé˜…è¯»ã€‚ åŽç»­è¿‘æœŸå…¬å¸éœ€è¦å°†ä¸€å¥—è€ç³»ç»Ÿè¿›è¡Œå¾®æœåŠ¡æ‹†åˆ†å¹¶é‡æž„ï¼ŒèŠ±äº†ä¸€å¤©çš„æ—¶é—´æ·±å…¥æ¢³ç†ä¸€ä¸‹ACID BASE å’Œ CAPï¼Œè¿™äº›æ¦‚å¿µä¹‹å‰è™½ç„¶éƒ½çœ‹è¿‡ï¼Œä½†æ˜¯çŽ°åœ¨å†çœ‹åˆæœ‰æ›´ä¸ºæ·±åˆ»çš„ç†è§£äº†ï¼Œæ¸©æ•…è€ŒçŸ¥æ–°å•Šè¿™ä¸ªéƒ¨åˆ†å†…å®¹ä¸“ä¸šã€åºžå¤§åˆå¤æ‚ï¼Œè¿˜æ˜¯å…ˆæŽ¨èå‡ ç¯‡åˆ«äººçš„æ–‡ç« å§ï¼Œå¦‚æžœå¯èƒ½ï¼Œç¨åŽå†æ€»ç»“è‡ªå·±çš„æƒ³æ³•CAPã€ACIDã€BASEç†è®ºåŠNWRå®žè·µç­–ç•¥è¯¦è§£åˆ†å¸ƒå¼æœåŠ¡åŒ–ç³»ç»Ÿä¸€è‡´æ€§çš„â€œæœ€ä½³å®žå¹²â€]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>db</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Distributed Lock]]></title>
    <url>%2F2018%2F10%2F22%2Fdistributed-lock%2F</url>
    <content type="text"><![CDATA[åˆ†å¸ƒå¼é”ï¼Œåœ¨å¾®æœåŠ¡ï¼Œå¤šæœåŠ¡å™¨æ°´å¹³æ‰©å±•ä»¥åŠé«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œè¦ä¿è¯å…±äº«èµ„æºæ­£ç¡®å¤„ç†ï¼Œè¿™ä¸ªé”å¾ˆé‡è¦ã€‚æˆ‘äº†è§£åˆ°äº†ä¸‰ç§å®žçŽ°æ–¹å¼ï¼š æ•°æ®åº“æ–¹å¼ï¼ŒåŸºäºŽä¸»é”®å”¯ä¸€æ€§çº¦æŸæˆ–è¡Œçº§é”å®žçŽ° Zookeeperå®žçŽ°ï¼ŒåŸºäºŽå…¶ä¸´æ—¶æœ‰åºèŠ‚ç‚¹å®žçŽ° Redisæ–¹å¼ï¼ŒåŸºäºŽsetNXæ“ä½œå®žçŽ° ä¸‰ç§æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œåœ¨æ¢å¤æ­¤åšå®¢ä¹‹å‰æˆ‘å·²ç»å®žçŽ°äº†åŸºäºŽRedisç‰ˆæœ¬çš„åˆ†å¸ƒå¼é”ï¼ŒçŽ°åœ¨æŠŠå¦å¤–ä¸¤ç§åŠ ä»¥å®žçŽ°ï¼Œå¹¶åšç›¸åº”çš„å¯¹æ¯”ã€‚ Mysqlæ•°æ®åº“æ–¹å¼å®žçŽ°åˆ†å¸ƒå¼é”ï¼Œä¸»è¦ç”¨ä¸‰ç§å½¢å¼ï¼š ä¹è§‚é”ï¼Œversionï¼Œé€šè¿‡whereæ¡ä»¶ä¸­çš„versionå†³å®šæ˜¯å¦å¯ä»¥æ›´æ–°æˆåŠŸï¼Œä»Žè€ŒèŽ·å¾—é” ä¸»é”®å”¯ä¸€çº¦æŸæ–¹å¼ï¼Œæ˜¯å¦å¯ä»¥æ­£å¸¸å†™å…¥æ•°æ®ï¼Œä»Žè€ŒèŽ·å¾—é” æ•°æ®åº“è‡ªèº«é” for update æ¥å†³å®šæ˜¯å¦å¯ä»¥èŽ·å¾—é” è¿™é‡Œæˆ‘ä»¬ä¸è®¨è®ºä¹è§‚é”ï¼Œä¸ºäº†å’Œzookeeperã€redisçš„é”åšå¯¹æ¯”ï¼Œè¿™é‡Œé‡‡ç”¨ä½¿ç”¨ä¸»é”®å”¯ä¸€çº¦æŸæ–¹å¼å®žçŽ°é”ã€‚ åˆ›å»ºé”è¡¨ï¼Œå…¶ä¸­method_nameéœ€è¦ç´¢å¼•å¹¶å”¯ä¸€ï¼Œæ—¶é—´é»˜è®¤ 1234567CREATE TABLE method_lock( id int PRIMARY KEY NOT NULL AUTO_INCREMENT, method_name varchar(64) NOT NULL, update_time timestamp not null default current_timestamp on update current_timestamp);CREATE UNIQUE INDEX method_lock_method_name_uindex ON method_lock (method_name); å…³é—­è‡ªåŠ¨æäº¤ï¼Œå¼€å§‹æ‰‹åŠ¨æäº¤ï¼Œä¿è¯äº‹åŠ¡ä¸­çš„æ“ä½œåŽŸå­æ€§ 1connection.setAutoCommit(false); èŽ·å¾—é”ï¼Œä¸¤ä¸ªæ“ä½œï¼Œåˆ é™¤è¶…æ—¶çš„é”ï¼ˆè¶…æ—¶è‡ªåŠ¨é‡Šæ”¾æœºåˆ¶ï¼‰ï¼Œæ’å…¥æ•°æ®èŽ·å¾—é” 123456789PreparedStatement preparedDelete = MySQLConfig.connection.prepareStatement(clearSQL);preparedDelete.setString(1, name);preparedDelete.setInt(2, 3);preparedDelete.executeUpdate();PreparedStatement preparedInsert = MySQLConfig.connection.prepareStatement(insertSQL);preparedInsert.setString(1, name);MySQLConfig.connection.commit(); å¦‚æžœæäº¤å¤±è´¥ï¼Œè¿›è¡Œé‡è¯•ï¼Œè®¾å®šæ—¶é—´é—´éš”å’Œé‡è¯•æ¬¡æ•° 1public static boolean getLockTimes(String name, int times, int interval) é‡Šæ”¾é”ï¼Œç›´æŽ¥åˆ é™¤é”å æœ‰çš„è®°å½• 1234PreparedStatement preparedDelete = MySQLConfig.connection.prepareStatement(deleteSQL);preparedDelete.setString(1, name);preparedDelete.executeUpdate();MySQLConfig.connection.commit(); Zookeeperä¸é‡å¤é€ è½®å­äº†ï¼Œè½®å­åŽŸç†ç®€å•è¯´ä¸€ä¸‹å§ï¼Œä¸¤ç§å®žçŽ°æ–¹å¼ï¼š å›ºå®šèŠ‚ç‚¹ï¼Œåˆ©ç”¨æ–‡ä»¶åç§°å”¯ä¸€æ€§ï¼Œè°å¯ä»¥åˆ›å»ºcreateæŒ‡ä»¤è¯¥èŠ‚ç‚¹ï¼Œè°å°±èŽ·å¾—é”ï¼Œç±»ä¼¼redisä¸­çš„èŽ·å–é”æ“ä½œï¼Œåˆ é™¤èŠ‚ç‚¹é‡Šæ”¾é”ï¼Œå…¶å®ƒwatchè¯¥èŠ‚ç‚¹ åˆ©ç”¨zookeeperä¸­ä¸´æ—¶æœ‰åºèŠ‚ç‚¹ï¼Œå°è¯•èŽ·å¾—é”ï¼Œå¦‚æžœå½“å‰çº¿ç¨‹ç”³è¯·åˆ°çš„èŠ‚ç‚¹åºå·ä¸ºæœ€å°ï¼Œåˆ™èŽ·å¾—é”ï¼Œå¦åˆ™ç›‘å¬å‰ä¸€ä¸ªåºå·ç­‰å¾…çŠ¶æ€æ”¹å˜ï¼Œç„¶åŽå†æ¬¡åˆ¤æ–­ã€‚ å»ºè®®å¤§å®¶ï¼Œå¦‚æžœæœ‰è½®å­å°±ä¸è¦è‡ªå·±é€ äº†ï¼Œå› ä¸ºç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€ çš„ä¸å¦‚å·²æœ‰çš„è½®å­ã€‚æ‰€ä»¥ï¼Œå®žéªŒä½¿ç”¨æˆç†Ÿçš„CuratorFrameworkï¼Œåˆ›å»ºInterProcessMutexé”å¯¹è±¡ é€šè¿‡acquireå°è¯•èŽ·å¾—é”ï¼Œå…¶ä¸­3sä¸ºå¯ä»¥æŽ¥å—çš„å°è¯•èŽ·å¾—é”çš„æ—¶é—´ï¼Œå¦‚æžœå¤ªçŸ­ï¼Œå¯èƒ½èµ„æºç«žäº‰æ¿€çƒˆå¯¼è‡´èŽ·å¾—ä¸åˆ°é”ï¼Œè€Œè¿”å›žfalseï¼Œæ‰€ä»¥è€ƒè™‘äº†é‡è¯•æœºåˆ¶ã€‚ 1mutex.acquire(3, TimeUnit.SECONDS); é‡Šæ”¾é”ï¼Œäº‹åŠ¡å¤„ç†å®Œæ¯•åŽï¼Œéœ€è¦é‡Šæ”¾é”ï¼Œæœ€å¥½åˆ¤æ–­ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯å½“å‰çº¿ç¨‹æ‹¥æœ‰è¿™ä¸ªé”ï¼Œç„¶åŽå°è¯•é‡Šæ”¾ã€‚ 1234if (mutex.isOwnedByCurrentThread()) &#123; mutex.release(); log.info("release lock....");&#125; å¦‚æžœæŒ‰ç…§ç½‘ä¸ŠåŽŸç†ä»‹ç»æ¥çœ‹ï¼Œå…¶åˆ¤æ–­æ˜¯è‡ªå¢žåºå·çš„æœ€å°å€¼ä¸ºèŽ·å¾—é”ï¼Œé‚£ä¹ˆå…¶åº”è¯¥æ˜¯æ˜¯ä¸€ä¸ªå…¬å¹³é”ï¼Œè¿™ä¸€ç‚¹æˆ‘éœ€è¦å†è¿›ä¸€æ­¥éªŒè¯ä¸€ä¸‹ã€‚ RedisRedisåˆ†å¸ƒå¼é”ï¼Œrediså®˜ç½‘æœ‰ç›¸åº”çš„æ–‡ç« é˜è¿°ï¼Œè¿™é‡Œç›¸å½“äºŽæ¨¡ä»¿ç€é€ äº†ä¸€ä¸ªè½®å­ é¦–å…ˆå®žçŽ°ä¸€ä¸ªrediså®žä¾‹å³å•èŠ‚ç‚¹çš„ä¾‹å­ï¼Œè¿™ä¸ªæ˜¯åŸºç¡€ã€‚é€šè¿‡å¤šçº¿ç¨‹æ–¹å¼æ¨¡æ‹Ÿæµ‹è¯•ï¼Œå®žé™…åº”ç”¨ä¸åº”è¯¥æ˜¯å¤šçº¿ç¨‹çŽ¯å¢ƒï¼Œå¦åˆ™ä½¿ç”¨çº¿ç¨‹åŒæ­¥ç›¸å…³æŠ€æœ¯å°±å¥½äº†ã€‚å…¶æ¬¡ï¼Œåˆæ­¥å®žçŽ°äº†RedLockæ–¹å¼ï¼Œç”¨äºŽå¤šä¸ªRedisèŠ‚ç‚¹ï¼Œå¢žå¼ºå…¶ç¨³å®šæ€§ã€‚ä½†å®žé™…ä½¿ç”¨å¯èƒ½è¿˜æ˜¯å•èŠ‚ç‚¹æ¯”è¾ƒå¤šï¼Œéœ€è¦è€ƒè™‘é”å¤±æ•ˆçš„å¼¥è¡¥æ–¹å¼ã€‚ è¿™é‡Œçš„setæ–¹æ³•æ˜¯å…³é”®ï¼Œå…¶ä¿è¯äº†åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä»¥åŠè®¾ç½®é”å€¼å’Œæœ‰æ•ˆæ—¶é—´ä¸€ç³»åˆ—æ“ä½œçš„åŽŸå­æ€§ï¼Œå¦åˆ™è¿™ä¸ªåˆ†å¸ƒå¼é”çš„å®žçŽ°æ˜¯ä¸æˆç«‹çš„ã€‚ 123456String res = resource.set(lockKey, uuid, "NX", "PX", keyExpire);if ("OK".equals(res)) &#123; resource.close(); log.info("Get lock, uuid: &#123;&#125;", uuid); return uuid;&#125; è®¾ç½®æˆåŠŸï¼Œåˆ™èŽ·å¾—é”ï¼Œå¦åˆ™å¤±è´¥ã€‚å…¶ä¸­è®¾ç½®çš„å€¼ä¸ºuuidéšæœºæ•°ï¼Œæ‰€ä»¥è¿™ä¸ªç†è®ºä¸Šæ˜¯éžå…¬å¹³é” é‡Šæ”¾é”ï¼Œå³åˆ é™¤å€¼ï¼Œè¿™æ˜¯éœ€è¦watchè¿™ä¸ªå€¼ï¼Œå¹¶åœ¨äº‹åŠ¡å†…å°†å…¶åˆ é™¤ 12345678910111213resource.watch(lockKey);if (uuid.equals(resource.get(lockKey))) &#123; Transaction multi = resource.multi(); Response&lt;Long&gt; del = multi.del(lockKey); multi.exec(); if (del.get() == 1) &#123; log.info("Release lock, uuid: &#123;&#125;", uuid); retFlag = true; &#125; else &#123; log.info("Release lock, failed!"); &#125; multi.close();&#125; å½“redisæœ‰å¤šä¸ªèŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¥‡æ•°ä¸ªç‚¹æ¥æŒ‰ç…§å¤šæ•°åŽŸåˆ™åˆ¤æ–­æ˜¯å¦èŽ·å¾—äº†é”ã€‚ç¨‹åºä¸­é€šè¿‡ä¸€ä¸ªredisä¸­çš„ä¸é€šDBæ¥æ¨¡æ‹Ÿçš„ã€‚æœ‰æ•ˆæ—¶é—´å†…ï¼ŒèŠ‚ç‚¹æ•°å¤§äºŽä¸€åŠï¼Œå°±è®¤ä¸ºèŽ·å¾—æˆåŠŸï¼Œå¦åˆ™å¤±è´¥ 12345678if ((passNode.get() &gt;= nodes / 2 + 1) &amp;&amp; (end - start) &lt; keyExpire) &#123; log.info("Get RedLock uuid &#123;&#125;, pass node:&#123;&#125;", uuid, passNode.get()); return uuid;&#125; else &#123; log.info("Get RedLock failed"); releaseLock(lockName, uuid); return null;&#125; æ€»ç»“æ— è®ºä»€ä¹ˆæ€Žæ ·å®žçŽ°åˆ†å¸ƒå¼é”ï¼Œéƒ½éœ€è¦è€ƒè™‘ä¸€ä¸‹å†…å®¹ï¼š åˆ¤æ–­é”æ˜¯å¦å­˜åœ¨å’Œè®¾ç½®é”å€¼ï¼Œä¸¤æ­¥éœ€è¦åŽŸå­æ€§ è€ƒè™‘ç”³è¯·é”æ—¶ï¼Œç”³è¯·çš„è¶…æ—¶æ—¶é—´å’Œå°è¯•æ¬¡æ•°ï¼Œå…·å¤‡éžé˜»å¡žç‰¹æ€§ éœ€è¦è€ƒè™‘é”çš„æ­£å¸¸é”€æ¯æ–¹å¼ï¼Œä¸»åŠ¨åˆ é™¤é” éœ€è¦è€ƒè™‘é”çš„å¼‚å¸¸é”€æ¯æ–¹å¼ï¼Œä¾‹å¦‚æœ‰æ•ˆæ—¶é—´æˆ–è€…å›žè¯æ–­å¼€åˆ é™¤ é€‚å½“è€ƒè™‘é‡å…¥ç‰¹æ€§ ä½¿ç”¨æ€»ç»“ï¼š mysql åˆ©ç”¨æ•°æ®åº“ç‰¹æ€§è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œæ€§èƒ½æœ‰é™ zookeeperå®žçŽ°åº”è¯¥æ˜¯éžå¸¸ä¸¥è°¨çš„ï¼Œä½†æ˜¯æ€§èƒ½ä¸€èˆ¬ Redisè™½ç„¶å®žçŽ°ä¸Šè¿˜å­˜åœ¨äº‰è®®ï¼Œä½†æ˜¯æ€§èƒ½å¾ˆå¥½ æ€§èƒ½: ç¼“å­˜ &gt; Zookeeper &gt; æ•°æ®åº“å¯é æ€§: Zookeeper &gt; ç¼“å­˜ &gt; æ•°æ®åº“ å®žçŽ°å¤æ‚åº¦ï¼Œçœ‹ä½ å¯¹è°ç†Ÿæ‚‰äº†ï¼Œæˆ‘ä¸ªäººæ„Ÿè§‰å¾—å·®ä¸å¤šã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>zookeeper</tag>
        <tag>mysql</tag>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Zookeeper]]></title>
    <url>%2F2018%2F10%2F18%2Fzookeeper%2F</url>
    <content type="text"><![CDATA[è¿‘æœŸåœ¨åšMQçš„å®žéªŒï¼Œæ‰€ä»¥åˆæŽ¥è§¦äº†ä¸€ä¸‹Zookeeperï¼Œä¹‹æ‰€è¯´åˆæ˜¯å› ä¸ºä¹‹å‰ç¢°åˆ°è¿‡ï¼Œä½†æ˜¯åªæ˜¯ç”¨è€Œå·²æ²¡æœ‰äº†è§£è¿‡ä¸€äº›ç»†èŠ‚ã€‚ Zookeeper åšä»€ä¹ˆï¼Ÿå¼•ç”¨å®˜æ–¹åŽŸè¯ï¼šZooKeeper is a centralized service for maintaining configuration information, naming, providing distributed synchronization, and providing group services. ä»–å¯ä»¥æä¾›é«˜å¯é çš„åˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼ŒåŒ…æ‹¬ä¸­å¿ƒåŒ–é…ç½®æœåŠ¡ç­‰ã€‚ä¹‹å‰æˆ‘ç”¨å®ƒåšäº†ä»€ä¹ˆï¼Œæ³¨å†Œå‘çŽ°æœåŠ¡å™¨ï¼Œä½ æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯ç”¨äº†è¿™ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯å…·ä½“æ€Žä¹ˆå®žçŽ°çš„ï¼ŒSpring Cloudéƒ½å·²ç»å®žçŽ°äº†ï¼Œæ²¡æœ‰æ·±å…¥å…³å¿ƒè¿‡ã€‚ è¿™ä¸ªæ–‡ç« æˆ‘ä»¬è¡¥ä¸€äº›å¿…è¦çš„çŸ¥è¯†ï¼Œæ›´åŠ æ·±å…¥çš„äº†è§£Zookeeperã€‚ Zookeeper æ€Žä¹ˆçŽ©ï¼Ÿé¦–å…ˆï¼Œç®€å•è¯´ä»–å¥½ä¼¼ä¸€ä¸ªæ–‡ä»¶ç›®å½•ï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥å­˜å‚¨æ•°æ®çš„æœåŠ¡å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆå¿½ç•¥å…¶é›†ç¾¤ä¸­çš„ä¸€äº›ç‰¹æ€§ï¼ˆé€‰ä¸¾åˆ¶åº¦ç­‰ï¼‰ï¼Œæˆ‘ä»¬çœ‹å®ƒå¯¹å¤–å¯ä»¥æä¾›ä»€ä¹ˆã€‚ å®ƒå†…éƒ¨æœ‰ç±»ä¼¼æ–‡ä»¶ç›®å½•çš„ç»“æž„ï¼ŒèŠ‚ç‚¹ç§°ä¹‹ä¸ºznode æ–‡ä»¶ç»“æž„å¯ä»¥å­˜å‚¨æ•°æ®ï¼Œå¯ä»¥æƒ³è±¡ä¸ºç›®å½•ç»“æž„çš„Redis èŠ‚ç‚¹æ•°æ®å¤§å°æœ‰é™ï¼Œä¸å¯ä»¥è¶…è¿‡1M å¯ä»¥é€šè¿‡æŽ¥å£èŽ·å¾—æ•°æ®ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç”¨å…¶åˆ†å¸ƒå¼åè°ƒæœåŠ¡çš„å…³é”® è¡¥å……ï¼Œæ•°æ®è¿‡å¤§æ€Žä¹ˆåŠžï¼Œç›®å‰äº†è§£åˆ°çš„æœ‰ä¸¤ä¸ªæ€è·¯ï¼Œæ²¡æœ‰å®žéªŒè¿‡ï¼š ä½¿ç”¨ä¸“ä¸šçš„åˆ†å¸ƒå¼å­˜å‚¨HDFSç­‰ ä½¿ç”¨Redisï¼Œç„¶åŽzookeeperè®°å½•ç´¢å¼•å°±å¥½äº† å‘½ä»¤è¡Œä¸¤ç§å½¢å¼ï¼Œåˆ†åˆ«å¯¹åº”æŸ¥çœ‹ç®¡ç† æœåŠ¡å™¨çŠ¶æ€å’Œå†…éƒ¨å­˜å‚¨ã€‚ æŸ¥çœ‹ç®¡ç†æœåŠ¡å™¨çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡telnet å’Œ ncå‘å‡ºæŒ‡ä»¤ï¼Œä¸€èˆ¬ä½¿ç”¨ncæ¯”è¾ƒæ–¹ä¾¿ï¼ˆå…·ä½“å‘½ä»¤å‚è€ƒç½‘ä¸Šä¿¡æ¯ï¼‰ 1234567891011echo stat| nc 127.0.0.1 2181 # æ¥æŸ¥çœ‹å“ªä¸ªèŠ‚ç‚¹è¢«é€‰æ‹©ä½œä¸ºfolloweræˆ–è€…leaderecho ruok| nc 127.0.0.1 2181 # æµ‹è¯•æ˜¯å¦å¯åŠ¨äº†è¯¥Serverï¼Œè‹¥å›žå¤imokè¡¨ç¤ºå·²ç»å¯åŠ¨ã€‚echo dump| nc 127.0.0.1 2181 # åˆ—å‡ºæœªç»å¤„ç†çš„ä¼šè¯å’Œä¸´æ—¶èŠ‚ç‚¹ã€‚echo kill | nc 127.0.0.1 2181 # å…³æŽ‰serverecho conf | nc 127.0.0.1 2181 # è¾“å‡ºç›¸å…³æœåŠ¡é…ç½®çš„è¯¦ç»†ä¿¡æ¯ã€‚echo cons | nc 127.0.0.1 2181 # åˆ—å‡ºæ‰€æœ‰è¿žæŽ¥åˆ°æœåŠ¡å™¨çš„å®¢æˆ·ç«¯çš„å®Œå…¨çš„è¿žæŽ¥ / ä¼šè¯çš„è¯¦ç»†ä¿¡æ¯ã€‚echo envi | nc 127.0.0.1 2181 # è¾“å‡ºå…³äºŽæœåŠ¡çŽ¯å¢ƒçš„è¯¦ç»†ä¿¡æ¯ï¼ˆåŒºåˆ«äºŽ conf å‘½ä»¤ï¼‰ã€‚echo reqs | nc 127.0.0.1 2181 # åˆ—å‡ºæœªç»å¤„ç†çš„è¯·æ±‚ã€‚echo wchs | nc 127.0.0.1 2181 # åˆ—å‡ºæœåŠ¡å™¨ watch çš„è¯¦ç»†ä¿¡æ¯ã€‚echo wchc | nc 127.0.0.1 2181 # é€šè¿‡ session åˆ—å‡ºæœåŠ¡å™¨ watch çš„è¯¦ç»†ä¿¡æ¯ï¼Œå®ƒçš„è¾“å‡ºæ˜¯ä¸€ä¸ªä¸Ž watch ç›¸å…³çš„ä¼šè¯çš„åˆ—è¡¨ã€‚echo wchp | nc 127.0.0.1 2181 # é€šè¿‡è·¯å¾„åˆ—å‡ºæœåŠ¡å™¨ watch çš„è¯¦ç»†ä¿¡æ¯ã€‚å®ƒè¾“å‡ºä¸€ä¸ªä¸Ž session ç›¸å…³çš„è·¯å¾„ã€‚ å¦‚æžœæç¤ºï¼šxxx is not executed because it is not in the whitelist.è¯·åœ¨conf/zoo.cfgä¸­æ·»åŠ ï¼š 14lw.commands.whitelist=* #æˆ–è€…å…·ä½“æŒ‡ä»¤stat, ruok æŸ¥çœ‹ç®¡ç†æœåŠ¡ä¸­çš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œéœ€è¦zkCliå‘½ä»¤ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼Œè¿™ä¸ªåœ¨zookeeperæ‰€å¯¹åº”çš„binç›®å½•ä¸‹æœ‰ï¼ŒzkCliè¿›å…¥åŽï¼Œéšä¾¿æ•²ç‚¹å•¥ï¼Œä½ å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829[zk: localhost:2181(CONNECTED) 0] ?ZooKeeper -server host:port cmd args addauth scheme auth close config [-c] [-w] [-s] connect host:port create [-s] [-e] [-c] [-t ttl] path [data] [acl] delete [-v version] path deleteall path delquota [-n|-b] path get [-s] [-w] path getAcl [-s] path history listquota path ls [-s] [-w] [-R] path ls2 path [watch] printwatches on|off quit reconfig [-s] [-v version] [[-file path] | [-members serverID=host:port1:port2;port3[,...]*]] | [-add serverId=host:port1:port2;port3[,...]]* [-remove serverId[,...]*] redo cmdno removewatches path [-c|-d|-a] [-l] rmr path set [-s] [-v version] path data setAcl [-s] [-v version] path acl setquota -n|-b val path stat [-w] path sync pathCommand not found: Command not found ?[zk: localhost:2181(CONNECTED) 1] æˆ‘ä¸»è¦ä½¿ç”¨äº†ï¼š ls æ˜¾ç¤ºznode crate åˆ›å»ºznodeï¼Œå¹¶è®¾ç½®åˆå§‹å†…å®¹ get èŽ·å–znodeå†…å®¹ set ä¿®æ”¹znodeå†…å®¹ delete åˆ é™¤znode é€€å‡ºå®¢æˆ·ç«¯ï¼š quit å®žéªŒå·¥ç¨‹æµ‹è¯•å·¥ç¨‹åœ°å€ ï¼Œå¼€å‘çŽ¯å¢ƒï¼š mac os x &amp; idea &amp; gradle spring cloud &amp; zookeeper config &amp; discovery zookeeper 3.5 in docker è¯·æ³¨æ„ï¼Œå…¶ä¸­ä½¿ç”¨çš„æœ€æ–°ç‰ˆçš„curatoråŒ…åªæ”¯æŒzookeeper3.5 å…³é”®ä»£ç é€šè¿‡CuratorFramework è®¾ç½®æˆ–è¯»å–zookeeperä¸­çš„èŠ‚ç‚¹ 123456789curatorFramework.blockUntilConnected();Stat stat = curatorFramework.checkExists().forPath("/test");if(stat==null) &#123; curatorFramework.create().creatingParentsIfNeeded() .withACL(ZooDefs.Ids.OPEN_ACL_UNSAFE) .forPath("/test", "data".getBytes());&#125;byte[] bytes = curatorFramework.getData().forPath("/test");log.info("path test:&#123;&#125;", new String(bytes)); å°†zookeeperä½œä¸ºé…ç½®ä¸­å¿ƒï¼Œé€šè¿‡valueæ³¨è§£èŽ·å–zookeeperä¸­çš„é…ç½®ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥åšåˆ°åœ¨ä¸é‡æ–°å¯åŠ¨æœåŠ¡çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åŠ è½½é…ç½®ä¿¡æ¯ä»£ç éœ€è¦ï¼š 12@Value("$&#123;zc&#125;")private String zc; ä¹Ÿå¯ä»¥å°†é…ç½®ä¿¡æ¯åŠ è½½åˆ°ä¸€ä¸ªå¯¹è±¡ä¸Šï¼Œå¹¶å®žçŽ°åŠ¨æ€åˆ·æ–° 123456789@Component@RefreshScope@ConfigurationProperties("demopro")public class DemoProperties &#123; private String key; private String value; //get set&#125; é…ç½®æ–‡ä»¶éœ€è¦ï¼š 12345678application: name: zookeeperDemo config: enabled: true root: /demo defaultContext: context profileSeparator: ',' å› ä¸ºspring cloudæ”¯æŒactive profileï¼Œæ‰€ä»¥å¯¹åº”çš„zookeeperçš„znodeè·¯å¾„å¯ä»¥æ˜¯ï¼š /demo/zookeeperDemo,default /demo/zookeeperDemo /demo/context,default /demo/context å…·ä½“åˆ°zcè¿™ä¸ªé…ç½®ï¼Œå¯¹åº”åœ¨defaultä¸‹çš„å…¨è·¯å¾„æ˜¯ï¼š/demo/zookeeperDemo,default/zcï¼Œä½ å¯ä»¥åœ¨zookeeperä¸­åˆ›å»ºä¸€ä¸ªï¼š 1create /demo/zookeeperDemo,default/zc data å…·ä½“åˆ°DemoPropertiesé…ç½®å¯¹åº”åœ¨defaultä¸‹çš„å…¨è·¯å¾„æ˜¯ï¼š 12create /demo/zookeeperDemo,default/demopro.key prokeycreate /demo/zookeeperDemo,default/demopro.value provalue ä»¥ä¸Šä¸ºå·¥ç¨‹å®žéªŒçš„å…³é”®ç‚¹ï¼Œå…·ä½“å·¥ç¨‹å‚è€ƒæºç ï¼Œå·¥ç¨‹åŽç»­å¯èƒ½è¿˜ä¼šæ›´æ–°ã€‚ åæ§½è¿™äº›é—®é¢˜ä¸æ˜¯é’ˆå¯¹zookeeperï¼Œåªæ˜¯å€Ÿæ­¤è¡¨è¾¾ä¸€ä¸‹ï¼Œå…¶å®ƒå›½å†…å®žä¾‹ä»£ç ä¹Ÿæœ‰ç±»ä¼¼çš„æ™®éçŽ°è±¡ Curatorçš„ä½¿ç”¨ï¼Œå›½å†…å‡ ä¹Žæ²¡æœ‰ï¼Œè¯´æ˜Žå¤§å®¶å‡ ä¹Žæ²¡æœ‰å°è¯•è‡ªå·±åŽ»ä½¿ç”¨zookeeperçš„å­˜å‚¨åŠŸèƒ½ï¼Œéƒ½æ˜¯äººäº‘äº¦äº‘èˆ¬çš„ä»‹ç»åŠŸèƒ½ æŸ¥çœ‹ä¸­å¿ƒåŒ–é…ç½®ï¼Œè·¯å¾„çš„å†™æ³•å‡ ä¹Žéƒ½æ²¡æœ‰éªŒè¯ï¼Œå®žä¾‹ä»£ç å‡ ä¹Žéƒ½ä¸èµ·ä½œç”¨ï¼Œä½ ä»¬è´´åˆ«äººä»£ç æ—¶ä¸å®žéªŒä¸€ä¸‹å—ï¼Ÿ è¯·å¤§å®¶ï¼ˆåŒè¡Œï¼‰åšåˆ°ï¼Œæˆ‘å†™çš„ï¼Œæˆ‘è´´çš„ï¼Œæˆ‘æŠ„çš„ä»£ç ï¼Œæˆ‘è‡³å°‘éƒ½å®žéªŒè¿‡ï¼Œä¸è¦ä¼ æ’­é”™è¯¯çš„ä»£ç ã€‚å…±å‹‰ï¼]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>zookeeper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Message Queue åˆæŽ¢]]></title>
    <url>%2F2018%2F10%2F16%2Fmq%2F</url>
    <content type="text"><![CDATA[æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰ï¼Œå¹³æ—¶ç»å¸¸é‡åˆ°çš„ä¸­é—´ä»¶æŠ€æœ¯ã€‚ä¸ªäººå·¥ä½œä¸­å·²ç»ä½¿ç”¨çš„RabbitMQï¼Œæœ€è¿‘å¼€å§‹ä½¿ç”¨Kafkaï¼Œå› æ­¤ä¹Ÿæ‰“ç®—æŠŠActiveMQå®žéªŒä¸€ä¸‹ã€‚æ‰€ä»¥æœ¬æ–‡ç« å°†å›´ç»•è¿™ä¸‰ä¸ªMQäº§å“è¿›è¡Œç›¸åº”çš„å®žéªŒã€‚ åˆ›å»ºå®žéªŒå·¥ç¨‹ä¸‰ä¸ªMQå®žéªŒå·¥ç¨‹åœ°å€ å·¥ç¨‹ä½¿ç”¨spring bootåˆ›å»ºï¼Œæ‰€æœ‰å®žçŽ°éƒ½å°†åŸºäºŽspringå…¨å®¶æ¡¶ï¼Œå·²ç»å¾ˆå®Œæ¯•äº†ï¼Œæ‹¿æ¥ç›´æŽ¥ç”¨å§ã€‚ ä¸ºäº†åŽç»­å®žéªŒæ–¹ä¾¿ï¼Œåˆ†åˆ«å¤šä¸ªmqçš„producerå’Œconsumerå·¥ç¨‹ ä½¿ç”¨gradleç®¡ç†é¡¹ç›®ç»“æž„ ä½¿ç”¨dockeræ­å»ºæµ‹è¯•æ‰€éœ€è¦çš„æœåŠ¡å™¨ï¼Œæ–‡ä»¶å¯ä»¥å‚è€ƒï¼Œå®žé™…éƒ¨ç½²çŽ¯å¢ƒæœ‰æ‰€è°ƒæ•´ Kafkaé¦–å…ˆå®žéªŒäº†Kafkaçš„ç”Ÿäº§å’Œæ¶ˆè´¹åŸºæœ¬ä»£ç procuderï¼š 1this.kafkaTemplate.send(topic, message); consumer: 1@KafkaListener(topics = "$&#123;app.topic&#125;") è¿è¡Œè¯´æ˜Ž ä½¿ç”¨ä¸‰ä¸ªkafka broker èŠ‚ç‚¹ï¼Œä½¿ç”¨docker-composeå¯¹åº”çš„serviceå®žçŽ°![](/images/post/20181016/kafka brokers.png) åˆ›å»ºtopicï¼Œä½¿ç”¨ä¸‰ä¸ªåˆ†åŒºå’Œä¸¤ä¸ªå‰¯æœ¬![](/images/post/20181016/kafka topic.png) ä½¿ç”¨ideaï¼Œè¿è¡Œå·¥ç¨‹ï¼Œé…ç½®å¤šä¸ªè¿è¡Œå®žä¾‹![](/images/post/20181016/kafka run dashboard.png) ç‰¹æ€§æ€»ç»“ ä¸€ä¸ªåˆ†åŒºå¯¹åº”ä¸€ä¸ªæ¶ˆè´¹è€… ä¸€ä¸ªåˆ†åŒºå†…æ¶ˆæ¯é¡ºåºæ¶ˆè´¹ åˆ†åŒºå’Œå’ŒæœåŠ¡å™¨åº”è¯¥æˆå€æ•°å…³ç³»ï¼Œä¿è¯åˆ†åŒºå‡åŒ€åˆ†å¸ƒ å‰¯æœ¬æ•°é‡åº”è¯¥å°äºŽæœåŠ¡å™¨æ•°é‡ï¼Œå½“å¯ç”¨åˆ†åŒºå¤±æ•ˆæ—¶ï¼Œä»Žå‰¯æœ¬ä¸­é€‰å‡ºleaderï¼Œæˆä¸ºæ–°çš„å¯ç”¨åˆ†åŒº èŠ‚ç‚¹é«˜å¯ç”¨æ€§ï¼Œæ¶ˆè´¹æœåŠ¡çž¬é—´åˆ‡æ¢ ä¿å­˜è¿‘æœŸæ‰€æœ‰æ•°æ®ï¼Œé€šè¿‡offsetå¯ä»¥èŽ·å¾—ä»»æ„ä½ç½®çš„æ¶ˆæ¯ æ˜¯å¦å…è®¸è‡ªåŠ¨åˆ›å»ºtopicéœ€è¦åœ¨kafkaä¸­é…ç½® ACK MODE å’Œ Commitéœ€è¦æ³¨æ„ack modeå’Œ commitï¼Œæ­¤é¡¹å½±å“æ•°æ®çš„åˆ·ç›˜æœºåˆ¶ã€‚æ ¹æ®å®žé™…æƒ…å†µé€‰æ‹© RECORD é€ç¬”ackå¹¶æäº¤ BATCH ä¸€ä¸ªpollå‘¨æœŸè¿›è¡Œackæäº¤ TIME é€šè¿‡è®¾ç½®ackTimeå®šæ—¶æäº¤ COUNT é€šè¿‡è®¾ç½®ackCountç´¯è®¡æ•°é‡æäº¤ COUNT_TIME åŒä¸Šç»„åˆï¼Œå“ªä¸ªå¤åˆæ‰§è¡Œå“ªä¸ª MANUAL æ‰‹åŠ¨æ–¹å¼ç”Ÿæˆackï¼Œæ‰¹é‡æäº¤ MANUAL_IMMEDIATE æ‰‹åŠ¨æ–¹å¼ç”Ÿæˆackå¹¶ç«‹å³æäº¤ å¹¿æ’­ä¸Žç‚¹å¯¹ç‚¹å¹¿æ’­æœ‰æ—¶ä¹Ÿå«pubå’Œsubï¼Œå°±æ˜¯ä¸€ä¸ªtopicï¼Œå¤šä¸ªè®¢é˜…è€…ã€‚æ¯ä¸ªè®¢é˜…è€…éƒ½ä¼šæ”¶åˆ°ç›¸åŒçš„æ¶ˆæ¯ï¼Œæ¶ˆæ¯è¢«å¤šæ¬¡æ¶ˆè´¹ã€‚ç‚¹å¯¹ç‚¹ï¼Œä¸€ä¸ªtopicä¸­çš„æ¶ˆæ¯å¯¹åº”ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œæ¶ˆæ¯åªä¼šè¢«æ¶ˆè´¹ä¸€æ¬¡ åœ¨Kafkaçš„ç³»ç»Ÿä¸­ï¼Œå¦‚ä½•åŒºåˆ†ä»¥ä¸Šä¸¤ç§æ–¹å¼ï¼Œæ˜¯é€šè¿‡consumer groupå®žçŽ°çš„ã€‚ å¤šä¸ªæ¶ˆè´¹è€…åœ¨ä¸€ä¸ªconsumer groupä¸­ï¼Œé‚£ä¹ˆä»–ä»¬å°±æ˜¯ä¸€ä¸ªæ¶ˆè´¹æ•´ä½“ï¼Œæ¶ˆæ¯åªä¼šè¢«ä¸€ä¸ªå…·ä½“çš„æ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡å¦‚æžœæƒ³å¤šä¸ªåŒæ—¶æ¶ˆè´¹ï¼Œé‚£ä¹ˆéœ€è¦å¤šä¸ªconsumer groupã€‚è¿™æ ·æ¥çœ‹consumer groupéœ€è¦ä¸Žå…·ä½“æœåŠ¡å¯¹åº”ï¼Œä¸€èˆ¬ä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡éœ€è¦æ¶ˆè´¹ä¸€æ¬¡æ¶ˆæ¯ã€‚ æ€»çš„æ¥è¯´ï¼Œä½“ä¼šåˆ°äº†å¤§å®¶å–œæ¬¢çš„å®ƒåŽŸå› ï¼Œå…·ä½“ä¸€äº›å®žéªŒåŽç»­å°†æ·±å…¥ã€‚å»ºè®®å‚è€ƒé˜…è¯» ActiveMQæ¯ä¸ªMQä¸­çš„æœ¯è¯­å¤§åŒå°å¼‚ï¼Œä½†åˆååˆ†ä¸ç»Ÿä¸€ï¼Œéšç€éµå¾ªçš„åè®®ä¸ä¸€æ ·ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ActiveMQï¼Œå®ƒä½¿ç”¨JMSåè®® Queue å’Œ TopicTopicsIn JMS a Topic implements publish and subscribe semantics. When you publish a message it goes to all the subscribers who are interested - so zero to many subscribers will receive a copy of the message. Only subscribers who had an active subscription at the time the broker receives the message will get a copy of the message.![](/images/post/20181016/jms topic.png) QueuesA JMS Queue implements load balancer semantics. A single message will be received by exactly one consumer. If there are no consumers available at the time the message is sent it will be kept until a consumer is available that can process the message. If a consumer receives a message and does not acknowledge it before closing then the message will be redelivered to another consumer. A queue can have many consumers with messages load balanced across the available consumers.![](/images/post/20181016/jms queue.png) è¿™é‡Œçš„ topics ç±»ä¼¼kafkaä¸­çš„å¹¿æ’­ï¼Œpub/sub æ¨¡å¼ï¼Œqueueæ˜¯é˜Ÿåˆ—æ˜¯ç‚¹å¯¹ç‚¹æ¨¡å¼ã€‚ä»–çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼Œæ¶ˆè´¹æ–¹å¼çš„ç¡®å®šä¸æ˜¯åœ¨consumerè®¾ç½®ï¼Œè€Œæ˜¯åœ¨MQ Serverä¸­è®¾ç½®æ¶ˆè´¹æ€§è´¨ä¸ŠåŒä¸Šï¼š topicçš„æ¶ˆæ¯ä¼šå¤šä¸ªæ¶ˆè´¹è€…åŒæ—¶æ¶ˆè´¹ï¼Œä½†å¹¶ä¸åšæ¶ˆæ¯å †ç§¯ï¼Œæ²¡æœ‰ä¹‹å‰çš„æ¶ˆæ¯ queueæ¶ˆæ¯åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œå¹¶åšæ¶ˆæ¯ç¼“å­˜å †ç§¯ï¼Œç›´åˆ°æ¶ˆè´¹ä¸ºæ­¢ åŒæ—¶queueçš„æ¶ˆè´¹è€…æ˜¯è´Ÿè´£å‡è¡¡çš„ä¼šåˆ†æ‘Šæ¶ˆæ¯é˜Ÿåˆ—çš„ä¸­çš„æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯æŒ‰é¡ºåºæ‰§è¡Œ![](/images/post/20181016/activemq consumer.png) å…³é”®ä»£ç æ¶ˆè´¹ç«¯ 1234567891011121314151617@Beanpublic JmsListenerContainerFactory&lt;?&gt; queueListenerFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) &#123; DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory(); configurer.configure(factory, connectionFactory); return factory;&#125;@Beanpublic JmsListenerContainerFactory&lt;?&gt; topicListenerFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) &#123; DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory(); factory.setConnectionFactory(connectionFactory); configurer.configure(factory, connectionFactory); factory.setPubSubDomain(true); return factory;&#125; é€šè¿‡spring boot é…ç½®æ–‡ä»¶å¯ä»¥æŒ‡æ˜Žæ¶ˆè´¹æ–¹å¼ï¼Œæ˜¯topicè¿˜æ˜¯queueï¼Œä½†æ˜¯åªèƒ½åªä¸€ç§ã€‚ä¸ºäº†åŒæ—¶æ”¯æŒä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä¹ˆéœ€è¦å£°æ˜ŽJmsListenerContainerFactoryã€‚æ˜¯å¦å¼€å¯pub sub domainï¼Œå†³å®šæ˜¯queueè¿˜æ˜¯topic 1factory.setPubSubDomain(true); åŒæ—¶é…åˆJmsListeneræ³¨è§£ï¼Œå°±å¯ä»¥æŒ‡æ˜Žæ¶ˆè´¹æ–¹å¼äº†ã€‚å¦‚æžœæŒ‡æ˜Žçš„æ¶ˆè´¹æ–¹å¼ä¸ŽActiveMQæ‰€åˆ›å»ºçš„queueæˆ–topicä¸ä¸€è‡´ï¼Œåˆ™æ¶ˆæ¯ä¸èƒ½æ­£å¸¸æ¶ˆè´¹ã€‚ 1@JmsListener(destination = "$&#123;app.queue&#125;", containerFactory = "queueListenerFactory") ç”Ÿäº§ç«¯ 123456789@Bean public Queue queue() &#123; return new ActiveMQQueue(queueName); &#125; @Bean public Topic topic() &#123; return new ActiveMQTopic(topicName); &#125; é€šè¿‡ä¸é€šç±»åž‹æŒ‡æ˜Žæ˜¯topicè¿˜æ˜¯queue è¿è¡Œè¯´æ˜ŽåŒæ ·åˆ›å»ºå¤šä¸ªè¿è¡Œå®žä¾‹ï¼Œæ¥è§‚å¯Ÿæ¶ˆè´¹æƒ…å†µ![](/images/post/20181016/activemq run dashboard.png) è§‚å¯ŸActiveMQç®¡ç†åŽå°ï¼Œä½ å¯ä»¥çœ‹åˆ°ç›¸å…³çš„é…ç½®ä¿¡æ¯![](/images/post/20181016/activemq queue.png)![](/images/post/20181016/activemq topic.png) ç‰¹æ€§æ€»ç»“ ç®€å•ï¼Œä¸¤ç§æ¶ˆè´¹æ¨¡å¼éžå¸¸æ¸…æ™°ï¼Œæ²¡æœ‰å¤æ‚çš„ç³»ç»Ÿç»“æž„ è‡ªå¸¦ç®¡ç†åŽå°è¿˜ç®—å¥½ç”¨ è¿˜éœ€è¦æ·±å…¥ä½“ä¼šå…¶ä¸€äº›å‚æ•°è®¾ç½®ï¼Œåˆæ­¥æ„Ÿè§‰ä¸­è§„ä¸­çŸ©æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ã€‚ðŸ˜œ RabbitMQæœ€åŽè¯´ç†Ÿæ‚‰çš„RabbitMQå§ã€‚æˆ‘å¾ˆå–œæ¬¢RabbitMQï¼ŒåŠŸèƒ½ä¸Šä¸°å¯Œï¼Œæ€§èƒ½ä¸é”™ï¼Œç›¸æ¯”ActiveMQï¼Œæˆ‘æ›´å–œæ¬¢RabbitMQå§ã€‚å½“ç„¶å…·ä½“ä½¿ç”¨ï¼Œè¿˜æ˜¯è¦åˆ†åº”ç”¨åœºæ™¯ã€‚ åŸºæœ¬æ¦‚å¿µRabbitMQä¸­æœ‰å‡ ä¸ªä¸»è¦æ¦‚å¿µï¼Œå’Œå…¶å®ƒMQçš„å®šä¹‰æœ‰äº›åŒºåˆ«ï¼Œå…¶ä¸ºAMQPåè®® Exchange äº¤æ¢æœºï¼Œç”¨äºŽæ¶ˆæ¯çš„åˆ†å‘ï¼Œå¦‚æžœä¸æŒ‡å®šåˆ™ä¼šä½¿ç”¨é»˜è®¤çš„ Queue é˜Ÿåˆ—ï¼Œå®žé™…ç¼“å­˜æ•°æ®çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯å¯¹åº”å¤šä¸ªæ¶ˆè´¹è€… Topic ä¸»é¢˜ï¼Œæ¶ˆæ¯å¯ä»¥æœ‰ä¸»é¢˜ï¼Œç”¨äºŽexchangeåˆ†é…æ¶ˆæ¯æ˜¯çš„åˆ¤æ–­ä¾æ® virtual host è™šæ‹Ÿè·¯å¾„ï¼Œå¯ä»¥åˆ›å»ºè™šæ‹Ÿè·¯å¾„å°†ç›¸å…³é…ç½®åˆ†å¼€å¹¶è®¾å®šç‰¹å®šç”¨æˆ·ç”¨äºŽè®¿é—®æŽ§åˆ¶ ![](/images/post/20181016/exchanges topic fanout direct.png) æ¶ˆè´¹æ–¹å¼RabiitMQçš„æ¶ˆè´¹æ–¹å¼å’Œçµæ´»åº¦ä¸Šåº”è¯¥æ˜¯è¿™ä¸‰è€…ä¸­æœ€å¥½çš„ï¼Œå¹¶ä¸”å®˜æ–¹ç»™å‡ºäº†è¯¦ç»†çš„å®žä¾‹è¯´æ˜Žï¼Œè¶…æœ‰çˆ±â¤ï¸å½“ç„¶ç”±äºŽæ¨¡å¼å¤šï¼Œå®ƒä¹Ÿå°±æ˜¯æœ€å¤æ‚çš„ã€‚å®˜æ–¹ç»™å‡ºçš„å…­ä¸ªå®žä¾‹ï¼Œè¿™é‡Œç®€å•è¯´ä¸€ä¸‹ï¼Œå…·ä½“ä»£ç çœ‹åŽŸå€ Hello World æœ€æ™®é€šçš„ç”Ÿäº§æ¶ˆè´¹ä»£ç  Work Queue é»˜è®¤exchangeï¼Œå·¥ä½œé˜Ÿåˆ—ï¼Œä¸€ä¸ªé˜Ÿåˆ—è¢«å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œä¸”ä¸€ä¸ªæ¶ˆæ¯åªæ¶ˆè´¹ä¸€æ¬¡ Publish/Subscribe å‘å¸ƒè®¢é˜…ï¼Œé€šè¿‡exchange Fanoutæ¨¡å¼è¿›è¡Œé˜Ÿåˆ—åˆ†å‘ï¼Œå®žçŽ°ä¸€æ¡æ¶ˆæ¯å¯ä»¥è¢«å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ Routing è·¯ç”±æ–¹å¼ï¼Œé€šè¿‡exchangeå’Œrouting keyæŒ‡å®šæ¶ˆæ¯è·¯ç”±åˆ°å…·ä½“çš„é˜Ÿåˆ—åˆ«ç‰¹å®šçš„æ¶ˆè´¹è€…æ¶ˆè´¹ Topics ä¸»é¢˜æ–¹å¼ï¼Œé€šè¿‡exchangeå’Œtopicæ¯”é…è§„åˆ™æŒ‡å®šæ¶ˆæ¯è·¯ç”±åˆ°å…·ä½“çš„é˜Ÿåˆ—åˆ«ç‰¹å®šçš„æ¶ˆè´¹è€…æ¶ˆè´¹ RPC é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å®žçŽ°RPCè°ƒç”¨è¿‡ç¨‹ Exchange æ–¹å¼ï¼š direct exchange ç›´æŽ¥ç‚¹å¯¹ç‚¹ fanout exchange å…¨ä½“å¹¿æ’­ topic exchange ä¸»é¢˜å¹¿æ’­ headers exchange è¿˜æ²¡æœ‰ç”¨è¿‡ system exchange è¿˜æ²¡æœ‰ç”¨è¿‡ å…³é”®ä»£ç ç”Ÿäº§ç«¯ 123456789101112131415// å£°æ˜Žqueue@Beanpublic Queue queue() &#123; return new Queue(queueName);&#125;// å£°æ˜Žfanout exchange@Beanpublic FanoutExchange exchange() &#123; return new FanoutExchange(broadcast, false, true);&#125;// å£°æ˜Ž queueä¸Žexchangeçš„ç»‘å®šå…³ç³»@BeanBinding binding1(Queue queueBroadone, FanoutExchange exchange) &#123; return BindingBuilder.bind(queueBroadone).to(exchange);&#125; æ¶ˆè´¹ç«¯ 1234@RabbitListener(queues = "$&#123;app.broadone&#125;")public void recevieOne(String message) &#123; log.info("consumer receive broadcast one: &#123;&#125;", message);&#125; è¿è¡Œè¯´æ˜Žè¿™é‡Œæˆ‘åªåšæ¶ˆæ¯åœ¨å¤šæ¶ˆè´¹è€…ä¸‹é¡ºåºæ¶ˆè´¹è§‚å¯Ÿå’Œå¹¿æ’­è§‚å¯Ÿï¼Œå…¶å®ƒå®žä¾‹å‚è€ƒå®˜ç½‘ä»£ç å§ï¼Œæ²¡æœ‰å¿…è¦é‡å¤äº†ã€‚ ä¸€ä¸ªç”Ÿäº§è€…ã€ä¸€ä¸ªqueueã€å¤šä¸ªæ¶ˆè´¹è€…ï¼Œå’ŒActiveMQ queueæ–¹å¼ï¼Œè§‚å¯Ÿæ•ˆæžœä¸€è‡´ï¼š å¤šä¸ªæ¶ˆè´¹è€…çš„æ¶ˆæ¯åˆ†æ‘Šï¼Œå¦‚æžœæ¯æ¡æ¶ˆè´¹æ‰§è¡Œæ—¶é—´å·®å¼‚è¾ƒå¤§ï¼Œæ¶ˆè´¹é¡ºåºä¸ä¿è¯ä¸€è‡´![](/images/post/20181016/rabbitmq consumer.png) æ¶ˆè´¹é€€å‡ºï¼Œå¦ä¸€ä¸ªæ¶ˆè´¹è€…ä¼šæŽ¥æ›¿æœªå®Œæˆçš„æ¶ˆæ¯å·¥ä½œ å¹¿æ’­æ¶ˆæ¯é»˜è®¤å †ç§¯ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯æ¶ˆè´¹é˜Ÿåˆ—ï¼Œä¸èƒ½å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€ä¸ªqueueå®žçŽ°pub/sub åŒæ ·åˆ›å»ºå¤šä¸ªè¿è¡Œå®žä¾‹ï¼Œæ¥è§‚å¯Ÿæ¶ˆè´¹æƒ…å†µ![](/images/post/20181016/rabbitmq run dashboard.png) ç®¡ç†åŽå°å¯ä»¥çœ‹åˆ°çš„ä¿¡æ¯![](/images/post/20181016/rabbitmq queue.png)![](/images/post/20181016/rabbitmq exchange.png) ç‰¹æ€§æ€»ç»“ åŠŸèƒ½å¤šï¼Œä½¿ç”¨çµæ´» AMQPï¼Œæ€§èƒ½ä¸é”™ ç®¡ç†åŽå°æ–¹ä¾¿ å®žéªŒæ€»ç»“ å¦‚æžœä½ éœ€è¦æ¶ˆæ¯é¡ºåºæ¶ˆè´¹ã€åˆ†å¸ƒå¼å­˜å‚¨çš„é«˜å¯ç”¨æ€§ï¼ŒæŒ‡å®šæ¶ˆæ¯ä½ç½®å†æ¬¡æ¶ˆè´¹ï¼Œè¾ƒé«˜çš„åžå â€”â€” Kafka å¦‚æžœä½ è¦æ¶ˆæ¯æ­£å¸¸æ¶ˆè´¹ï¼Œæ— é¡ºåºè¦æ±‚ã€æ— ç‰¹æ®Šè·¯ç”±è¦æ±‚ã€‚å¹¿æ’­æ¶ˆè´¹æ—¶ï¼Œå¤šä¸ªæ¶ˆè´¹è€…å¯ä»¥ç›‘å¬ä¸€ä¸ªqueueçš„æ–¹å¼å®Œæˆ â€”â€” ActiveMQ å¦‚æžœä½ è¦é€‚åˆå¤šç§æ¶ˆæ¯æ ¹æ®è‡ªå®šä¹‰è§„åˆ™ï¼ˆé€šé…ç¬¦ç­‰ï¼‰è·¯ç”±é“ä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ–å…¼å®¹ä¸é€šåœºæ™¯ï¼Œå¸Œæœ›å¹¿æ’­æ¶ˆæ¯æœ‰å †ç§¯ä¸ä¸¢å¤± â€”â€” RabbitMQ ä»¥ä¸ŠMQéƒ½è¿˜æœ‰å¾ˆå¤šé…ç½®å‚æ•°åº”å¯¹ä¸é€šçš„åº”ç”¨éœ€æ±‚ï¼Œå¯èƒ½é€šè¿‡é…ç½®å®žçŽ°é»˜è®¤ä¸æ”¯æŒçš„åŠŸèƒ½ï¼Œå…·ä½“ä½¿ç”¨æƒ…å†µï¼Œå¦‚æžœä»¥åŽé‡åˆ°æˆ‘å†å•ç‹¬è¯´æ˜Žã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>MQ</tag>
        <tag>middleware</tag>
        <tag>Kafka</tag>
        <tag>ActiveMQ</tag>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OpenStack ä»Žå…¥é—¨åˆ°ç»§ç»­]]></title>
    <url>%2F2018%2F10%2F11%2Fopenstack%2F</url>
    <content type="text"><![CDATA[è¿‘æœŸç»™è‡ªå·±æŒ–çš„æŠ€æœ¯å‘æœ‰ç‚¹å¤šï¼Œæˆ‘å¿ä¸ä½å†æŒ–ä¸€ä¸ªï¼Œæœ€è¿‘åˆäº†è§£åˆ°äº†äº‘æœåŠ¡çš„ç›¸å…³æŠ€æœ¯ï¼ˆç®—æ˜¯æŠ€æœ¯å‚¨å¤‡å§ï¼‰ What is OpenStack?OpenStackæ˜¯è¢«å¹¿æ³›ä½¿ç”¨çš„äº‘æ“ä½œç³»ç»Ÿï¼Œå®ƒç®¡å•¥ï¼Œå¦‚å›¾ï¼š Componentsæ‰€æœ‰ç»„ä»¶è¯¦è§ï¼šç½‘ç«™åˆ—å‡ºçš„æ‰€æœ‰ç»„ä»¶ æ‰¾å‡ ä¸ªä»‹ç»å¤šçš„ï¼Œç®€å•è¯´ä¸€ä¸‹ HORIZONå‰ç«¯Webç®¡ç†ç•Œé¢ï¼ŒåŒ…æ‹¬DashboardæŽ§ä»¶å±•ç¤ºï¼Œä¾¿äºŽç”¨æˆ·å¯¹ç›¸å…³æœåŠ¡è¿›è¡Œæ“ä½œ NOVAè®¡ç®—æœåŠ¡,åº”è¯¥æ˜¯ç®¡ç†è®¡ç®—èµ„æºçš„ç»„ä»¶ï¼Œæä¾›ç›¸åº”çš„ç®¡ç†æœåŠ¡ NEUTRONæä¾›äº‘è®¡ç®—çš„ç½‘ç»œè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œä¸ºOpenStackå…¶ä»–æœåŠ¡æä¾›ç½‘ç»œè¿žæŽ¥æœåŠ¡ï¼Œå®žçŽ°SDN SWIFTSwiftæ˜¯é«˜å¯ç”¨ã€åˆ†å¸ƒå¼ã€æœ€ç»ˆä¸€è‡´æ€§çš„å¯¹è±¡å­˜å‚¨ï¼Œå…·ä½“æ–‡ä»¶å¯¹è±¡ CINDERå—å­˜å‚¨æœåŠ¡ï¼Œæ›´åƒæ˜¯ç¡¬ç›˜ï¼Œæ•°æ®å· KEYSTONEè®¤è¯æœåŠ¡ï¼Œæ”¯æŒLDAP Oauth OpenIDç­‰ GLANCEé•œåƒæœåŠ¡ï¼Œä¸é€šçš„æ“ä½œç³»ç»Ÿé•œåƒ HEATç¼–æŽ’æž¶æž„èµ„æº ä¸é€šåœºæ™¯ä¸­éœ€è¦ä¸é€šçš„æœåŠ¡æ¥æž„å»ºï¼Œå¯ä»¥å‚è€ƒsample configurations What is the relationship between Docker and OpenStack![](/images/post/20181011/docker openstack.png) Docker ä¸»è¦é’ˆå¯¹ Paas å¹³å°ï¼Œæ˜¯ä»¥åº”ç”¨ä¸ºä¸­å¿ƒã€‚ OpenStack ä¸»è¦é’ˆå¯¹ Iaas å¹³å°ï¼Œä»¥èµ„æºä¸ºä¸­å¿ƒï¼Œå¯ä»¥ä¸ºä¸Šå±‚çš„ PaaS å¹³å°æä¾›å­˜å‚¨ã€ç½‘ç»œã€è®¡ç®—ç­‰èµ„æºã€‚ è¿™ä¸ªè¯é¢˜å…ˆå¼€ä¸ªå¤´ï¼ŒåŽé¢æœ‰æœºä¼šå†ç»§ç»­æ·±å…¥å§ã€‚]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>openstack</tag>
        <tag>cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘çš„OKR(2018.10)]]></title>
    <url>%2F2018%2F09%2F29%2Fokr%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘é‡æ¸©å´å†›è€å¸ˆçš„ç¡…è°·æ¥ä¿¡ï¼Œæƒ³èµ·äº†Googleäººå‘˜é‡‡ç”¨çš„ç›®æ ‡ç®¡ç†æ–¹æ³•OKR(Objectives and Key Results)å…¨ç§°ä¸ºâ€œç›®æ ‡å’Œå…³é”®æˆæžœâ€ã€‚å´å†›è€å¸ˆåœ¨å…¶ç¡…è°·æ¥ä¿¡114å°ä¿¡ä¸­åˆ†äº«äº†è¿™ä¸ªæ–¹æ³•ï¼ˆä¸ä»…å¯ä»¥ç”¨äºŽå·¥ä½œä¹Ÿå¯ä»¥ç”¨äºŽè‡ªå·±çš„ç”Ÿæ´»ï¼‰å¹¶ç»“åˆä»–ä¸ªäººçš„2017å¹´ç›®æ ‡åšäº†é˜è¿°ã€‚è¿™ä¹Ÿä½¿æˆ‘äº§ç”Ÿäº†åŒæ ·å¿µå¤´ï¼Œç”¨OKRæ–¹å¼ç®¡ç†æˆ‘è‡ªå·±çš„ç›®æ ‡ã€‚ åˆè¡·å’Œç†è§£æˆ‘å¸Œæœ›æˆ‘å¯ä»¥ä¸æ–­è¿›æ­¥ï¼Œå¯ä»¥ç”¨æ›´ä¸ºæœ‰æ•ˆæ–¹å¼ä½¿è‡ªå·±èŽ·å¾—æˆé•¿ï¼Œè€Œå¯¹OKRç›®æ ‡ç®¡ç†åˆæ­¥äº†è§£ä¸‹æ¥ï¼Œæˆ‘è®¤ä¸ºæ˜¯åˆé€‚æˆ‘çš„æƒ³æ³•ã€‚ OKRçš„ç›®æ ‡åˆ¶å®šä¸€èˆ¬æ˜¯éœ€è¦ä¸€äº›æŒ‘æˆ˜æ€§çš„ï¼Œè¿™æ ·æ‰èƒ½è¾¾åˆ°è‡ªæˆ‘æå‡çš„ç›®çš„ï¼Œæˆ‘ä¹Ÿå°†é€æ­¥åŠ å¤§ç›®æ ‡è¾¾æˆçš„éš¾åº¦ï¼ŒåŒæ—¶å¼€å§‹ä¹Ÿå¯èƒ½ä¼šæœ‰äº›è®¾å®šä¸åˆç†ã€‚ å…¶æ¬¡ï¼Œç›®æ ‡ä¸èƒ½å¤ªå¤šï¼Œå¦åˆ™éš¾ä»¥é›†ä¸­æ³¨æ„åŠ›ï¼Œä¸€èˆ¬åœ¨5ä¸ªä»¥å†…ã€‚ æ—¶é—´ä¸æ˜“å¤ªé•¿æˆ–å¤ªçŸ­ï¼Œå¤ªçŸ­éš¾ä»¥å®žçŽ°æœ‰æŒ‘æˆ˜æ€§çš„ç›®æ ‡ã€‚å¤ªé•¿è¿‡ç¨‹æœ‰å¯èƒ½æœ‰å¤ªå¤šä¸ç¡®å®šæ€§çš„äº‹æƒ…æ‰“ç ´åŽŸæœ‰çš„è®¡åˆ’ï¼Œä½¿å¾—åˆ¶å®šæ„ä¹‰å‡å¼±ã€‚æ‰€ä»¥å€Ÿé‰´Googleçš„åšæ³•ï¼Œåˆ¶å®šå­£åº¦OKRã€‚ å­£åº¦ OKRæ­£å¥½ä¹æœˆåº•äº†ï¼Œ10æœˆå¼€å§‹æ­£å¥½æ˜¯2018å¹´æœ€åŽä¸€ä¸ªå­£åº¦ï¼Œä¹Ÿå°†æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªOKRå­£åº¦ã€‚ ç›®æ ‡ä¸€ è‹±è¯­æµåˆ©è¯´å­¦ä¹ è¾¾æ ‡è¿‘æœŸå‚åŠ äº†è‹±è¯­æµåˆ©è¯´ä»˜è´¹è¯¾ç¨‹ï¼Œæå‡è‡ªå·±çš„å£è¯­èƒ½åŠ›ï¼Œä¹Ÿæ˜¯è¿‘æœŸä¸»è¦çš„å­¦ä¹ å†…å®¹ã€‚ è¿žç»­æ‰“å¡ï¼Œæ¯å¤©å­¦ä¹ æ—¶é—´å¹³å‡ä¸ä½ŽäºŽ70åˆ†é’Ÿ æ‰€æœ‰è¯¾ç¨‹åˆ†æ•°ä¸ä½ŽäºŽ3é¢—æ˜ŸðŸŒŸï¼ˆæ»¡æ˜Ÿ4é¢—ï¼‰ æµåˆ©è¯´è¯„å®šçš„å£è¯­ç­‰çº§ä¸Šå‡ä¸€çº§ã€‚ï¼ˆæŒ‰ç…§å½“å‰è¿›åº¦åº”è¯¥å¯ä»¥åšåˆ°ï¼‰ é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è¿˜åœ¨å¾—åˆ°APPä¸Šè´­ä¹°äº†ã€Šå´å†›çš„è°·æ­Œæ–¹æ³•è®ºã€‹å’Œã€Šé¦™å¸…çš„åŒ—å¤§é‡‘èžå­¦è¯¾ã€‹è¿™ä¸ªå­¦ä¹ ä¹Ÿä¼šä¿æŒï¼Œä½†è¿™ä¸ªåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆæŒ‘æˆ˜äº†ã€‚ ç›®æ ‡äºŒ æ·±å…¥ä¸€ä¸ªè®¡ç®—æœºä¸­çš„æµè¡ŒæŠ€æœ¯å­¦ä¹ æŽŒæ¡å¹¶æ·±å…¥ä¸€ä¸ªæµè¡Œçš„è®¡ç®—æœºæŠ€æœ¯ æ·±å…¥äº†è§£å’ŒæŽŒæ¡ Kubernets è¿™æ˜¯æˆ‘æœ€è¿‘æœ€æƒ³æŽŒæ¡çš„ä¸€ä¸ªæŠ€æœ¯ã€‚é™¤æ­¤ä¹‹å¤–æˆ‘è¿˜ä¼šä¸å®šæœŸæ›´æ–°ä¸ªäººgithubä¸­çš„ä¸€äº›å°ä¾‹å­ï¼Œæ¥è®°å½•æˆ‘é›¶ç¢Žçš„æŠ€æœ¯æ€»ç»“ã€‚ ç›®æ ‡ä¸‰ çœ‹å®Œä¸€æœ¬éžè®¡ç®—æœºç±»ä¹¦æˆ‘çš„ä¹¦å•å·²ç»åˆ—äº†å¾ˆä¹…ã€å¾ˆå¤šäº†ï¼Œæ˜¯éœ€è¦èŠ±äº›æ—¶é—´çœ‹çœ‹ä¹¦äº† çœ‹å®Œèµ«æ‹‰åˆ©çš„ã€Šä»Šæ—¥ç®€å²ã€‹ï¼Œçœ‹çœ‹éƒ½æå‡ºäº†ä»€ä¹ˆé—®é¢˜ å› ä¸ºæ—¶é—´åŽŸå› ï¼Œè¿™ä¸ªç›®æ ‡å¯èƒ½æœ€éš¾å®Œæˆã€‚ä¹‹å‰æŠŠèµ«æ‹‰åˆ©çš„ã€Šäººç±»ç®€å²ã€‹çœ‹å®Œäº†ï¼Œã€Šæœªæ¥ç®€å²ã€‹çœ‹äº†ä¸€éƒ¨åˆ†ï¼Œçœ‹ä¸ä¸‹åŽ»äº†ï¼Œå†æ‰¾æ—¶é—´å§ã€‚è€Œã€Šä»Šæ—¥ç®€å²ã€‹ä¸­çš„å½“ä»Šé—®é¢˜ä½¿æˆ‘æ¯”è¾ƒæ„Ÿå…´è¶£çš„ï¼Œæƒ³è¯»è¯»ï¼Œä¹Ÿç®—æ˜¯æŠŠèµ«æ‹‰åˆ©çš„è‘—ä½œéƒ½çœ‹äº†çœ‹ã€‚é¢˜å¤–è¯ï¼Œè¿‘åŠå¹´è¿˜çœ‹äº†ä¸¤ä¸ªå°è¯´ã€Šå‰¯æœ¬ã€‹å’Œã€Šå¤´å·çŽ©å®¶ã€‹è¿™ä¸¤ä¸ªéƒ½æœ‰å¯¹åº”çš„å½±è§†ä½œå“ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹ï¼Œçº¯å½“æ¶ˆé£ã€‚ ç›®æ ‡å›› é”»ç‚¼èº«ä½“ï¼Œä¿æŒèº«ä½“å¥åº·å¤©æ°”è½¬å‡‰ï¼Œç»ˆäºŽå¯ä»¥é”»ç‚¼èº«ä½“äº†ï¼Œå¤©æ°”çƒ­æ—¶çœŸçš„æ˜¯æ‡’å¾—åŠ¨ï¼Œæžçˆ±å‡ºæ±—çš„æˆ‘æ›´å–œæ¬¢å†¬å¤©ã€‚ æ¯å‘¨ç”¨Keepï¼ˆä¸€ä¸ªå¥èº«APPï¼‰ä¸å°‘äºŽ2æ¬¡ï¼Œ æ¯å‘¨ è·‘æ­¥ä¸å°äºŽ3å…¬é‡Œï¼ˆæˆ‘çŸ¥é“è¿™ä¸ªç›®æ ‡å®šä½Žäº†ä¸€äº›ï¼Œæˆ‘éœ€è¦å…ˆé€‚åº”ä¸€ä¸‹ï¼‰ æ¯æ—¥ç¡çœ ï¼ˆåŒ…å«åˆä¼‘ï¼‰ä¸å°‘äºŽ7ä¸ªå°æ—¶ã€‚ è¿™ä¸ªä¼°è®¡éš¾åº¦ä¹Ÿä¸å°ï¼Œæˆ‘å¯ä»¥æ”¯é…çš„æ—¶é—´å¤ªæœ‰é™äº†ï¼ŒçŽ°åœ¨æ™šä¸Šç¡çœ å¹³å‡å°äºŽ6å°æ—¶ï¼Œå¾ˆå°‘è¿åŠ¨ï¼Œè¿™æ˜¯æˆ‘ç²¾åŠ›æœ‰äº›ç–²å€¦ï¼Œæ‰€ä»¥éœ€è¦æ”¹å˜ä¸€ä¸‹ã€‚ ç›®æ ‡äº” é™ªå­©å­Family is firstï¼Œæˆ‘ä¸€ç›´æé†’è‡ªå·±ï¼Œå­©å­åˆæ˜¯å…¶ä¸­æœ€å…³é”®çš„ã€‚ æ¯æ—¥è‡³å°‘ç”¨åŠä¸ªå°æ—¶ä¸Žå­©å­åšæœ‰æ•ˆæ²Ÿé€šï¼Œäº†è§£ä¸€å¤©çš„æƒ…å†µæˆ–è®¨è®ºä¸€ä¸ªå°äº‹æƒ… å¹³å‡æ¯å‘¨ç”¨å®Œæ•´çš„3ä¸ªå°æ—¶é™ªå­©å­åšäº›æœ‰æ„ä¹‰æˆ–è€…æœ‰è¶£çš„äº‹æƒ…ï¼ŒåŒ…å«æˆ·å¤–æ´»åŠ¨ç­‰ã€‚ äº”ä¸ªç›®æ ‡ï¼Œä¸å¤šä¸å°‘ï¼Œå¸Œæœ›å¯ä»¥åœ¨ä¸‹é¢ä¸€ä¸ªå­£åº¦éƒ½å¯ä»¥åšåˆ°ã€‚ å¹´åº¦ OKRç´¢æ€§å†åˆ—å‡ ä¸ªå¹´åº¦çš„OKRå§ï¼Œå¸Œæœ›åŽé¢ä¸€å¹´å¯ä»¥åšåˆ° ç›®æ ‡ä¸€ ä»˜è´¹è¯¾ç¨‹å­¦ä¹  è´­ä¹°ä»˜è´¹è¯¾ç¨‹ï¼Œå…¨å¹´ä¸å°‘äºŽä¸‰é—¨ï¼Œå¹¶å®Œæˆå­¦ä¹ å†…å®¹ ç›®æ ‡äºŒ è¯»ä¹¦ è¯»éžè®¡ç®—æœºç±»ã€éžå°è¯´ç±»ä¹¦ï¼Œå…¨å¹´ä¸å°‘äºŽ5æœ¬ã€‚ ç›®æ ‡ä¸‰ è‹±è¯­å£è¯­ å®Œæˆæµåˆ©è¯´å£è¯­ä»˜è´¹è¯¾ç¨‹å†…å®¹ æŒ‰ç…§æµåˆ©è¯´æ ‡å‡†ï¼Œè¾¾åˆ°Level 6çº§æˆ–ä»¥ä¸Š å½“ç„¶è¿˜æœ‰å·¥ä½œä¸Šçš„ä¸€äº›ç›®æ ‡ï¼Œè¿™é‡Œå°±è¯¦è¿°äº†ã€‚ åˆ—å‡ºè¿™äº›å’Œå¤§å®¶åˆ†äº«ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç£ä¿ƒè‡ªå·±ï¼Œå¦‚æžœä½ ä¹Ÿæ„Ÿå…´è¶£ï¼Œä¸å¦¨è¯•è¯•ã€‚å¦‚æœ‰å¥½çš„å»ºè®®å’Œæƒ³æ³•æ¬¢è¿Žç•™è¨€ï¼Œè°¢è°¢ï¼ I wanna improve myself, better late than never. OKRå‚è€ƒæ–‡ç« ]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>OKR</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java 11]]></title>
    <url>%2F2018%2F09%2F27%2FJava-11%2F</url>
    <content type="text"><![CDATA[æ˜¨å¤©å¾—çŸ¥Java 11å‘å¸ƒã€‚è¯·å…è®¸æˆ‘è¯´ï¼šæˆ‘çš„å¤©å•Šï¼Œç«Ÿç„¶Java 11äº†ã€‚ è¿žJava 8è¿˜æ²¡æœ‰å®Œå…¨ç†Ÿç»ƒä½¿ç”¨çš„æˆ‘ï¼Œä¸€æ—¶é—´æœ‰ç‚¹ææƒšã€‚ è¿‘æœŸï¼ŒJavaæ›´æ–°å¦‚æ­¤é¢‘ç¹ï¼Œè®©äººæœ‰ç‚¹åº”æŽ¥ä¸æš‡ï¼Œæ–°çš„featureså±‚å‡ºä¸ç©·ï¼Œè€Œæˆ‘ä»¬åˆçœŸçš„å­¦ä¹ ä½¿ç”¨äº†å‡ ä¸ªå‘¢ï¼Ÿ åæ­£æˆ‘åªç”¨äº†ä¸€å°éƒ¨åˆ†å§ã€‚è¿™é‡Œä¸åˆ—ä¸¾Java 8ä¹‹åŽå„ä¸ªç‰ˆæœ¬ä¸­çš„featuresäº†ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡ŒGoogleã€‚ è¿™é‡Œåªæƒ³è¯´ï¼šJavaä½œä¸ºç”Ÿå‘½åŠ›æžå¼ºçš„å¤§åž‹æœåŠ¡ç±»å¼€å‘è¯­è¨€ï¼ŒOracleå¥½åƒåœ¨ç»™å…¶æ³¨å…¥æ–°çš„æ´»åŠ›ï¼Œä¹Ÿåœ¨æ‰“ç ´JavaåŽŸæœ‰çš„å¢¨å®ˆé™ˆè§„ã€‚æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒçš„å¾ˆå¤šæ–°ç‰¹æ€§æ˜¯æºäºŽè¿™ä¸ªæ—¶ä»£æŠ€æœ¯çš„å‘å±•ï¼Œä¹Ÿæœ‰å¾ˆå¤šå€Ÿé‰´äº†å…¶å®ƒè¯­è¨€çš„ç‰¹æ€§ï¼Œåœ¨â€æ(da)å‡(po)â€åŽŸæœ‰çš„è¯­æ³•ç»“æž„æ–¹å¼ç»™ç”¨æˆ·å¸¦æ¥æ–°çš„å¼€å‘ä½“éªŒã€‚è¿™ä¹Ÿæ˜¯åœ¨æ»¡è¶³æ–°åŠ å…¥Javaä¸–ç•Œçš„å¼€å‘è€…ï¼Ÿ ä¸çŸ¥Javaè€ç¨‹åºå‘˜å¦‚ä½•æ„Ÿå—ï¼Œå°±æˆ‘è€Œè¨€ï¼Œæˆ‘æ›´å–œæ¬¢ä¸æ–­æ›´æ–°ï¼Œè™½ç„¶æœ€è¿‘æ›´æ–°ç¡®å®žæœ‰ç‚¹é¢‘ç¹äº†ã€‚ å½“ç„¶é™¤äº†è¯­æ³•ç‰¹æ€§çš„æ”¹å˜æ„å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šåº•å±‚ç»“æž„çš„æ”¹è¿›ï¼Œå½“ç„¶è¿™æ‰æ˜¯å…¶æ ¸å¿ƒã€‚ä¾‹å¦‚ç±»åº“å‘å±•ã€æ¨¡å—åŒ–ç®¡ç†ã€å®‰å…¨ç‰¹æ€§ä¸Žè¡¥ä¸ã€æ–°çš„JVM GCã€è„šæœ¬åŒ–ã€é»‘åŒ£å­(JFR)ç­‰ã€‚ è¯•è¯•ä¸ï¼ŸJava 9 å’Œ 10 ç®€ç›´å°±æ˜¯ä¸€é—ªè€Œè¿‡ï¼Œå°è±¡ä¸­å¥½åƒå°±ä¸€ä¸¤ä¸ªå°ç‰ˆæœ¬å·ï¼Œè€ŒJava 11 ä¸åŒäº†ï¼Œå®ƒå¯æ˜¯LTSã€‚Oracleå®˜æ–¹æ‰¿è¯ºå¯¹å…¶ä¼šæœ‰æŒç»­çš„updateæ›´æ–°ã€‚åŒæ—¶å¤§å®¶æ·±çˆ±çš„Java 8é©¬ä¸Šå°±è¦ä¸æ›´æ–°äº†ï¼Œæ‰€ä»¥è¿™æ¬¡çœŸçš„å¯ä»¥å°è¯•è¿›è¡ŒJDKä¼ä¸šçº§åˆ‡æ¢äº†ã€‚ ä¸ªäººæ„Ÿè§‰Java æ¯åŠå¹´æ›´æ–°çš„æ–¹å¼ï¼Œçœ‹æ¥è¦æ­¢ä½å…¶è¯­è¨€å‘å±•çš„é¢“åŠ¿ï¼Œé‡æ–°å´›èµ·äº†ã€‚Javaä½œä¸ºä¸»è¦çš„å¼€å‘è¯­è¨€è¿˜æ˜¯å€¼å¾—å¤§å®¶æŠ€æœ¯æŠ•å…¥çš„ã€‚å°ä¼™ä¼´ä»¬è·Ÿä¸Šè¿™æ³¢æ›´æ–°å§ã€‚åŽé¢æˆ‘ä¹Ÿå¸Œæœ›å¤šå°è¯•JDKæ–°çš„å¼€å‘ç‰¹æ€§ã€‚ ä½ çš„æ„Ÿè§‰å‘¢ï¼Ÿ å‚è€ƒç½‘ç«™ infoq]]></content>
      <categories>
        <category>tech</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Restart]]></title>
    <url>%2F2018%2F09%2F26%2Fnote%2F</url>
    <content type="text"><![CDATA[å°è¯•é‡æ–°å¼€å§‹å°è¯•é‡å¯è¿™ä¸ªblogï¼Œå› ä¸ºæœ‰è¶Šæ¥è¶Šå¤šçš„æ–‡å­—éœ€è¦è®°å½•ï¼Œä¹Ÿæƒ³åˆ†äº«ï¼Œè€Œåœ¨githubä¸Šçš„README.mdæ–‡ä»¶ä¸­å†™åˆæ˜¾ç„¶ä¸åˆé€‚ã€‚æ‰€ä»¥é‡æ–°å¯ç”¨è¿™ä¸ªå·¥ç¨‹å¼€å§‹æ•´ç†è‡ªå·±çš„éšç¬”ã€‚ åŒæ—¶ï¼Œå‡ ä¸ªæœˆå‰å¼€å§‹æ›´æ–°è‡ªå·±çš„githubå·¥ç¨‹ï¼Œä¸»è¦å›´ç»•ä¸‰ä¸ªé¡¹ç›®ï¼š Java Tech Javaç›¸å…³æŠ€æœ¯ Python Tech Pythonç›¸å…³æŠ€æœ¯ CICD Tech CI/CD DEV/OPSç›¸å…³æŠ€æœ¯ ç»´æŠ¤è¿™ä¸‰ä¸ªå·¥ç¨‹ä¸»è¦ç›®çš„åœ¨äºŽï¼š å¸®åŠ©è‡ªå·±æ€»ç»“æ‰€å­¦ï¼Œæ—¶é—´é•¿äº†å¾ˆå®¹å·²å¿˜è®° æœ¬äººä½¿ç”¨çš„æŠ€æœ¯ç»å¤§éƒ¨åˆ†æœ¬æ¥å°±æ˜¯å…¬å¼€çš„ï¼Œä¹Ÿå¸Œæœ›ä»ŠåŽå¯ä»¥å¸®åˆ°å…¶ä»–äººã€‚ æ‰€ä»¥åœ¨æ‰€æœ‰é¡¹ç›®æˆ–è€…ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘å°½å¯èƒ½è¯´æ˜Žè¯¦ç»†ï¼Œå¹¶ç»™å‡ºæˆ‘æ‰€å¼•ç”¨çš„åŽŸåœ°å€è€Œè¿˜æ˜¯æœ‰å¾ˆå¤šæ€è·¯ä¸Šçš„å†…å®¹éœ€è¦è®°å½•ä¸‹æ¥ï¼Œæ‰€ä»¥æƒ³åœ¨è¿™é‡Œè®°å½•ï¼Œæ­¤blogä¹Ÿå°†å›´ç»•æˆ‘çš„æŠ€æœ¯é¢†åŸŸå±•å¼€ã€‚ ä¸ºä½•é‡æ–°å¼€å§‹ä½œä¸ºè®¡ç®—æœºå¼€å‘å·¥ç¨‹å¸ˆï¼Œæœ¬äººç¦»å´å†›è€å¸ˆæ‰€å®šä¹‰çš„å››çº§å·¥ç¨‹å¸ˆæ°´å¹³ï¼ˆè¯¦è§è°·æ­Œæ¥ä¿¡ä¸­çš„å®šä¹‰ï¼‰è¿˜æœ‰ä¸å°‘å·®è·ï¼Œè€Œæˆ‘å¸Œæœ›å¯ä»¥åšåˆ°ã€‚å”¯ä¸€çš„æ–¹æ³•æ˜¯ä¸æ–­ç§¯ç´¯ã€‚è¿™é‡Œçš„é‡æ–°å¼€å§‹æ˜¯ç»™è‡ªå·±è®¾å®šäº†ä¸€ä¸ªç›®æ ‡ï¼Œä¸€ä¸ªæ”¹å˜è‡ªå·±çš„ç›®æ ‡ï¼Œé‡æ–°å¼€å§‹å‘æ–°çš„ç›®æ ‡å‰è¿›ã€‚ ç¥æ‰€æœ‰å·¥ç¨‹å¸ˆå¥½è¿ï¼]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>others</tag>
      </tags>
  </entry>
</search>
